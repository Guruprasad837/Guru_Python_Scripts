/***************************************************************************************************
 * Licensed Materials - Property of IBM 
 * (c) Copyright IBM Corporation 2016, 2024. All Rights Reserved.
 * 
 * Note to U.S. Government Users Restricted Rights: Use, duplication or disclosure restricted by GSA
 * ADP Schedule Contract with IBM Corp.
 **************************************************************************************************/
define("common/resizable-dialog",function(){var a={resizableDialogId:0,resizableListId:1,resizableDialogTrace:!1,handleDialogResize:function(a,b){b=b||{};var c=$(a);if(c.data("resizeOptions",b),!c.attr("data-resizeState")){c.attr("data-resizeState","firstTime");var d=!0;c.attr("data-resizeUseCoords",d?"client":"screen");var e=c.attr("data-resizeInitListHeight"),f=e?parseInt(e):100;c.attr("data-resizeMinListHeight",f),c.attr("data-resizeMaxListHeight",f),this.resizableDialogTrace&&(this.resizableDialogId++,c.attr("data-resizeDialogId",this.resizableDialogId));var g=this;setInterval(function(){var a=c.attr("data-wasVisible");if(c.is(":visible")){if(!a){c.attr("data-wasVisible","true");var b=null;c.find(":input").each(function(a){return $(this).is(":visible")?(b=$(this),!1):void 0}),b&&b.focus()}g._resizeDialogHeartBeat(c)}else a&&c.attr("data-wasVisible",null)},250);var h=c.find(".resizable-handle");h.on("mousedown",c,this._resizeHandleMouseDown)}},_resizeDialogHeartBeat:function(b){if("firstTime"===b.attr("data-resizeState")){b.attr("data-resizeMinWidth",b.parent().width()),b.attr("data-resizeMinHeight",b.parent().height()),b.attr("data-resizeState","idle");var c=b.attr("data-resizeDialogId");c&&console.info("Resize - dialog "+c+" is visible for the first time."),c&&console.info("Resize - dialog "+c+" start mousemove listener"),document.addEventListener("mousemove",function(c){a._handleResizingEvent(c,b)},!0)}a._findEmbeddedSelectLists(b)},_handleResizingEvent:function(b,c){var d=c.attr("data-resizeState");if(c.is(":visible")&&"idle"!==d){var e=c.attr("data-resizeDialogId");if(0===b.buttons)c.attr("data-resizeState","idle"),e&&console.info("Resize - dialog "+e+" is complete;  width="+c.width()+"  height="+c.height());else{var f="client"===c.attr("data-resizeUseCoords"),g=parseInt(c.attr("data-resizeMinWidth")),h=parseInt(c.attr("data-resizeMinHeight")),i=parseInt(c.attr("data-resizeStartX")),j=parseInt(c.attr("data-resizeStartY")),k=parseInt(c.attr("data-resizeStartWidth")),l=(parseInt(c.attr("data-resizeStartHeight")),c.data("resizeOptions"));l.nonModal&&(g=k);var m,n,o,p,q=c.parent().width(),r=c.parent().height();f?(m=b.clientX,n=b.clientY,o=b.view.innerWidth-20,p=b.view.innerHeight-20):(m=b.screenX,n=b.screenY,o=b.view.screenX+b.view.outerWidth-20,p=b.view.screenY+b.view.outerHeight-20);var s=o>m?m:o,t=p>n?n:p,u=s-i,v=t-j,w=!1;if(w&&e&&console.info("Resize - dialog "+e+"  mouse=("+m+","+n+")  mouseMax=("+o+","+p+")  start=("+i+","+j+")  current=("+s+","+t+")  delta=("+u+","+v+")"),0!==u&&q+u>=g||0!==v&&r+v>=h){var x=parseInt(c.attr("data-resizeMinListHeight")),y=0,z=a._findEmbeddedSelectLists(c);z.each(function(a){var b=$(this);if(b.is(":visible")){var c=b.attr("data-resizeListId");b.hasClass("resource-subtypes")&&b.css("max-height","none");var d=v,e=parseInt(b.attr("data-resizeStartListHeight"));x>e+d&&(d=x-e);var f=e+d,g=b.parent().parent();g.hasClass("tree-select")&&(b=g),b.height(f),f>y&&(y=f),c&&console.info("Resize - dialog/list "+c+"  StartHeight="+e+"  height="+f)}}),y>=x&&c.attr("data-resizeMaxListHeight",y);var A=k+u;"resizeE"===d?A>=g&&A!=k&&c.width(A):"resizeSE"===d&&A>=g&&A!=k&&c.width(A)}}}},_resizeHandleMouseDown:function(b){var c=b.data,d="client"===c.attr("data-resizeUseCoords"),e=null;$(this).hasClass("resizable-e")?e="resizeE":$(this).hasClass("resizable-s")?e="resizeS":$(this).hasClass("resizable-se")&&(e="resizeSE"),e&&c.attr("data-resizeState",e),d?(c.attr("data-resizeStartX",b.clientX),c.attr("data-resizeStartY",b.clientY)):(c.attr("data-resizeStartX",b.screenX),c.attr("data-resizeStartY",b.screenY)),c.attr("data-resizeStartWidth",c.width()),c.attr("data-resizeStartHeight",c.height());var f=a._findEmbeddedSelectLists(c);f.each(function(a){var b=$(this),c=b.height(),d=b.parent().parent();d.hasClass("tree-select")&&(c=d.height()),b.attr("data-resizeStartListHeight",c)})},_findEmbeddedSelectLists:function(b){var c=parseInt(b.attr("data-resizeMinListHeight")),d=parseInt(b.attr("data-resizeMaxListHeight")),e=b.find(".filter-select-item-list, .resource-subtypes").not(".filter-select-all-list").not(".filter-subtypes-list").not(".filter-select-item-list .filter-select-item-list").not(".resource-subtypes .filter-select-item-list");return e.each(function(e){if($(this).is(":visible")&&!$(this).attr("data-resizeListInit")){var f=$(this),g=$(this).parent().parent();g.hasClass("tree-select")&&(f=g,g.css("max-height","none"),g.find(".filter-select-item-list").each(function(){$(this).css("height","auto")}));var h=f.height();h>d?h=d:c>h&&(h=c),$(this).attr("data-resizeListInit",!0),f.height(h);var i=b.attr("data-resizeDialogId");if(i&&!$(this).attr("data-resizeListId")){var j=a.resizableListId++,k=i+"-"+j;$(this).attr("data-resizeListId",k)}}}),e}};return a});