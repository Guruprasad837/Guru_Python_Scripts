/***************************************************************************************************
 * Licensed Materials - Property of IBM Â© Copyright IBM Corporation 2014, 2020. All Rights Reserved.
 * 
 * Note to U.S. Government Users Restricted Rights: Use, duplication or disclosure restricted by GSA
 * ADP Schedule Contract with IBM Corp.
 **************************************************************************************************/
define(["./report-parameter","common/htmlUtils"],function(a,b){return function(c){var d=new a(c);return d.start=function(){this.$paramContent.addClass("jrs-param-outer"),this.textControl=this.templates.$inflate("_textKindContent"),this.textControl.keyup(function(b){if("13"==b.keyCode)d._config.inlineRun&&d._config.inlineRun();else{if(""===this.value)return d.updateRequired(!0),d.updateWarning(!0),d.$paramValues.html(a.prototype.formatDisplayValues.call(d,this.value)),!1;d.updateRequired(!1),d.updateWarning(!1);var c=d.getDisplayValues([this.value]);d.$paramValues.html(a.prototype.formatDisplayValues.call(d,c))}}),this.contents(this.textControl);var b=this;return this.on(a.Events.FilterCreated,function(a){"contains"!==b._rptParam.filterOperator&&"does not contain"!==b._rptParam.filterOperator&&$(b.textControl[2]).remove()}),this},d.getValues=function(a){if(this._rptParam.constantValue)return $.isArray(this._rptParam.constantValue)?this._rptParam.constantValue:[this._rptParam.constantValue];var c=this.textControl.val();return c=b.decodeHtml(c),c?[c]:null},d.getDisplayValues=function(a,c){var d=c||this.getValues(a);return d=b.encodeHtml(d)},d.setSelectedValues=function(b){a.prototype.setSelectedValues.apply(this,[b]),this.textControl.val(b&&b.length>0?b[0]:"")},d}});