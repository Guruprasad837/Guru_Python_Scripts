
;dojo.provide("com.ibm.jdojo.util.Assert");
(function(){
function _1(_2,_3,_4){
if(!_2){
_5("Illegal Argument",_3,_4);
}
};
function _6(_7,_8,_9){
if(_7==null){
_5("Assertion Failed (null element)",_8,_9);
}
};
function _a(_b,_c,_d){
if(!_b){
_5("Assertion Failed",_c,_d);
}
};
function _e(_f,_10){
};
function _11(_12){
_1(dojo.isArray(_12),"Expecting '[]' but got '"+_12+"'");
};
function _13(_14,_15){
_5("Assertion Failed",_14,_15);
};
function _5(_16,_17,_18){
var _19=_16;
if(dojo.isString(_17)){
_19+=": '"+_17+"'";
}
if(dojo.isString(_18)){
_19+=" (@"+_18+")";
}
console.error(_19);
if(this.djConfig&&this.djConfig.isDebug){
throw new Error(_19);
}
};
dojo.mixin(com.ibm.jdojo.util.Assert,{isLegal:_1,isNotNull:_6,isTrue:_a,isArray:_11,isInstanceOf:_e,fail:_13});
})();


;dojo.provide("com.ibm.team.rtc.foundation.web.ui.componentmenu.LazyLoadedComponentMenu");










(function(){
var _1=com.ibm.jdojo;
var _2=_1.lang.Runtime;
var _3=_1.util.Assert;
var _4=jazz.app._ComponentMenu;
var _5=jazz.core.loader;
dojo.declare("com.ibm.team.rtc.foundation.web.ui.componentmenu.LazyLoadedComponentMenu",_4,{constructor:function(){
this._loaded=(new (require("dojo/Deferred")));
},getWrappedType:function(){
_3.isTrue(false,"Abstract method 'getWrappedType' invoked");
},postCreate:function(){
this.inherited("postCreate",arguments,[]);
this.addLoading();
var _6=this.getWrappedType();
_5.load_async(_6,dojo.hitch(this,function(){
this._wrappedInstance=this.own(_2.newInstance(dojo.getObject(_6)))[0];
dojo.place(this._wrappedInstance.domNode,this.domNode,"only");
var _7=this._wrappedInstance["onExecute"];
this._wrappedInstance["onExecute"]=dojo.hitch(this,function(){
if(_7!=null){
_7.apply(this,[]);
}
this.onExecute();
});
this._loaded.resolve(null);
}));
},onOpen:function(){
this._loaded.then(dojo.hitch(this,function(_8){
this._wrappedInstance.onOpen();
return _8;
}));
}});
})();


;dojo.provide("com.ibm.team.apt.web.ui.internal.page.LazyPlanningComponentMenu");


(function(){
var _1=com.ibm.team.rtc.foundation.web.ui.componentmenu.LazyLoadedComponentMenu;
dojo.declare("com.ibm.team.apt.web.ui.internal.page.LazyPlanningComponentMenu",_1,{getWrappedType:function(){
return "com.ibm.team.apt.web.ui.internal.page.PlanningComponentMenu";
}});
})();


;dojo.provide("com.ibm.team.apt.api.common.ItemType");
(function(){
var _1=dojo.declare("com.ibm.team.apt.api.common.ItemType",null,{constructor:function(_2,_3){
this.qName=_2;
this.fIsCompability=_3;
},getQualifiedName:function(){
return this.qName;
},isOslcResource:function(){
return this.fIsCompability;
},getNamespace:function(){
var _4=this.qName.indexOf(":")+1;
var _5=this.qName.indexOf(":",_4);
return this.qName.substring(_4,_5);
},getName:function(){
var _6=this.qName.lastIndexOf(":");
return this.qName.substring(_6+1);
},compareTo:function(_7){
return this.ordinal-_7.ordinal;
}});
_1.fromString=function(_8){
var _9=_1.parsePositiveInt(_8);
if(_9!==-1){
if(_9>=_1.values.length){
return _1.$UNKNOWN;
}
return _1.values[_9];
}
var _a=_1.values;
var _b=_a.length;
for(var _c=0;_c<_b;_c++){
var _d=_a[_c];
if((_d.qName===_8)){
return _d;
}
}
return _1.$UNKNOWN;
};
_1.parsePositiveInt=function(_e){
var _f=0;
for(var i=0;i<_e.length;i++){
_f*=(i*10);
switch(_e.charAt(i)){
case "0":
break;
case "1":
_f+=1;
break;
case "2":
_f+=2;
break;
case "3":
_f+=3;
break;
case "4":
_f+=4;
break;
case "5":
_f+=5;
break;
case "6":
_f+=6;
break;
case "7":
_f+=7;
break;
case "8":
_f+=8;
break;
case "9":
_f+=9;
break;
default:
return -1;
}
}
return _f;
};
_1.values=[dojo.mixin(new _1("item:unknown:$UNKNOWN",false),{name:"$UNKNOWN",ordinal:0}),dojo.mixin(new _1("item:com.ibm.team.repository:Contributor",false),{name:"Contributor",ordinal:1}),dojo.mixin(new _1("item:com.ibm.team.workitem:Category",false),{name:"Category",ordinal:2}),dojo.mixin(new _1("object:com.ibm.team.links:ILinkType",false),{name:"LinkType",ordinal:3}),dojo.mixin(new _1("item:com.ibm.team.links:AuditableLink",false),{name:"Link",ordinal:4}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IAttributeDefinitionDescriptor",false),{name:"PlanningAttributeDesc",ordinal:5}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IPlanModeDescription",false),{name:"PlanModeDesc",ordinal:6}),dojo.mixin(new _1("item:com.ibm.team.apt:SharedPlanMode",false),{name:"SharedPlanModeDesc",ordinal:7}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IPlanType",false),{name:"PlanTypeDesc",ordinal:8}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IPlanCheck",false),{name:"PlanCheckDesc",ordinal:9}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IScheduler",false),{name:"SchedulerDesc",ordinal:10}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IViewMode",false),{name:"ViewModeDesc",ordinal:11}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IGroupMode",false),{name:"GroupModeDesc",ordinal:12}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:ISortMode",false),{name:"SortModeDesc",ordinal:13}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IFilter",false),{name:"FilterDesc",ordinal:14}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.extension:PlanEditorTabContribution",false),{name:"PlanEditorTabContribution",ordinal:15}),dojo.mixin(new _1("item:com.ibm.team.apt:IterationPlanRecord",false),{name:"PlanRecord",ordinal:16}),dojo.mixin(new _1("item:com.ibm.team.foundation.wiki:WikiPage",false),{name:"WikiPage",ordinal:17}),dojo.mixin(new _1("item:com.ibm.team.apt.resource:ContributorAbsence",false),{name:"ContributorAbsence",ordinal:18}),dojo.mixin(new _1("item:com.ibm.team.apt.resource:ContributorWorkEnvironment",false),{name:"ContributorWorkEnvironment",ordinal:19}),dojo.mixin(new _1("item:com.ibm.team.apt.resource:WorkResourceDetails",false),{name:"WorkResourceDetails",ordinal:20}),dojo.mixin(new _1("item:com.ibm.team.apt.resource:CALMServiceProvider",false),{name:"CALMServiceProvider",ordinal:21}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IProcessNature",false),{name:"ProcessNature",ordinal:22}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:ISnapshotType",false),{name:"SnapshotType",ordinal:23}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.service.rest.helper:GeneralConfiguration",false),{name:"GeneralConfiguration",ordinal:24}),dojo.mixin(new _1("item:com.ibm.team.workitem:WorkItem",false),{name:"WorkItem",ordinal:25}),dojo.mixin(new _1("object:com.ibm.team.workitem:type",false),{name:"WorkItemType",ordinal:26}),dojo.mixin(new _1("item:com.ibm.team.workitem:Attribute",false),{name:"WorkItemAttribute",ordinal:27}),dojo.mixin(new _1("object:com.ibm.team.workitem:workflow",false),{name:"WorkflowInfo",ordinal:28}),dojo.mixin(new _1("object:com.ibm.team.workitem:state",false),{name:"WorkflowState",ordinal:29}),dojo.mixin(new _1("object:com.ibm.team.workitem:action",false),{name:"WorkflowAction",ordinal:30}),dojo.mixin(new _1("object:com.ibm.team.workitem:resolution",false),{name:"WorkflowResolution",ordinal:31}),dojo.mixin(new _1("object:com.ibm.team.workitem:stateGroup",false),{name:"WorkflowStateGroup",ordinal:32}),dojo.mixin(new _1("object:com.ibm.team.workitem.enumeration:literal",false),{name:"EnumerationElement",ordinal:33}),dojo.mixin(new _1("object:com.ibm.team.workitem:stateTransition",false),{name:"StateTransition",ordinal:34}),dojo.mixin(new _1("item:com.ibm.team.process:Iteration",false),{name:"Iteration",ordinal:35}),dojo.mixin(new _1("item:com.ibm.team.process:IterationType",false),{name:"IterationType",ordinal:36}),dojo.mixin(new _1("item:com.ibm.team.process:DevelopmentLine",false),{name:"Timeline",ordinal:37}),dojo.mixin(new _1("item:com.ibm.team.process:ProcessArea",false),{name:"ProcessArea",ordinal:38}),dojo.mixin(new _1("item:com.ibm.team.process:TeamArea",false),{name:"TeamArea",ordinal:39}),dojo.mixin(new _1("item:com.ibm.team.process:ProjectArea",false),{name:"ProjectArea",ordinal:40}),dojo.mixin(new _1("meta:com.ibm.team.types:ItemHierarchy",false),{name:"ItemHierarchy",ordinal:41}),dojo.mixin(new _1("meta:com.ibm.team.types.ItemMapping",false),{name:"ItemMapping",ordinal:42}),dojo.mixin(new _1("meta:com.ibm.team.types.ItemCollection",false),{name:"ItemCollection",ordinal:43}),dojo.mixin(new _1("cmChangeRequest",true),{name:"CmChangeRequest",ordinal:44}),dojo.mixin(new _1("cmPlan",true),{name:"CmPlan",ordinal:45}),dojo.mixin(new _1("rmRequirement",true),{name:"RmRequirement",ordinal:46}),dojo.mixin(new _1("rmRequirementCollection",true),{name:"RmRequirementCollection",ordinal:47}),dojo.mixin(new _1("qmTestCase",true),{name:"QmTestCase",ordinal:48}),dojo.mixin(new _1("qmTestScript",true),{name:"QmTestScript",ordinal:49}),dojo.mixin(new _1("qmTestSuite",true),{name:"QmTestSuite",ordinal:50}),dojo.mixin(new _1("qmTestPlan",true),{name:"QmTestPlan",ordinal:51}),dojo.mixin(new _1("qmTestExecutionRecord",true),{name:"QmTestExecutionRecord",ordinal:52}),dojo.mixin(new _1("qmTestExecutionResult",true),{name:"QmTestExecutionResult",ordinal:53}),dojo.mixin(new _1("amArchitectureElement",true),{name:"AmArchitectureElement",ordinal:54}),dojo.mixin(new _1("scmChangeSet",true),{name:"ScmChangeSet",ordinal:55}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.extension:LeanPlanView",false),{name:"LeanPlanView",ordinal:56}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.extension:TeamAreaPath",false),{name:"TeamAreaPath",ordinal:57}),dojo.mixin(new _1("item:com.ibm.team.workitem:Deliverable",false),{name:"Deliverable",ordinal:58}),dojo.mixin(new _1("object:com.ibm.team.workitem:contributesToRelease",false),{name:"ContributesToRelease",ordinal:59}),dojo.mixin(new _1("object:com.ibm.team.apt.internal.common.plantype:IPlanItemsDescription",false),{name:"PlanItemDesc",ordinal:60})];
_1.$UNKNOWN=_1.values[0];
_1.Contributor=_1.values[1];
_1.Category=_1.values[2];
_1.LinkType=_1.values[3];
_1.Link=_1.values[4];
_1.PlanningAttributeDesc=_1.values[5];
_1.PlanModeDesc=_1.values[6];
_1.SharedPlanModeDesc=_1.values[7];
_1.PlanTypeDesc=_1.values[8];
_1.PlanCheckDesc=_1.values[9];
_1.SchedulerDesc=_1.values[10];
_1.ViewModeDesc=_1.values[11];
_1.GroupModeDesc=_1.values[12];
_1.SortModeDesc=_1.values[13];
_1.FilterDesc=_1.values[14];
_1.PlanEditorTabContribution=_1.values[15];
_1.PlanRecord=_1.values[16];
_1.WikiPage=_1.values[17];
_1.ContributorAbsence=_1.values[18];
_1.ContributorWorkEnvironment=_1.values[19];
_1.WorkResourceDetails=_1.values[20];
_1.CALMServiceProvider=_1.values[21];
_1.ProcessNature=_1.values[22];
_1.SnapshotType=_1.values[23];
_1.GeneralConfiguration=_1.values[24];
_1.WorkItem=_1.values[25];
_1.WorkItemType=_1.values[26];
_1.WorkItemAttribute=_1.values[27];
_1.WorkflowInfo=_1.values[28];
_1.WorkflowState=_1.values[29];
_1.WorkflowAction=_1.values[30];
_1.WorkflowResolution=_1.values[31];
_1.WorkflowStateGroup=_1.values[32];
_1.EnumerationElement=_1.values[33];
_1.StateTransition=_1.values[34];
_1.Iteration=_1.values[35];
_1.IterationType=_1.values[36];
_1.Timeline=_1.values[37];
_1.ProcessArea=_1.values[38];
_1.TeamArea=_1.values[39];
_1.ProjectArea=_1.values[40];
_1.ItemHierarchy=_1.values[41];
_1.ItemMapping=_1.values[42];
_1.ItemCollection=_1.values[43];
_1.CmChangeRequest=_1.values[44];
_1.CmPlan=_1.values[45];
_1.RmRequirement=_1.values[46];
_1.RmRequirementCollection=_1.values[47];
_1.QmTestCase=_1.values[48];
_1.QmTestScript=_1.values[49];
_1.QmTestSuite=_1.values[50];
_1.QmTestPlan=_1.values[51];
_1.QmTestExecutionRecord=_1.values[52];
_1.QmTestExecutionResult=_1.values[53];
_1.AmArchitectureElement=_1.values[54];
_1.ScmChangeSet=_1.values[55];
_1.LeanPlanView=_1.values[56];
_1.TeamAreaPath=_1.values[57];
_1.Deliverable=_1.values[58];
_1.ContributesToRelease=_1.values[59];
_1.PlanItemDesc=_1.values[60];
})();


;dojo.provide("com.ibm.team.apt.api.common.UIItemHandle");




(function(){
var _1=com.ibm.jdojo.util.Assert;
var _2=com.ibm.team.apt.api.common.ItemType;
var _3=dojo.declare("com.ibm.team.apt.api.common.UIItemHandle",null,{"-chains-":{constructor:"manual"},constructor:function(_4,_5,_6,_7){
this.fIndex1=-1;
this.fIndex2=-1;
if(!((_4!=null&&_5!=null)||_7!=null)){
_1.fail("(type != null && uuid != null) || value != null","UIItemHandle:79");
}
this.fType=_4;
this.fUuid=_5;
this.fStateId=_6;
this.fHandleValue=_7;
},getType:function(){
if(this.fType==null){
var to=this.indexFirstSemiColon();
var _8=this.fHandleValue.substring(0,to);
this.fType=_2.fromString(_8);
}
return this.fType;
},getItemId:function(){
if(this.fUuid==null){
var _9=this.indexFirstSemiColon();
var to=this.indexSecondSemiColon();
to=to<0?this.fHandleValue.length:to;
this.fUuid=this.decodeSeparatorChar(this.fHandleValue.substring(_9+1,to));
}
return this.fUuid;
},getUuid:function(){
return this.getItemId();
},getStateId:function(){
if(this.fStateId==null){
if(this.fHandleValue==null){
return null;
}
var _a=this.indexSecondSemiColon();
if(_a<0){
return null;
}
this.fStateId=this.decodeSeparatorChar(this.fHandleValue.substring(_a+1));
}
return this.fStateId;
},getHandleValue:function(){
return this.getHandleValue1(false);
},toString:function(){
return this.getHandleValue1(true);
},getHandleValue1:function(_b){
if(this.fHandleValue==null){
var _c=_b?this.getType().getQualifiedName():String(this.getType().ordinal);
this.fHandleValue=_c+String(_3.fgSeparatorChar)+this.encodeSeparatorChar(this.getItemId());
if(this.getStateId()!=null){
this.fHandleValue+=_3.fgSeparatorChar+this.encodeSeparatorChar(this.getStateId());
}
}
return this.fHandleValue;
},indexFirstSemiColon:function(){
if(this.fIndex1===-1){
this.fIndex1=this.indexOfSeparatorChar(0);
}
return this.fIndex1;
},indexSecondSemiColon:function(){
if(this.fIndex2===-1){
var _d=this.indexFirstSemiColon();
var _e=this.indexOfSeparatorChar(_d+1);
if(_e<0){
this.fIndex2=-2;
}else{
this.fIndex2=_e;
}
}
return this.fIndex2;
},indexOfSeparatorChar:function(_f){
var _10=this.fHandleValue.indexOf(_3.fgSeparatorChar,_f);
if(_10>=0){
if(this.isOverrideChar(_10+1)){
return this.indexOfSeparatorChar(_10+2);
}
}
return _10;
},isOverrideChar:function(_11){
var len=this.fHandleValue.length;
var _12=0;
for(var i=_11;i<len;i++){
if(this.fHandleValue.charAt(i)===_3.fgSeparatorOverrideChar){
_12++;
}else{
break;
}
}
return _12%2!==0;
},encodeSeparatorChar:function(str){
if(str==null){
return null;
}
var _13="";
for(var i=0;i<str.length;i++){
var c=str.charAt(i);
_13+=c;
if(c===_3.fgSeparatorChar||c===_3.fgSeparatorOverrideChar){
_13+=_3.fgSeparatorOverrideChar;
}
}
return _13;
},decodeSeparatorChar:function(str){
var _14="";
var len=str.length;
for(var i=0;i<len;i++){
var c=str.charAt(i);
if(c===_3.fgSeparatorChar||c===_3.fgSeparatorOverrideChar&&i+1<len&&str.charAt(i+1)===_3.fgSeparatorOverrideChar){
i++;
}
_14+=c;
}
return _14;
},$interfaces:{"com.ibm.team.apt.api.common.IUIItemHandle":true}});
_3.fgSeparatorChar=";";
_3.fgSeparatorOverrideChar="~";
_3.itemHandleFrom=function(_15,_16){
return new _3(_15,_16,null,null);
};
_3.stateHandleFrom=function(_17,_18,_19){
return new _3(_17,_18,_19,null);
};
_3.itemHandleFor=function(_1a){
return new _3(_1a.getItemType(),_1a.getItemId(),null,null);
};
_3.stateHandleFor=function(_1b){
return new _3(_1b.getItemType(),_1b.getItemId(),_1b.getStateId(),null);
};
_3.fromHandle=function(_1c){
if(_1c==null){
return null;
}else{
return new _3(null,null,null,_1c);
}
};
})();


;dojo.provide("com.ibm.team.apt.api.common.query.PredefinedQueries");
(function(){
var _1=dojo.declare("com.ibm.team.apt.api.common.query.PredefinedQueries",null,{constructor:function(id){
this.fId=id;
},getId:function(){
return this.fId;
},compareTo:function(_2){
return this.ordinal-_2.ordinal;
}});
_1.values=[dojo.mixin(new _1("myCurrent"),{name:"MYPLANS",ordinal:0}),dojo.mixin(new _1("current"),{name:"CURRENTPLANS",ordinal:1}),dojo.mixin(new _1("all"),{name:"ALLPLANS",ordinal:2})];
_1.MYPLANS=_1.values[0];
_1.CURRENTPLANS=_1.values[1];
_1.ALLPLANS=_1.values[2];
})();


;dojo.provide("com.ibm.team.apt.api.common.query.RelationshipQueries");


(function(){
var _1=com.ibm.team.apt.api.common.ItemType;
var _2=dojo.declare("com.ibm.team.apt.api.common.query.RelationshipQueries",null,{constructor:function(id,_3){
this.fId=id;
this.fItemType=_3;
},getIdentifier:function(){
return this.fId;
},getItemType:function(){
return this.fItemType;
},compareTo:function(_4){
return this.ordinal-_4.ordinal;
},$interfaces:{"com.ibm.jdojo.util.IMappable":true}});
_2.values=[dojo.mixin(new _2("relatedToContributor",_1.Contributor),{name:"CONTRIBUTOR",ordinal:0}),dojo.mixin(new _2("relatedToTeam",_1.ProcessArea),{name:"TEAM",ordinal:1}),dojo.mixin(new _2("relatedToTeamHierarchy",_1.ProcessArea),{name:"TEAMHIERARCHY",ordinal:2}),dojo.mixin(new _2("relatedToDevLine",_1.Timeline),{name:"DEVLINE",ordinal:3}),dojo.mixin(new _2("relatedToProjectDevLine",_1.Timeline),{name:"PROJECT_DEVLINE",ordinal:4}),dojo.mixin(new _2("relatedToPlan",_1.PlanRecord),{name:"PLAN",ordinal:5})];
_2.CONTRIBUTOR=_2.values[0];
_2.TEAM=_2.values[1];
_2.TEAMHIERARCHY=_2.values[2];
_2.DEVLINE=_2.values[3];
_2.PROJECT_DEVLINE=_2.values[4];
_2.PLAN=_2.values[5];
})();

dojo.provide("com.ibm.team.apt.web.client.internal.query.nls.Messages")._built=true;
dojo.provide("com.ibm.team.apt.web.client.internal.query.nls.Messages.en_us");
com.ibm.team.apt.web.client.internal.query.nls.Messages.en_us={"QueryDescriptor_MYCURRENT":"My Current Plans","QueryDescriptor_RELATED_CONTRIBUTOR":"Plans Related to \'${0}\'","QueryDescriptor_RELATED_TIMELINE":"Plans Related to Timeline \'${0}\'","QueryDescriptor_KEYWORD":"Search Results for \'${0}\'","QueryDescriptor_KEYWORD_PREDEFINED":"Search Results for \'${0}\' in ${1}","QueryDescriptor_RELATED_TEAMHIERARCHY_UNKNOWN":"Plans Related to Teams and Subteams","QueryDescriptor_RELATED_PREDEFINED":"Plans Related to \'${0}\' in ${1}","QueryDescriptor_RELATED_TIMELINE_UNKNOWN":"Plans Related to Timeline","SearchResult_MONITOR_LOADRESULTS":"Loading results","QueryDescriptor_CURRENT":"Current Plans","QueryDescriptor_KEYWORD_PREDEFINED_RELATED":"Search Results for \'${0}\' in ${1} for Plans Related to \'${2}\'","QueryDescriptor_ALL":"All Plans","QueryDescriptor_INVALID":"Invalid Query","QueryDescriptor_RELATED_CONTRIBUTOR_UNKNOWN":"Plans Related to Contributor","QueryDescriptor_RELATED_TEAM_UNKNOWN":"Plans Related to a Team or Project Area","QueryDescriptor_RELATED_PLANS":"Plans Related to \'${0}\'","QueryDescriptor_RELATED_PLANS_UNKNOWN":"Related Plans","QueryDescriptor_KEYWORD_RELATED":"Search Results for \'${0}\' in Plans Related to \'${1}\'","QueryDescriptor_RELATED_TEAM":"Plans Related to \'${0}\'","QueryDescriptor_RELATED_TEAMHIERARCHY":"Plans Related to Teams and Subteams of \'${0}\'"};

;dojo.provide("com.ibm.team.apt.web.client.internal.query.QueryDescriptor");


















dojo.requireLocalization("com.ibm.team.apt.web.client.internal.query","Messages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.apt.web.client.internal.query","Messages");
var _2=com.ibm.jdojo;
var _3=_2.lang.JavaScriptException;
var _4=_2.util.Assert;
var _5=com.ibm.team;
var _6=_5.apt.api.common;
var _7=_6.ItemType;
var _8=_6.UIItemHandle;
var _9=_6.query;
var _a=_9.PredefinedQueries;
var _b=_9.RelationshipQueries;
var _c=_5.repository.web.client.session;
var _d=dojo.string;
var _e=dojo.declare("com.ibm.team.apt.web.client.internal.query.QueryDescriptor",null,{"-chains-":{constructor:"manual"},constructor:function(_f,_10,_11,_12){
this.fRelationshipQueryLabels={};
this.fRelationshipQueryLabels[_b.CONTRIBUTOR.getIdentifier()]=[_1.QueryDescriptor_RELATED_CONTRIBUTOR,_1.QueryDescriptor_RELATED_CONTRIBUTOR_UNKNOWN];
this.fRelationshipQueryLabels[_b.TEAM.getIdentifier()]=[_1.QueryDescriptor_RELATED_TEAM,_1.QueryDescriptor_RELATED_TEAM_UNKNOWN];
this.fRelationshipQueryLabels[_b.TEAMHIERARCHY.getIdentifier()]=[_1.QueryDescriptor_RELATED_TEAMHIERARCHY,_1.QueryDescriptor_RELATED_TEAMHIERARCHY_UNKNOWN];
this.fRelationshipQueryLabels[_b.DEVLINE.getIdentifier()]=[_1.QueryDescriptor_RELATED_TIMELINE,_1.QueryDescriptor_RELATED_TIMELINE_UNKNOWN];
this.fRelationshipQueryLabels[_b.PLAN.getIdentifier()]=[_1.QueryDescriptor_RELATED_PLANS,_1.QueryDescriptor_RELATED_PLANS_UNKNOWN];
this.isCombinedQuery=false;
this.fShowArchived=false;
this.fKeywords=_f;
this.fPredefinedQuery=_10;
this.fRelationshipQueryData=_11;
this.fSequenceId=_12;
},setIsCombinedQuery:function(_13){
this.isCombinedQuery=_13;
},getLabel:function(){
var _14=null;
var _15=this.getResolvedRelatedItemLabel();
if(this.fPredefinedQuery!=null){
switch(this.fPredefinedQuery){
case _a.ALLPLANS:
_14=_1.QueryDescriptor_ALL;
break;
case _a.CURRENTPLANS:
_14=_1.QueryDescriptor_CURRENT;
break;
case _a.MYPLANS:
_14=_1.QueryDescriptor_MYCURRENT;
break;
}
}
if(this.fKeywords!=null&&_14!=null&&_15!=null){
return _d.substitute(_1.QueryDescriptor_KEYWORD_PREDEFINED_RELATED,[this.fKeywords,_14,_15]);
}else{
if(this.fKeywords!=null&&_14!=null){
return _d.substitute(_1.QueryDescriptor_KEYWORD_PREDEFINED,[this.fKeywords,_14]);
}else{
if(this.fKeywords!=null&&_15!=null){
return _d.substitute(_1.QueryDescriptor_KEYWORD_RELATED,[this.fKeywords,_15]);
}else{
if(_15!=null&&_14!=null){
return _d.substitute(_1.QueryDescriptor_RELATED_PREDEFINED,[_15,_14]);
}else{
if(this.fKeywords!=null){
return _d.substitute(_1.QueryDescriptor_KEYWORD,[this.fKeywords]);
}else{
if(_14!=null){
return _14;
}else{
if(this.fRelationshipQueryData!=null){
if(_15!=null){
return _d.substitute(this.fRelationshipQueryLabels[this.fRelationshipQueryData.relationshipType.getIdentifier()][0],[_15]);
}
return this.fRelationshipQueryLabels[this.fRelationshipQueryData.relationshipType.getIdentifier()][1];
}
}
}
}
}
}
}
throw new _3(_1.QueryDescriptor_INVALID);
},getIdentifier:function(){
var _16=this.fPredefinedQuery!=null?this.fPredefinedQuery.name:"";
var _17="_";
if(this.fRelationshipQueryData!=null){
_17=this.fRelationshipQueryData.relationshipType.name+"_"+this.fRelationshipQueryData.relatedItemId.getItemId();
}
return this.fKeywords+"_"+this.fShowArchived+"_"+_16+"_"+_17+"_"+this.fSequenceId;
},getSequenceId:function(){
return this.fSequenceId;
},getRelationshipType:function(){
if(this.fRelationshipQueryData!=null){
return this.fRelationshipQueryData.relationshipType;
}
if(this.fPredefinedQuery===_a.MYPLANS){
return _b.CONTRIBUTOR;
}
return null;
},getRelatedItemId:function(){
if(this.fRelationshipQueryData!=null){
return this.fRelationshipQueryData.relatedItemId;
}
if(this.fPredefinedQuery===_a.MYPLANS){
return _8.itemHandleFrom(_7.Contributor,_c.getAuthenticatedContributor().itemId);
}
return null;
},isCurrentOnly:function(){
var _18=(this.fPredefinedQuery===_a.MYPLANS||this.fPredefinedQuery===_a.CURRENTPLANS);
if(this.isCombinedQuery){
return (this.fRelationshipQueryData.currentOnly||_18);
}
if(this.fRelationshipQueryData!=null){
return this.fRelationshipQueryData.currentOnly;
}
return _18;
},isShowArchived:function(){
return this.fShowArchived;
},setShowArchived:function(_19){
this.fShowArchived=_19;
},_setResolvedRelatedItem:function(_1a){
this.fResolvedRelatedItem=_1a;
},setResolvedRelatedItemLabel:function(_1b){
this.fResolvedRelatedItemLabel=_1b;
},getResolvedRelatedItemLabel:function(){
if(this.fResolvedRelatedItemLabel!=null){
return this.fResolvedRelatedItemLabel;
}else{
if(this.fResolvedRelatedItem!=null){
return this.fResolvedRelatedItem.getLabel();
}
}
return null;
},$interfaces:{"com.ibm.jdojo.util.IMappable":true}});
_e.newKeywordQuery=function(_1c,_1d){
if(!(_1c!=null)){
_4.fail("keywords != null","QueryDescriptor:70");
}
var _1e=new _e(_1c,null,null,_1d);
return _1e;
};
_e.newPredefinedQuery=function(_1f,_20,_21){
if(!(_1f!=null)){
_4.fail("query != null","QueryDescriptor:76");
}
var _22=new _e(_20,_1f,null,_21);
return _22;
};
_e.newPredefinedRelationshipQuery=function(_23,_24,_25,_26){
if(!(_23!=null)){
_4.fail("query != null","QueryDescriptor:82");
}
if(!(_24!=null)){
_4.fail("queryData != null","QueryDescriptor:83");
}
if(!(_24.relationshipType!=null)){
_4.fail("queryData.relationshipType != null","QueryDescriptor:84");
}
if(!(_24.relatedItemId!=null)){
_4.fail("queryData.relatedItemId != null","QueryDescriptor:85");
}
var _27=new _e(_25,_23,_24,_26);
_27.setIsCombinedQuery(true);
return _27;
};
_e.newRelationshipQuery=function(_28,_29){
if(!(_28!=null)){
_4.fail("queryData != null","QueryDescriptor:91");
}
if(!(_28.relationshipType!=null)){
_4.fail("queryData.relationshipType != null","QueryDescriptor:92");
}
if(!(_28.relatedItemId!=null)){
_4.fail("queryData.relatedItemId != null","QueryDescriptor:93");
}
var _2a=new _e(null,null,_28,_29);
return _2a;
};
})();


;dojo.provide("com.ibm.team.apt.api.common.planning.NullProgressMonitor");
(function(){
var _1=dojo.declare("com.ibm.team.apt.api.common.planning.NullProgressMonitor",null,{"-chains-":{constructor:"manual"},isCanceled:function(){
return false;
},shouldYield:function(){
return false;
},beginTask:function(_2,_3){
},worked:function(_4){
},done:function(){
},child:function(_5,_6){
return new _1();
},$interfaces:{"com.ibm.team.apt.api.common.planning.IProgressMonitor":true}});
_1.DEFAULT=new _1();
})();


;dojo.provide("com.ibm.team.apt.web.client.internal.util.AbstractFuture");








(function(){
var _1=com.ibm.jdojo.lang;
var _2=_1.Exception;
var _3=_1.JavaScriptException;
var _4=com.ibm.team.apt.api.common.planning.NullProgressMonitor;
var _5=dojo.string;
var _6=dojo.declare("com.ibm.team.apt.web.client.internal.util.AbstractFuture",null,{"-chains-":{constructor:"manual"},constructor:function(){
this.fProgressMonitor=_4.DEFAULT;
},setCallback:function(_7){
this.fCallback=_7;
},getCallback:function(){
return this.fCallback;
},setErrCallback:function(_8){
this.fErrCallback=_8;
},getErrCallback:function(){
return this.fErrCallback;
},callback:function(_9){
try{
if(this.fCallback!=null){
this.fCallback(_9);
}
}
catch(e){
if((e=e instanceof _2?e:new _3(e)) instanceof _2){
this.handleCallbackFailure(e);
}else{
throw e;
}
}
finally{
this.getProgressMonitor().done();
}
},errback:function(_a){
try{
if(this.fErrCallback!=null){
this.fErrCallback(_a);
}else{
console.warn(_5.substitute("${0} - ERROR BUT NO ERR_CALLBACK",[_6.prototype.declaredClass]));
console.warn(_a);
}
}
catch(e){
if((e=e instanceof _2?e:new _3(e)) instanceof _2){
this.handleCallbackFailure(e);
}else{
throw e;
}
}
finally{
this.getProgressMonitor().done();
}
},handleCallbackFailure:function(e){
var _b=_5.substitute("${0} - FATAL ERROR - CALLBACK FAILED",[_6.prototype.declaredClass]);
console.error(_b);
console.error(e);
if(this.fErrCallback!=null){
try{
this.fErrCallback(e);
}
catch(e2){
if((e2=e2 instanceof _2?e2:new _3(e2)) instanceof _2){
_b=_5.substitute("${0} - FATAL ERROR - ERROR CALLBACK FAILED TOO",[_6.prototype.declaredClass]);
console.error(_b);
console.error(e2);
}else{
throw e2;
}
}
}else{
window.alert(_b);
}
},getProgressMonitor:function(){
return this.fProgressMonitor;
},$interfaces:{"com.ibm.team.apt.api.client.internal.IFuture":true}});
})();


;dojo.provide("com.ibm.team.apt.web.client.internal.util.MultiplexFuture");


(function(){
var _1=com.ibm.team.apt.web.client.internal.util.AbstractFuture;
dojo.declare("com.ibm.team.apt.web.client.internal.util.MultiplexFuture",_1,{constructor:function(_2){
this.inherited(arguments,[]);
this.fDelegates=_2;
this.setCallback(dojo.hitch(this,function(_3){
var _4=this.fDelegates;
var _5=_4.length;
for(var _6=0;_6<_5;_6++){
var _7=_4[_6];
_7.callback(_3);
}
}));
this.setErrCallback(dojo.hitch(this,function(_8){
var _9=this.fDelegates;
var _a=_9.length;
for(var _b=0;_b<_a;_b++){
var _c=_9[_b];
_c.errback(_8);
}
}));
},chain:function(_d){
this.fDelegates.unshift(_d);
return this;
},getProgressMonitor:function(){
var _e=[];
var _f=this.fDelegates;
var _10=_f.length;
for(var _11=0;_11<_10;_11++){
var _12=_f[_11];
_e.push(_12.getProgressMonitor());
}
return new _13(_e);
}});
var _13=dojo.declare("com.ibm.team.apt.web.client.internal.util.MultiplexFuture.MultiplexProgressMonitor",null,{"-chains-":{constructor:"manual"},constructor:function(_14){
this.fDelegates=_14;
},isCanceled:function(){
var _15=true;
var _16=this.fDelegates;
var _17=_16.length;
for(var _18=0;_18<_17;_18++){
var _19=_16[_18];
_15&=_19.isCanceled();
}
return _15;
},shouldYield:function(){
var _1a=false;
var _1b=this.fDelegates;
var _1c=_1b.length;
for(var _1d=0;_1d<_1c;_1d++){
var _1e=_1b[_1d];
_1a|=_1e.shouldYield();
}
return _1a;
},beginTask:function(_1f,_20){
var _21=this.fDelegates;
var _22=_21.length;
for(var _23=0;_23<_22;_23++){
var _24=_21[_23];
_24.beginTask(_1f,_20);
}
},worked:function(_25){
var _26=this.fDelegates;
var _27=_26.length;
for(var _28=0;_28<_27;_28++){
var _29=_26[_28];
_29.worked(_25);
}
},done:function(){
var _2a=this.fDelegates;
var _2b=_2a.length;
for(var _2c=0;_2c<_2b;_2c++){
var _2d=_2a[_2c];
_2d.done();
}
},child:function(_2e,_2f){
var _30=[];
var _31=this.fDelegates;
var _32=_31.length;
for(var _33=0;_33<_32;_33++){
var _34=_31[_33];
_30.push(_34.child(_2e,_2f));
}
return new _13(_30);
},$interfaces:{"com.ibm.team.apt.api.common.planning.IProgressMonitor":true}});
})();


;dojo.provide("com.ibm.team.apt.web.client.internal.util.Future");




(function(){
var _1=com.ibm.team.apt.web.client.internal.util;
var _2=_1.AbstractFuture;
var _3=_1.MultiplexFuture;
var _4=dojo.declare("com.ibm.team.apt.web.client.internal.util.Future",_2,{constructor:function(){
this.inherited(arguments,[]);
},chain:function(_5){
return new _3([_5,this]);
}});
_4.newInstance=function(_6,_7,_8){
var _9=new _4();
_9.fCallback=_6;
_9.fErrCallback=_7;
if(_8!=null){
_9.fProgressMonitor=_8;
}
return _9;
};
})();


;dojo.provide("com.ibm.team.apt.web.client.internal.items.UIItem");


(function(){
var _1=com.ibm.team.apt.api.common.ItemType;
var _2=dojo.declare("com.ibm.team.apt.web.client.internal.items.UIItem",null,{"-chains-":{constructor:"manual"},constructor:function(_3){
this.fSource=_3;
},getSource:function(){
return this.fSource;
},getIconUri:function(){
return this.fSource.iconURL;
},getLabel:function(){
return this.fSource.label;
},isNew:function(){
return this.fSource.itemId.indexOf(_2.PREFIX_NEW)===0;
},isArchived:function(){
return false;
},getStateId:function(){
return this.fSource.stateId;
},getItemId:function(){
return this.fSource.itemId;
},getItemType:function(){
return _1.fromString(this.fSource.itemType);
},__json__:function(_4){
var _5={};
dojo["mixin"].call(dojo,_5,this.fSource);
delete _5[_2.WRAPPER];
return _5;
},$interfaces:{"com.ibm.team.apt.api.common.IUIItem":true}});
_2.WRAPPER="__dto_wrapper_";
_2.PREFIX_NEW="__new_";
})();


;dojo.provide("com.ibm.team.apt.web.client.internal.util.Location");


(function(){
var _1=com.ibm.team.apt.web.client.internal.items.UIItem;
var _2=dojo.declare("com.ibm.team.apt.web.client.internal.util.Location",null,{"-chains-":{constructor:"manual"}});
_2.getItemURI=function(_3){
if(_3 instanceof _1){
var _4=_3.getSource();
return _4.itemLocation;
}
return undefined;
};
_2.getNamedURI=function(_5){
if(_5 instanceof _1){
var _6=_5.getSource();
return _6.namedLocation;
}
return undefined;
};
})();


;dojo.provide("com.ibm.team.apt.web.ui.internal.page.Events");
(function(){
var _1=dojo.declare("com.ibm.team.apt.web.ui.internal.page.Events",null,{"-chains-":{constructor:"manual"}});
_1.PLAN_ACTION_COMPONENT_MENU_REFRESH="rtc/plans/page/menu/refresh";
_1.PLAN_ACTION_NEW_PLAN_CANCELLED="rtc/plans/page/new/cancelled";
_1.PLAN_OPENED_TOPIC="rtc/plans/page/plan/opened";
_1.PLAN_DELETED_TOPIC="rtc/plans/page/plan/deleted";
_1.PLAN_OPENED_FROM_COMPONENT_MENU_TOPIC="rtc/plans/page/menu/plan/opened";
_1.RANK_CELL_EDITED="rtc/plans/item/rankcell/edited";
_1.EXPLICIT_RANK_APPLIED_TOPIC="rtc/plans/page/plan/explicitrank/applied";
_1.PLAN_ACTION_SAVED_TOPIC="rtc/plans/page/plan/menu/saved";
_1.PLAN_NEEDS_REFRESH="rtc/plans/page/plan/torefresh";
_1.PLAN_BEFORE_PRINT="rtc/plans/page/plan/aboutToPrint";
_1.PLAN_AFTER_PRINT="rtc/plans/page/plan/printed";
})();


;dojo.provide("com.ibm.team.rtc.foundation.web.ui.util.sprite.ImageSource");


(function(){
var _1=net.jazz.ajax.contextRoot;
var _2=dojo.declare("com.ibm.team.rtc.foundation.web.ui.util.sprite.ImageSource",null,{"-chains-":{constructor:"manual"},constructor:function(_3,_4){
this.fIsDimmed=false;
if(_4!=null){
this.fBundleId=_4;
this.fImgPath=_3;
this.fFallbackImgURI=null;
}else{
this.fFallbackImgURI=_3;
var _5=_3.indexOf(_2.IMAGE_CONTENT_SERVICE);
if(_5>=0){
var _6=_3.substring(0,_5+_2.IMAGE_CONTENT_SERVICE.length+1);
var _7=_3.substring(_5+_2.IMAGE_CONTENT_SERVICE.length+1);
var _8=this.removeParams(_7);
var _9=this.extractParams(_7);
if(_9!=null){
if(_9[_2.TOP_LEFT]!=null){
this.fTopLeftOverlay=new _2(_6+_9[_2.TOP_LEFT],null);
}
if(_9[_2.TOP_RIGHT]!=null){
this.fTopRightOverlay=new _2(_6+_9[_2.TOP_RIGHT],null);
}
if(_9[_2.BOTTOM_LEFT]!=null){
this.fBottomLeftOverlay=new _2(_6+_9[_2.BOTTOM_LEFT],null);
}
if(_9[_2.BOTTOM_RIGHT]!=null){
this.fBottomRightOverlay=new _2(_6+_9[_2.BOTTOM_RIGHT],null);
}
if(_9[_2.DIMMING]!=null){
this.fIsDimmed=_9[_2.DIMMING]===String(true);
}
if(_8.indexOf(_2.PROCESS_ATTACHMENT_PREFIX)===0){
var _a=_8.substring(_2.PROCESS_ATTACHMENT_PREFIX.length);
this.fProcessAreaId=_a.substring(0,_a.indexOf(_2.SLASH));
this.fImgPath=_a.substring(this.fProcessAreaId.length);
}else{
if(_8.indexOf(_2.BUNDLE_ENTRY_PREFIX)===0){
var _b=_7.indexOf(_2.SLASH,_2.BUNDLE_ENTRY_PREFIX.length);
this.fBundleId=_7.substring(0,_b+1);
var _c=this.fBundleId.indexOf(".");
if(_c!==-1){
this.fBundleId=this.fBundleId.substring(0,_c);
}
this.fImgPath=_7.substring(_b);
}else{
if(_8.indexOf(_2.PLUGIN_PREFIX)===0){
var _b=_7.indexOf(_2.SLASH,_2.PLUGIN_PREFIX.length);
this.fBundleId=_7.substring(_2.PLUGIN_PREFIX.length,_b);
this.fImgPath=_7.substring(_b);
}else{
var _b=_7.indexOf(_2.SLASH);
this.fBundleId=_7.substring(0,_b);
this.fImgPath=_7.substring(_b);
}
}
}
}
}else{
var _d=this._createURL(_1(),"web/");
if(_3.indexOf(_d)===0){
var _b=_3.indexOf(_2.SLASH,_d.length);
var _e=_3.substring(_d.length,_b);
if(_e.indexOf(".")!==-1){
this.fBundleId=_e;
this.fImgPath=_3.substring(_b);
}
}
}
}
},isComposedImage:function(){
return this.fIsDimmed||this.fTopLeftOverlay!=null||this.fTopRightOverlay!=null||this.fBottomLeftOverlay!=null||this.fBottomRightOverlay!=null;
},getTopLeftOverlay:function(){
return this.fTopLeftOverlay;
},getTopRightOverlay:function(){
return this.fTopRightOverlay;
},getBottomLeftOverlay:function(){
return this.fBottomLeftOverlay;
},getBottomRightOverlay:function(){
return this.fBottomRightOverlay;
},isDimmed:function(){
return this.fIsDimmed;
},isProcessAttachment:function(){
return this.fProcessAreaId!=null;
},getProcessAreaId:function(){
return this.fProcessAreaId;
},getBundleId:function(){
return this.fBundleId;
},getImagePath:function(){
return this.fImgPath;
},removeParams:function(_f){
var _10=_f.indexOf(_2.PARAMS_START);
if(_10>=0){
return _f.substring(0,_10);
}
return _f;
},extractParams:function(uri){
var _11={};
var _12=uri.indexOf(_2.PARAMS_START);
if(_12>=0){
var _13=uri.substring(_12+1).split(_2.PARAMS_SEP);
var _14=_13;
var _15=_14.length;
for(var _16=0;_16<_15;_16++){
var _17=_14[_16];
var _18=_17.split(_2.PARAM_INNER_SEP);
if(_18.length!==2){
return null;
}
_11[_18[0]]=_18[1];
}
}
return _11;
},isBundleImage:function(){
return this.fBundleId!=null;
},toUri:function(){
if(this.fFallbackImgURI==null&&this.fBundleId!=null&&this.fImgPath!=null){
this.fFallbackImgURI=this._createURL(_1(),"web",this.fBundleId,this.fImgPath);
}
return this.fFallbackImgURI;
},_createURL:function(){
var _19=Array.prototype.slice.call(arguments,0);
var _1a=_19[0];
for(var i=1;i<_19.length;i++){
var _1b=_19[i];
if(_1a.charAt(_1a.length-1)!==_2.SLASH){
_1a=_1a+_2.SLASH;
}
_1a=_1a+_1b.substring(_1b.charAt(0)===_2.SLASH?1:0);
}
return _1a;
},toString:function(){
return this.toUri();
}});
_2.IMAGE_CONTENT_SERVICE="com.ibm.team.workitem.common.internal.model.IImageContentService";
_2.PROCESS_ATTACHMENT_PREFIX="processattachment/";
_2.BUNDLE_ENTRY_PREFIX="bundleentry/";
_2.PLUGIN_PREFIX="plugin/";
_2.TOP_LEFT="tl";
_2.TOP_RIGHT="tr";
_2.BOTTOM_LEFT="bl";
_2.BOTTOM_RIGHT="br";
_2.DIMMING="dim";
_2.SLASH="/";
_2.PARAMS_START="?";
_2.PARAMS_SEP="&";
_2.PARAM_INNER_SEP="=";
_2.fromBundleImage=function(_1c,_1d){
return new _2(_1d.indexOf(_2.SLASH)!==0?_2.SLASH+_1d:_1d,_1c);
};
_2.fromIconUri=function(_1e){
return new _2(String(_1e),null);
};
})();


;(function(){
dojo.provide("jazz.ui._SearchProvider");


dojo.declare("jazz.ui._SearchProvider",[dijit._Widget],{postCreate:function(){
if(this.delay){
dojo.deprecated("jazz.ui._SearchProvider.delay","This parameter is no longer supported.");
}
},name:null,scopes:null,onUpdate:null,onExecute:null,tooltip:null,defaultText:null,noResultsLabel:null,minResultsWidth:null,resultsArea:null,createAdvancedOptions:null,onToggleAdvancedOptions:function(_1){
},defaultAdvancedOptions:false,allowEmptySearches:false,update:function(){
},isAdvancedDescendant:null,_setScopesAttr:function(_2){
this.scopes=_2;
}});
})();

dojo.provide("com.ibm.team.apt.web.ui.internal.page.nls.Messages")._built=true;
dojo.provide("com.ibm.team.apt.web.ui.internal.page.nls.Messages.en_us");
com.ibm.team.apt.web.ui.internal.page.nls.Messages.en_us={"PlanningComponentMenu_Dependency_BOARD":"Program Board","PlanningSearchProvider_SCOPE_CURRENT":"Current Plans","PlanningSearchProvider_SEARCH_DEFAULT_TEXT":"Search Plans","PlanningPageMain_DEFAULT_NEW_PLAN_TITLE":"New Plan","PlanningComponentMenu_CREATE_SECTION_LABEL":"Create Plan","PlanningComponentMenu_OPEN_SECTION_LABEL":"Open","PlanningSearchProvider_SEARCH_ERROR":"Search failed","PlanningPageMain_ERROR_DETAIL_MESSAGE":"${0}: ${1}","PlanningComponentMenu_DIRTY_PLAN_LABEL_DECORATION":"\x3cspan class=\"j-dirty\"\x3e* ${0} [${1}]\x3c/span\x3e","PlanningPageMain_DEFAULT_PAGE_TITLE":"Plans","PlanningPageMain_FetchProjectConfiguration_INVALID":"The Planning Settings in the Project Configuration are invalid. Please review the Process Configuration","PlanningSearchProvider_SCOPE_MY_CURRENT":"My Current Plans","PlanningSearchProvider_PLAN_ITERATION_FORMAT":"${0} [${1}]","PlanningSearchProvider_SCOPE_ALL":"All Plans","PlanningComponentMenu_RECENTLYVIEWED_SECTION_LABEL_MAX":"\x3cb\x3eRecent Plans\x3c/b\x3e (${0}, maximum)","PlanningComponentMenu_QUICK_PLANNER":"Quick Planner","PlanningPageMain_INCOMPATIBLE_GLOBAL_CONFIGURATION_DETAIL":"The user selected global configuration is not compatible with the global configuration determined by the plan settings.","PlanningComponentMenu_RECENTLYVIEWED_SECTION_LABEL":"\x3cb\x3eRecent Plans\x3c/b\x3e (${0})","PlanningSearchProvider_SEARCH_TOOLTIP":"Search Plans","PlanningComponentMenu_UNSAVED_SECTION_TITLE":"\x3cb\x3eUnsaved Plans\x3c/b\x3e (${0})","PlanningComponentMenu_WELCOME_TITLE":"Welcome to Plans","PlanningSearchProvider_SEARCH_LABEL":"Plans","PlanningPageMain_ERROR_PLAN_NOT_AVAILABLE":"The plan is not available in the repository.","PlanningPageMain_FetchProjectConfiguration_ERROR":"Fetching Project Configuration failed.","PlanningComponentMenu_PLAN_LABEL_DECORATION":"${0} \x3cspan class=\"com-ibm-team-apt-menu-iterationDecoration\"\x3e[${1}]\x3c/span\x3e","PlanningComponentMenu_BROWSE_SECTION_LABEL":"Browse","PlanningPageMain_NAVIGATE_AWAY_WARNING":"You have unsaved changes in plans:\n${0}\n","PlanningPageMain_GLOBAL_CONFIGURATION_CHANGED":"The global configuration has changed.  Refresh the plan to update the link context.","PlanningPageMain_INCOMPATIBLE_GLOBAL_CONFIGURATION_SAVE_ERROR":"There were problems modifying links that require the referenced resource to resolve with a global configuration."};

;dojo.provide("com.ibm.team.apt.web.ui.internal.page.PlanningSearchProvider");




























dojo.requireLocalization("com.ibm.team.apt.web.ui.internal.page","Messages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.apt.web.ui.internal.page","Messages");
var _2=com.ibm.jdojo;
var _3=_2.lang.Runtime;
var _4=_2.util.Assert;
var _5=com.ibm.team;
var _6=_5.apt;
var _7=_6.api.common;
var _8=_7.ItemType;
var _9=_7.UIItemHandle;
var _a=_7.query.PredefinedQueries;
var _b=_6.web;
var _c=_b.client.internal;
var _d=_c.query.QueryDescriptor;
var _e=_c.util;
var _f=_e.Future;
var _10=_e.Location;
var _11=_b.ui.internal.page.Events;
var _12=_5.rtc.foundation.web.ui.util.sprite.ImageSource;
var _13=dojo.string;
var _14=jazz.app.context;
var _15=jazz.ui._SearchProvider;
dojo.declare("com.ibm.team.apt.web.ui.internal.page.PlanningSearchProvider",_15,{constructor:function(){
this.fIsInline=false;
if(_14.get().itemId!=null){
this.fProjectArea=_9.itemHandleFrom(_8.ProjectArea,_14.get().itemId);
this.name=_1.PlanningSearchProvider_SEARCH_LABEL;
this.defaultText=_1.PlanningSearchProvider_SEARCH_DEFAULT_TEXT;
this.tooltip=_1.PlanningSearchProvider_SEARCH_TOOLTIP;
this.scopes=[];
var _16=_17.values;
var _18=_16.length;
for(var _19=0;_19<_18;_19++){
var _1a=_16[_19];
this.scopes.push({id:_1a.name,label:_1a.fLabel,icon:_1a.fIcon.toUri()});
}
}
},onUpdate:function(_1b){
var _1c=_17[_1b.scope];
if(!(_1c!=null)){
_4.fail("scope != null","PlanningSearchProvider:92");
}
var _1d=function(_1e){
_1b.errback(_1.PlanningSearchProvider_SEARCH_ERROR);
console.log(_1e);
};
_3.newInstanceByName("com.ibm.team.apt.web.client.PlanningClient2",dojo.hitch(this,function(_1f){
var _20=_d.newPredefinedQuery(_1c.fPredefinedQuery,_1b.query,String(new Date().getMilliseconds()));
var _21=new _f();
_21.setCallback(dojo.hitch(this,function(_22){
var _23=[];
if(_22.items!=null){
var _24=_22.items;
var _25=_24.length;
for(var _26=0;_26<_25;_26++){
var _27=_24[_26];
_23.push(_9.fromHandle(_27));
}
}
var _28=new _f();
_28.setCallback(dojo.hitch(this,function(_29){
var _2a=[];
var _2b=_29;
var _2c=_2b.length;
for(var _2d=0;_2d<_2c;_2d++){
var _2e=_2b[_2d];
_2a.push(_2e.getIteration());
}
var _2f=new _f();
_2f.setCallback(dojo.hitch(this,function(_30){
this.handleResults(_1b,_29,_30,_22.totalPlans);
}));
_2f.setErrCallback(_1d);
_1f.getItemStore().withItems(_2a,_2f);
}));
_28.setErrCallback(_1d);
_1f.getItemStore().withItems(_23,_28);
}));
_21.setErrCallback(function(_31){
_1d(_31);
});
_1f.searchPlans(this.fProjectArea,_20,(_1b.page-1)*_1b.maxResults,_1b.maxResults,null,_21);
}));
},onExecute:function(_32){
_3.newInstanceByName("com.ibm.team.apt.web.client.PlanningUtil1",function(_33){
var _34=_17[_32.scope];
if(!(_34!=null)){
_4.fail("scope != null","PlanningSearchProvider:158");
}
var _35=_d.newPredefinedQuery(_34.fPredefinedQuery,_32.query,String(new Date().getMilliseconds()));
window.location.replace(_33.getSearchURI(_35,true));
});
return false;
},setInline:function(_36){
this.fIsInline=_36;
},constructResults:function(_37,_38){
var _39=[];
for(var i=0;i<_37.length;++i){
var _3a=_37[i];
var _3b=_38[i];
var _3c=jazz.util.html.escape(_13.substitute(_1.PlanningSearchProvider_PLAN_ITERATION_FORMAT,[_3a.getLabel(),_3b.getLabel()]));
var _3d=_3a.getIconUri();
var uri=_10.getItemURI(_3a);
var _3e={label:_3c,icon:_3d,uri:uri};
_3e.onclick=function(){
dojo.publish(_11.PLAN_OPENED_FROM_COMPONENT_MENU_TOPIC,[]);
};
_39.push(_3e);
}
return _39;
},constructLegacyResults:function(_3f,_40){
var _41=[];
for(var i=0;i<_3f.length;i++){
var _42=this.constructLegacyResult(_3f[i],_40[i]);
_41.push(_42);
}
return _41;
},constructLegacyResult:function(_43,_44){
var _45=jazz.util.html.escape(_13.substitute(_1.PlanningSearchProvider_PLAN_ITERATION_FORMAT,[_43.getLabel(),_44.getLabel()]));
return {label:_45,handler:function(){
window.location.replace(_10.getItemURI(_43));
dojo.publish(_11.PLAN_OPENED_FROM_COMPONENT_MENU_TOPIC,[]);
}};
},doCallbackResults:function(_46,_47,_48){
_46.callback({results:_47,paging:true,totalResults:_48});
},handleResults:function(_49,_4a,_4b,_4c){
if(this.fIsInline){
var _4d=this.constructLegacyResults(_4a,_4b);
_49.callback(_4d);
}else{
var _4d=this.constructResults(_4a,_4b);
this.doCallbackResults(_49,_4d,_4c);
}
}});
var _17=dojo.declare("com.ibm.team.apt.web.ui.internal.page.PlanningSearchProvider.SearchScope",null,{constructor:function(_4e,_4f,_50){
this.fPredefinedQuery=_4e;
this.fLabel=_4f;
this.fIcon=_50;
},compareTo:function(_51){
return this.ordinal-_51.ordinal;
}});
_17.values=[dojo.mixin(new _17(_a.ALLPLANS,_1.PlanningSearchProvider_SCOPE_ALL,_12.fromBundleImage("com.ibm.team.apt.web.ui","internal/page/images/plans-searchscope_obj.png")),{name:"All",ordinal:0}),dojo.mixin(new _17(_a.CURRENTPLANS,_1.PlanningSearchProvider_SCOPE_CURRENT,_12.fromBundleImage("com.ibm.team.apt.web.ui","internal/page/images/plans-searchscope_obj.png")),{name:"Current",ordinal:1}),dojo.mixin(new _17(_a.MYPLANS,_1.PlanningSearchProvider_SCOPE_MY_CURRENT,_12.fromBundleImage("com.ibm.team.apt.web.ui","internal/page/images/plans-searchscope_obj.png")),{name:"MyCurrent",ordinal:2})];
_17.All=_17.values[0];
_17.Current=_17.values[1];
_17.MyCurrent=_17.values[2];
})();


;dojo.provide("com.ibm.team.build.web.ui.BuildConstants");
(function(){
var _1=dojo.declare("com.ibm.team.build.web.ui.BuildConstants",null,{"-chains-":{constructor:"manual"}});
_1.ACTION_VIEW_DEFAULT="com.ibm.team.build.viewDefault";
_1.ACTION_VIEW_DEFINITION_LIST="com.ibm.team.build.viewDefinitionList";
_1.ACTION_VIEW_DEFINITION="com.ibm.team.build.viewDefinition";
_1.ACTION_VIEW_RESULT="com.ibm.team.build.viewResult";
_1.ACTION_VIEW_BUILD_QUEUE="com.ibm.team.build.viewBuildQueue";
_1.ACTION_REQUEST_BUILD="com.ibm.team.build.requestBuild";
_1.ACTION_VIEW_BUILD_ENGINES="com.ibm.team.build.viewBuildEngines";
_1.ACTION_VIEW_BUILD_ENGINE_RESULTS="com.ibm.team.build.viewEngineResults";
_1.ACTION_EDIT_BUILD_ENGINE="com.ibm.team.build.editEngine";
_1.ACTION_NEW_BUILD_ENGINE="com.ibm.team.build.newBuildEngine";
_1.ACTION_EDIT_BUILD_DEFINITION="com.ibm.team.build.editDefinition";
_1.ACTION_NEW_BUILD_DEFINITION="com.ibm.team.build.newBuildDefinition";
_1.PAGE_ID="com.ibm.team.build";
_1.RESULT_TYPE_ID="com.ibm.team.build.BuildResult";
_1.DEFINITION_TYPE_ID="com.ibm.team.build.BuildDefinition";
_1.ENGINE_TYPE_ID="com.ibm.team.build.BuildEngine";
_1.URL_PARAM_TEAM="team";
_1.URL_PARAM_PROJECT="project";
_1.URL_PARAM_ID="id";
_1.URL_PARAM_DEFINITION="definition";
_1.URL_PARAM_RESULT="result";
_1.URL_PARAM_TAB="tab";
_1.RESULT_TAB_OVERVIEW="com.ibm.team.build.web.ui.internal.editors.result.overview.OverviewPage";
_1.ENGINE_TAB_OVERVIEW="com.ibm.team.build.web.ui.internal.editors.engine.overview.OverviewPage";
_1.DEFINITION_OVERVIEW_ID="com.ibm.team.build.general";
_1.URL_PARAM_SHOW_PERSONAL_BUILDS="showPersonalBuilds";
_1.URL_PARAM_FILTER="filter";
_1.FILTER_ALL_TEAM_AREA="allTeamArea";
_1.FILTER_MY_TEAM_AREA="myTeamArea";
_1.FILTER_ALL_BUILD_ENGINES="allBuildEngines";
_1.FILTER_DUMMY="dummyFilter";
_1.EVENT_BUILD_VIEW_CHANGED="viewChanged";
_1.CSH_PAGE_DEFINITION_LIST="com.ibm.team.build.web.page_definitionList";
_1.CSH_PAGE_BUILD_QUEUE="com.ibm.team.build.web.page_buildQueue";
_1.CSH_PAGE_BUILD_ENGINES="com.ibm.team.build.web.page_buildEngine";
_1.CSH_PAGE_BUILD_DEFINITION_PAGE="com.ibm.team.build.web.page_definition";
_1.CSH_PAGE_BUILD_RESULT_PAGE="com.ibm.team.build.web.page_result";
_1.CSH_PAGE_BUILD_ENGINE_RESULT="com.ibm.team.build.web.page_engineResult";
_1.CSH_PAGE_BUILD_REQUEST_PAGE="com.ibm.team.build.web.page_request";
_1.TEMPLATEID_JBE="com.ibm.team.build.engine.jbe";
_1.TEMPLATEID_HUDSON="com.ibm.rational.connector.hudson.engine.template";
_1.TEMPLATEID_BUILD_AGENT="com.ibm.rational.buildforge.buildagent.engine";
_1.TEMPLATEID_BUILD_FORGE="com.ibm.rational.connector.buildforge.engine.template";
_1.PROPERTY_KIND_STRING="com.ibm.team.build.property.string";
_1.PROPERTIES_ID="com.ibm.team.build.properties";
_1.BUILD_FORGE_LEGACY_ENGINE_ID="RationalBuildForgeConnector";
_1.BUILD_AGENT_LEGACY_ENGINE_ID="RationalBuildAgent";
_1.INTERNAL_PROPERTY_ENGINE_TEMPLATE_ID="com.ibm.team.build.internal.engine.template.id";
_1.BUILD_FORGE_DEFINITION_ELEMENT_ID="com.ibm.rational.connector.buildforge";
_1.BUILD_AGENT_DEFINITION_ELEMENT_ID="com.ibm.rational.buildforge.buildagent";
_1.HUDSON_DEFINITION_ELEMENT_ID="com.ibm.rational.connector.hudson";
_1.OVERVIEW_DEFINITION_ELEMENT_ID="com.ibm.team.build.general";
_1.BUILD_FORGE_ENGINE_ELEMENT_ID="com.ibm.rational.connector.buildforge.engine";
_1.BUILD_AGENT_ENGINE_ELEMENT_ID="com.ibm.rational.buildforge.buildagent";
_1.HUDSON_ENGINE_ELEMENT_ID="com.ibm.rational.connector.hudson.engine";
_1.SUPPORTING_ENGINES_CHANGED="supportingEnginesChanged";
_1.INTERNAL_PROPERTY_RELEASE_NOT_SUPPORTED="com.ibm.team.build.internal.release.not.supported";
})();


;dojo.provide("com.ibm.team.build.web.ui.internal.BuildInternalConstants");
(function(){
var _1=dojo.declare("com.ibm.team.build.web.ui.internal.BuildInternalConstants",null,{"-chains-":{constructor:"manual"}});
_1.newLine="\n";
_1.tabSpace="\t";
_1.space=" ";
_1.comma=",";
_1.trueValue="true";
_1.emptyValue="";
_1.hyphen="-";
_1.buildWebComponent="com.ibm.team.build.web";
_1.falseValue="false";
_1.callbackString="callback";
_1.errbackString="errback";
_1.parmsProcessAreaUUID="processAreaUUID";
_1.parmsMathcingID="matchingID";
_1.parmsMaxItemCount="max";
_1.divElement="div";
_1.imgElement="img";
_1.labelElement="label";
_1.anchorElement="a";
_1.block="block";
_1.none="none";
_1.COLON=":";
_1.DOT=".";
_1.textElement="text";
_1.inputElement="input";
_1.visible="visible";
_1.hidden="hidden";
_1.selectElement="select";
_1.onclick="onclick";
_1.onkeypress="onkeypress";
_1.HASH="#";
_1.orOperator="|";
_1.slash="/";
_1.none_text="none-text";
_1.PROPERTY_NAME_KEY="name";
_1.PROPERTY_VALUE_KEY="value";
_1.PROPERTY_DESCRIPTION_KEY="description";
_1.PROPERTY_HIDDEN_KEY="hidden";
_1.PROPERTY_HIDE="hide";
_1.PROPERTY_SHOW="show";
_1.PASSWORD_VISIBLE_TO_USER="*****";
_1.INTERNAL_PROPERTY_TEMPLATE_ID="com.ibm.team.build.internal.template.id";
_1.SCHEDULE_CONFIGURATION_EDITOR_ID="com.ibm.team.build.schedule";
_1.NEW_BUILD_DEFINITION_WIZARD_STEP_HEIGHT="36.1em";
})();


;define("dojox/date/posix",["dojo/_base/kernel","dojo/date","dojo/date/locale","dojo/string","dojo/cldr/supplemental"],function(_1,_2,_3,_4,_5){
var _6=_1.getObject("date.posix",true,dojox);
_6.strftime=function(_7,_8,_9){
var _a=null;
var _b=function(s,n){
return _4.pad(s,n||2,_a||"0");
};
var _c=_3._getGregorianBundle(_9);
var $=function(_d){
switch(_d){
case "a":
return _3.getNames("days","abbr","format",_9)[_7.getDay()];
case "A":
return _3.getNames("days","wide","format",_9)[_7.getDay()];
case "b":
case "h":
return _3.getNames("months","abbr","format",_9)[_7.getMonth()];
case "B":
return _3.getNames("months","wide","format",_9)[_7.getMonth()];
case "c":
return _3.format(_7,{formatLength:"full",locale:_9});
case "C":
return _b(Math.floor(_7.getFullYear()/100));
case "d":
return _b(_7.getDate());
case "D":
return $("m")+"/"+$("d")+"/"+$("y");
case "e":
if(_a==null){
_a=" ";
}
return _b(_7.getDate());
case "f":
if(_a==null){
_a=" ";
}
return _b(_7.getMonth()+1);
case "g":
break;
case "G":
console.warn("unimplemented modifier 'G'");
break;
case "F":
return $("Y")+"-"+$("m")+"-"+$("d");
case "H":
return _b(_7.getHours());
case "I":
return _b(_7.getHours()%12||12);
case "j":
return _b(_3._getDayOfYear(_7),3);
case "k":
if(_a==null){
_a=" ";
}
return _b(_7.getHours());
case "l":
if(_a==null){
_a=" ";
}
return _b(_7.getHours()%12||12);
case "m":
return _b(_7.getMonth()+1);
case "M":
return _b(_7.getMinutes());
case "n":
return "\n";
case "p":
return _c["dayPeriods-format-wide-"+(_7.getHours()<12?"am":"pm")];
case "r":
return $("I")+":"+$("M")+":"+$("S")+" "+$("p");
case "R":
return $("H")+":"+$("M");
case "S":
return _b(_7.getSeconds());
case "t":
return "\t";
case "T":
return $("H")+":"+$("M")+":"+$("S");
case "u":
return String(_7.getDay()||7);
case "U":
return _b(_3._getWeekOfYear(_7));
case "V":
return _b(_6.getIsoWeekOfYear(_7));
case "W":
return _b(_3._getWeekOfYear(_7,1));
case "w":
return String(_7.getDay());
case "x":
return _3.format(_7,{selector:"date",formatLength:"full",locale:_9});
case "X":
return _3.format(_7,{selector:"time",formatLength:"full",locale:_9});
case "y":
return _b(_7.getFullYear()%100);
case "Y":
return String(_7.getFullYear());
case "z":
var _e=_7.getTimezoneOffset();
return (_e>0?"-":"+")+_b(Math.floor(Math.abs(_e)/60))+":"+_b(Math.abs(_e)%60);
case "Z":
return _2.getTimezoneName(_7);
case "%":
return "%";
}
};
var _f="",i=0,_10=0,_11=null;
while((_10=_8.indexOf("%",i))!=-1){
_f+=_8.substring(i,_10++);
switch(_8.charAt(_10++)){
case "_":
_a=" ";
break;
case "-":
_a="";
break;
case "0":
_a="0";
break;
case "^":
_11="upper";
break;
case "*":
_11="lower";
break;
case "#":
_11="swap";
break;
default:
_a=null;
_10--;
break;
}
var _12=$(_8.charAt(_10++));
switch(_11){
case "upper":
_12=_12.toUpperCase();
break;
case "lower":
_12=_12.toLowerCase();
break;
case "swap":
var _13=_12.toLowerCase();
var _14="";
var ch="";
for(var j=0;j<_12.length;j++){
ch=_12.charAt(j);
_14+=(ch==_13.charAt(j))?ch.toUpperCase():ch.toLowerCase();
}
_12=_14;
break;
default:
break;
}
_11=null;
_f+=_12;
i=_10;
}
_f+=_8.substring(i);
return _f;
};
_6.getStartOfWeek=function(_15,_16){
if(isNaN(_16)){
_16=_5.getFirstDayOfWeek?_5.getFirstDayOfWeek():0;
}
var _17=_16;
if(_15.getDay()>=_16){
_17-=_15.getDay();
}else{
_17-=(7-_15.getDay());
}
var _18=new Date(_15);
_18.setHours(0,0,0,0);
return _2.add(_18,"day",_17);
};
_6.setIsoWeekOfYear=function(_19,_1a){
if(!_1a){
return _19;
}
var _1b=_6.getIsoWeekOfYear(_19);
var _1c=_1a-_1b;
if(_1a<0){
var _1d=_6.getIsoWeeksInYear(_19);
_1c=(_1d+_1a+1)-_1b;
}
return _2.add(_19,"week",_1c);
};
_6.getIsoWeekOfYear=function(_1e){
var _1f=_6.getStartOfWeek(_1e,1);
var _20=new Date(_1e.getFullYear(),0,4);
_20=_6.getStartOfWeek(_20,1);
var _21=_1f.getTime()-_20.getTime();
if(_21<0){
return _6.getIsoWeeksInYear(_1f);
}
return Math.ceil(_21/604800000)+1;
};
_6.getIsoWeeksInYear=function(_22){
function p(y){
return y+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400);
};
var y=_22.getFullYear();
return (p(y)%7==4||p(y-1)%7==3)?53:52;
};
return _6;
});


;dojo.provide("com.ibm.team.build.web.util.BuildUtil");








(function(){
var _1=com.ibm.team.build.web.ui.BuildConstants;
com.ibm.team.build.web.util.BuildUtil={getDefinitionListHref:function(_2){
var _3=["#action=",_1.ACTION_VIEW_DEFINITION_LIST];
if(_2){
_3=_3.concat(["&",_1.URL_PARAM_FILTER,"=",_2]);
}
return _3.join("");
},getDefinitionHref:function(_4,_5){
var _6=["#action=",_1.ACTION_VIEW_DEFINITION,"&",_1.URL_PARAM_ID,"=",encodeURIComponent(_4)];
if(_5===false){
_6=_6.concat(["&",_1.URL_PARAM_SHOW_PERSONAL_BUILDS,"=",_5]);
}
return _6.join("");
},editEngineHref:function(_7,_8){
var _9=["#action=",_1.ACTION_EDIT_BUILD_ENGINE,"&",_1.URL_PARAM_ID,"=",encodeURIComponent(_7)];
if(_8){
_9.push("&");
_9.push(_1.URL_PARAM_TAB);
_9.push("=");
_9.push(encodeURIComponent(_8));
}
return _9.join("");
},getCreateBuildEngineHref:function(_a,_b){
return this.reuniquifyUrl("#action="+_1.ACTION_NEW_BUILD_ENGINE);
},getCreateBuildDefinitionHref:function(_c,_d){
return this.reuniquifyUrl("#action="+_1.ACTION_NEW_BUILD_DEFINITION);
},reuniquifyUrl:function(_e){
return _e.replace(/&ts=([0-9]+)/,"")+"&ts="+this.getUniqueId();
},getUniqueId:function(){
return Date.parse(new Date().toString());
},editDefinitionHref:function(_f,_10){
var _11=["#action=",_1.ACTION_EDIT_BUILD_DEFINITION,"&",_1.URL_PARAM_ID,"=",encodeURIComponent(_f)];
if(_10){
_11.push("&");
_11.push(_1.URL_PARAM_TAB);
_11.push("=");
_11.push(encodeURIComponent(_10));
}
return _11.join("");
},getResultHref:function(_12,_13){
var _14=["#action=",_1.ACTION_VIEW_RESULT,"&",_1.URL_PARAM_ID,"=",encodeURIComponent(_12)];
if(_13){
_14.push("&");
_14.push(_1.URL_PARAM_TAB);
_14.push("=");
_14.push(encodeURIComponent(_13));
}
return _14.join("");
},getBuildQueueHref:function(){
var _15=["#action=",_1.ACTION_VIEW_BUILD_QUEUE];
return _15.join("");
},getRequestBuildHref:function(_16){
var _17=["#action=",_1.ACTION_REQUEST_BUILD,"&",_1.URL_PARAM_DEFINITION,"=",encodeURIComponent(_16)];
return _17.join("");
},getRequestRebuildHref:function(_18){
var _19=["#action=",_1.ACTION_REQUEST_BUILD,"&",_1.URL_PARAM_RESULT,"=",encodeURIComponent(_18)];
return _19.join("");
},getBuildEnginesHref:function(_1a){
var _1b=["#action=",_1.ACTION_VIEW_BUILD_ENGINES];
if(_1a){
_1b=_1b.concat(["&",_1.URL_PARAM_FILTER,"=",_1a]);
}
return _1b.join("");
},getBuildEngineResultsHref:function(_1c){
var _1d=["#action=",_1.ACTION_VIEW_BUILD_ENGINE_RESULTS,"&",_1.URL_PARAM_ID,"=",encodeURIComponent(_1c)];
return _1d.join("");
},getBuildWelcomeHref:function(){
var _1e=["#action=",_1.ACTION_VIEW_DEFAULT];
return _1e.join("");
},getBuildResultUrl:function(_1f){
var url=[net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL,"/resource/itemOid/",_1.RESULT_TYPE_ID,"/",encodeURIComponent(_1f)];
return url.join("");
},getBuildDefinitionUrl:function(_20){
var url=[net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL,"/resource/itemOid/",_1.DEFINITION_TYPE_ID,"/",encodeURIComponent(_20)];
return url.join("");
},getBuildEngineUrl:function(_21){
var url=[net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL,"/resource/itemOid/",_1.ENGINE_TYPE_ID,"/",encodeURIComponent(_21)];
return url.join("");
},getProjectArea:function(){
return jazz.app.context.get();
},getUserProfileHref:function(){
var _22=com.ibm.team.repository.web.client.session.getAuthenticatedContributor();
var _23=["#action=com.ibm.team.repository.viewUserProfile&itemId=",_22.itemId];
return _23.join("");
},getReadableStringValue:function(_24){
return _24?_24+"":"";
},getBooleanValue:function(_25){
return _25==="true"?true:false;
},hasValue:function(obj){
return obj!==undefined&&obj!=null&&dojo.trim(obj)!=="";
},areEqual:function(_26,_27){
if(!_26&&!_27){
return true;
}
if(_26&&_27&&_26===_27){
return true;
}
return false;
},isEnterpriseTemplate:function(_28){
var _29=["com.ibm.team.enterprise.packaging","com.ibm.team.enterprise.deployment","com.ibm.team.enterprise.promotion","com.ibm.teami.build.qcmd","com.ibm.teami.build.autoload","com.ibm.teami.build.ant","com.ibm.teamp.build.dependency.template","com.ibm.teamz.build.antz","com.ibm.teamz.build.dependency.template","com.ibm.team.enterprise.ibmi.build.dependency.template","com.ibm.team.enterprise.zos.build.dependency.template"];
var _2a=false;
for(var i=0;i<_29.length&&!_2a;i++){
_2a=this.startsWith(_28,_29[i]);
}
return _2a;
},startsWith:function(str,_2b){
return ((str)&&(str.slice(0,_2b.length)===_2b));
},getEngineTemplateId:function(_2c){
var _2d=_2c.properties;
if(_2d!=null){
for(var i=0;i<_2d.length;i++){
if(_1.INTERNAL_PROPERTY_ENGINE_TEMPLATE_ID===_2d[i].name){
return _2d[i].value;
}
}
}
return null;
},getClientTimeZoneId:function(){
var _2e=null;
if(typeof Intl==="undefined"||typeof Intl.DateTimeFormat==="undefined"||typeof Intl.DateTimeFormat().resolvedOptions()==="undefined"||Intl.DateTimeFormat().resolvedOptions().timeZone==="undefined"){
return null;
}
if(Intl&&Intl.DateTimeFormat&&Intl.DateTimeFormat().resolvedOptions()){
_2e=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
return _2e;
},getEmailValidationRegexString:function(){
return "[a-zA-Z0-9._]+[@]+[a-zA-Z0-9]+[.]+[a-zA-Z]{2,6}";
}};
})();


;dojo.provide("com.ibm.team.build.web.ui.internal.RecentlyViewed");








(function(){
var _1=com.ibm.team.build.web.ui.BuildConstants;
var _2=com.ibm.team.build.web.util.BuildUtil;
var _3=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _4=10;
var _5=false;
com.ibm.team.build.web.ui.internal.RecentlyViewed={_artifacts:[],pageVisited:function(_6){
if(!_6||!_6.getArtifactInfo){
return;
}
var _7={failure:function(_8){
console.error(_8);
},success:dojo.hitch(this,this._processPageVisit)};
var _9=new _3(_7,"success","failure");
_6.getArtifactInfo(_9);
},init:function(){
if(_5){
return false;
}
var _a=jazz.app.viewHistory.get({application:"%MY_APPLICATION%",project:_2.getProjectArea().name,type:[_1.RESULT_TYPE_ID,_1.DEFINITION_TYPE_ID,_1.ENGINE_TYPE_ID]});
_a.addCallback(dojo.hitch(this,this._processGetResponse));
},getArtifacts:function(){
return this._artifacts;
},getArtifactsCount:function(){
return this._artifacts.length;
},_processGetResponse:function(_b){
var _c={};
for(var i=0;i<this._artifacts.length;i++){
_c[this._artifacts[i].url]=i;
}
if(!_b.count||!_b.items||!_b.items.length){
return;
}
var _d=false;
for(i=0;i<_b.items.length&&this._artifacts.length<_4;i++){
var _e=_b.items[i];
if(typeof _c[_e.uri]==="number"){
continue;
}
var _f=_e.uri.substring(_e.uri.lastIndexOf("/")+1);
this._artifacts.push({type:_e.type,itemId:_f,title:_e.label,iconUrl:_e.iconUri,href:this._getItemHref(_e.type,_f),url:_e.uri});
_d=true;
}
if(_d){
dojo.publish(_1.EVENT_BUILD_VIEW_CHANGED);
}
},_getItemHref:function(_10,_11){
switch(_10){
case _1.DEFINITION_TYPE_ID:
return _2.getDefinitionHref(_11);
case _1.RESULT_TYPE_ID:
return _2.getResultHref(_11);
default:
return _2.getBuildEngineResultsHref(_11);
}
},_processPageVisit:function(_12){
this._artifacts.splice(0,0,_12);
for(var i=1;i<this._artifacts.length;i++){
var cur=this._artifacts[i];
if(cur.url==_12.url){
this._artifacts.splice(i,1);
break;
}
}
if(this._artifacts.length>_4){
this._artifacts.length=_4;
}
jazz.app.viewHistory.put({application:"%MY_APPLICATION%",project:_2.getProjectArea().name,type:_12.type},{uri:_12.url,label:_12.title,iconUri:_12.iconUrl.toString()});
dojo.publish(_1.EVENT_BUILD_VIEW_CHANGED);
}};
})();

dojo.provide("com.ibm.team.build.web.ui.internal.nls.BuildMessages")._built=true;
dojo.provide("com.ibm.team.build.web.ui.internal.nls.BuildMessages.en_us");
com.ibm.team.build.web.ui.internal.nls.BuildMessages.en_us={"cancel":"Cancel","fileName":"File Name","newBuildDefinitionTitle":"New Build Definition","propertiesHeadingCopied":"Build Properties (copied from build ${0})","inProgressWithPercent":"In Progress (${0}%)","deleteBuild":"Delete","projectTeamsOnlyLabel":"Release is available to project teams only","showAllBuildEnginesLabel":"Show all build engines","valueHeading":"Value","errorFetchingProcessArea":"Error fetching team area.","readOnlyPropertyLabel":"${0} (read only)","showPersonalBuilds":"Show personal builds","builds":"Builds","stringActionLabel":"String","loadingBuildEngine":"Loading build engine","state":"State: ${0}","valueRequired":"This value is required.","createOrCopyBuildDefinition":"Create or Copy Build Definition","definitionEditorOverview":"Overview","loadingBuild":"Loading build","welcome":"Welcome to Builds","moveUp":"Move Up","editConfigDialogDesc":"Customize the definition by selecting pre-build, post-build, and other options. The pre-build and post-build selections will be performed in the order shown.","noComponent":"no component","accessLicenseError":"The ${0} assigned to you do not allow for the following operation: View Build Artifacts.","confirmAbandon":"Abandoned builds may continue to execute on the server, but will no longer show as in progress.\n\nAre you sure you want to abandon this build?","personal":"${0} Personal Build","completed":"Completed","loadingBuildDef":"Loading build definition","msgDeleteDefinitionSuccessful":"Build definition \'${0}\' has been deleted.","textAnErrorOccured":"An error occured.","recentlyViewed":"Recently Viewed","canceled":"Canceled","tooltipRemove":"Remove","engineInactive":"Inactive","propertyAction":"Action","noAvailablePreBuildElements":"There are no available pre-build elements to configure.","engineProcessArea":"Project or Team Area:","buildDefinitionSearchResultDescriptionText":"Showing first ${0} build definitions.","postBuildWizardStepTitle":"Post-Build","abandonedBy":"Abandoned by: ","compare":"Compare Build","buildEngine":"Build Engine","errorFetchWorkspace":"Error fetching workspace","loadingDefs":"Loading definitions","createBuildDefinition":"Create build definition","projectOrTeamAreaSelectionNewBuildDef":"Project or team area in which to create the build definition:","noRecentItems":"No recent items","engineNotRunning":"The build engine process may not be running.","overdue":"${0} (overdue)","definitionProcessArea":"Project or Team Area:","noWorkSpace":"Please specify a workspace.","folderTwiceError":"The folder \'${0}\' has been moved into folder \'${1}\'.  Please refresh and try again.","editConfigDialogOk":"OK","textError":"Error!","postBuild":"Post-build","buildEngineAndProjectAreaLabel":"${0} [in ${1}]","refresh":"Refresh","labelProgress":"Progress","searchByIDDefaultText":"Start typing to search by ID","sendingRequest":"Sending build request","buildQueue":"Build Queue","createFromExistingDefinitionRadioLabel":"Copy Existing","labelCurrentActivity":"Current Activity: ","maximum":"${0}, maximum","snapshotNotFound":"Cannot compare builds because build ${0} does not contain a snapshot","loadingProjectAreaHierarchy":"Loading project area hierarchy...","errorFetchingProjectName":"Error occurred during fetching project name","endTime":"Completed: ","browseDefinition":"Browse build definitions","engineId":"ID:","errorDuringSaving":"Error occurred when saving.","scopeLabel":"Scope:","idMustNotBeEmpty1":"Build definition id is required.","createBuildEngine":"Create build engine","selectView":"Select View:","browseDefinitionDescription":"You can view the details of build definitions.","personalBuildMessage":"Check this option to make this a personal build. The build will run using a workspace you specify, and will not impact the build definition status. Personal build alerts will only be received by you, not other members of your team.","engineBusy":"Busy","abandonBuild":"Abandon Build","noSupportEngines":"You cannot request a build for \'${0}\' because no active build engines support it.","warning":"Warning","addPropertyLabel":"Add Property","buildDefinitionsHeading":"Build Definitions","browseProjectAreaButtonNewBuildDef":"Browse...","engineEditorTitle":"Build Engine","labelTimeInQueue":"Time in Queue","selectProjectOrTeamAreaLabel":"Select project or team area","browseQueue":"Browse build queue","noResultsFound":"No build results found.","cancelBuild":"Cancel Build Request","projectOrTeamAreaColumnName":"Project or Team Area","labelDuration":"Duration","couldNotContainSpaceInPropertyName":"A property name cannot contain spaces.","noResultFound":"There are no in progress builds.","loadingEngineResults":"Loading in progress builds","preBuild":"Pre-build","buildsTitle":"Builds: ${0}","buildRelativeDateTime":"${0} at ${1}","addBuildDefinitionsTitle":"Add Build Definitions","engineNotFound":"The requested engine could not be found. It may have been deleted.","preBuildWizardStepDescripton":"Customize the ${0} build by selecting source control and other pre-build options. The selections will be performed in the order shown.","refreshWarning":"Refreshing will result in losing your changes. Continue with the refresh action?","definitionNotFound":"The requested definition could not be found. It may have been deleted.","newBuildEngineTitle":"New Build Engine","pending":"Pending","errorFetchingEngines":"Error occurred during fetching build engines.","description":"Description","noAvailablePostBuildElements":"There are no available post-build elements to configure.","labelStart":"Start Time","refreshForLatestUpdates":"Refresh to get the latest updates.","preBuildWizardStepTitle":"Pre-Build","duration":"Duration: ","propertyHasBlankName":"A property name must be given.","requestPageTitle":"Request Build for ${0}","kbytes":"${0} KB","personalBuildLabel":"${0} (personal build by ${1})","legacyEngineError":"This is a legacy build engine. Legacy build engines can not be viewed in the Web UI.","loadingBuildRequest":"Loading build request","createLabel":"Create","buildsHeading":"Builds for ${0}","foundNMatchingBuildDefinitions":"Found ${0} build definition(s).","createNewBuildDefinitionRadioLabel":"Create New","buildSnapshotNotFound":"The build snapshot could not be found.  It may have been deleted, or you may not have permission to view it.","buildDefinition":"Build Definition","propertyExists":"A property with that name already exists.","overview":"Overview","noValueInRequiredProperties":"The value of a required property must not be empty.","loadingBuildDefinitionTemplates":"Loading build definition templates...","multipleCurrentActivities":"${0} current activities","estimated":"Estimated Completion: ","copyOfPrefixNewBuildDef":"Copy of ${0}","configElementDescriptionLabel":"Description","labelTags":"Tags","noQueueFound":"The build queue is empty. There are no pending or in-progress builds.","accessLicense":"client access licenses","newBuildEngineNameTeamArea":"${0} engine","confirmDelete":"Are you sure you want to permanently delete the build result from the repository?","specifyIdDescription":"Specify an ID and description","engineLable":"${0} (${1})","engineIdle":"Idle","labelLabel":"Label","buildDefinitions":"Build Definitions","updatingConfiguration":"Updating Configuration","personalBuild":"Personal Build","idMustNotBeEmpty":"Build engine id is required.","deletingBuild":"Deleting build","requestBuild":"Request Build","none":"None","descriptionHeading":"Description","buildTagLabel":"Build Tag:","learnMore":"Learn more about builds \x3e","browseEngine":"Browse build engines","browseEngineDescription":"You can view the status of project build engines.","browseQueueDescription":"You can view the status of running builds.","allBuildEnginesLabel":"All Build Engines","labelEstimated":"Estimated Completion","abandoned":"Abandoned","loadingBuildEngines":"Loading build engines","browseProjectAreaButtonLabel":"Browse...","requestAlreadyInQueue":"A request for \'${0}\' is already in the queue. Are you sure you want to make another request?","noEnginesSupportRequests":"You cannot request a build for \'${0}\' because its supporting build engines do not have request processing enabled.","selectABuildEngine":"Select a build engine to copy","specifyIdDescriptionNewBuildDef":"Specify an ID and description","confirmNavigateAway":"The page has been modified and has NOT been saved, do you want to navigate away from this page?","loading":"Loading...","confirmCancel":"Do you want to cancel the request?","recentlyViewedLabel":"Recently Viewed","addBuildEnginesTitle":"Add Build Engines","selectBuildEngine":"Select Build Engine","unknownProjectArea":"\x3cUnknown Project Area\x3e","createBuildEngineDescription":"You can create a new build engine and provide the required details.","saving":"Saving","noEnginesFound":"No build engines found.","browseLabel":"Browse","definitionConfirmDelete":"Are you sure you want to permanently delete the \'${0}\' build definition from the repository?","buildEngines":"Build Engines","createReleaseDescriptionLabel":"Make this build available as a release so that users can report work items against it.","status":"Status: ${0}","other":"Other","definitionIdNewBuildDef":"ID:","editConfiguration":"Edit Configuration","nameHeading":"Name","save":"Save","notStarted":"Not Started","selectWorkspace":"Select Workspace","postBuildWizardStepDescription":"Customize the ${0} build by selecting post-build options. The selections will be performed in the order shown.","unknown":"\x3cunknown\x3e","configurationNotSupported":"This configuration cannot be edited in the web client.","optionsHeading":"Build Options","requestRebuild":"Request Rebuild","releaseNameLabel":"Release Name:","copyOfPrefix":"Copy of ${0}","loadingBuildQueue":"Loading build queue","additionalConfigurationWizardStepDescription":"Customize the ${0} build by selecting additional options.","startTime":"Start time: ","dashboardMini":"Mini Dashboard","engineWarning":"Warning: The build engine process may not be running.","showMe":"Show me \x3e","matchingDefinitions":"Matching Build Definitions:","editConfigDialogCancel":"Cancel","buildEngineResultsHeading":"In Progress Builds for ${0}","definitionTwiceError":"The build definition \'${0}\' has been moved into folder \'${1}\'.  Please refresh and try again.","fetchSnapshot":"Fetching snapshots from builds...","chooseBuildDefinitionType":"Choose a build definition type","repositoryWorkspace":"Repository Workspace:","filter":"Filter:","foundNMatchingBuildEngines":"Found ${0} build engine(s).","selectABuildDefinition":"Select a build definition to copy","loadingDef":"Loading definition","incompleted":"Incompleted","createReleaseDialogTitle":"Create Release","descriptionLabel":"Description: ","mbytes":"${0} MB","matchingEngines":"Matching Build Engines:","hiddenHeading":"Hidden","enginesNotProcessing":"The build engines supporting \'${0}\' do not appear to be processing requests. You can still submit a request, but the build may never run. Are you sure you want to submit the request?","createBuildDefinitionDescription":"You can create a new build definition and provide the required details.","noDescription":"\x3cNo description\x3e","showBuildEnginesInProjectAreaLabel":"Show build engines in project area","propertiesHeading":"Build Properties","editEngine":"Edit","abandonedByValue":"${0} at ${1}","selectBuildEngines":"Select supporting build engines","createFromExistingEngineRadioLabel":"Copy Existing","buildState":"Build state: ${0}","addLabel":"Add","snapshotDeleted":"Cannot compare builds because the snapshot has been deleted","noActivity":"\x3cno current activity\x3e","selectBuildDefinitions":"Select supported build definitions","unlabeled":"(unlabeled)","compTitle":"Access and manage your work:","resultNotFound":"The requested result could not be found. It may have been deleted.","timeInQueue":"Time in queue: ","allTeamAreas":"All Team Areas","progressAndActivity":"${0} (${1})","submitLabel":"Submit","noDefinitions":"No build definitions found.","moveDown":"Move Down","projectOrTeamAreaSelection":"Project or team area in which to create the build engine:","buildHeading":"Build ${0}","expandAll":"Expand All","loadingBuildEngineTemplates":"Loading build engine templates...","createNewBuildEngineRadioLabel":"Create New","collapseAll":"Collapse All","containsErrors":"(contains errors)","noAvailableOtherElements":"There are no additional elements to configure.","na":"N/A","serviceNotFound":"The required service could not be found. It may be restricted by the server.","cancelButtonName":"Cancel","actionsLabel":"Actions","fileSize":"File Size","engineConfirmDelete":"Are you sure you want to permanently delete the \'${0}\' build engine from the repository?","myTeamAreas":"My Team Areas","lastModified":"Last Updated: ","removeLabel":"Remove","containsWarnings":"(contains warning)","idColumn":"ID","request":"Request Build","saveChangesBeforeEditConfiguration":"The build definition was modified but not saved. Save the changes before you edit the configuration of the build definition.","requestFailed":"Build request failed. ${0}","inProgress":"In Progress","buildEngineSearchResultDescriptionText":"Showing first ${0} build engines.","msgDeleteEngineSuccessful":"Build Engine ${0} has been deleted.","buildLabel":"${0} ${1}","additionalConfigWizardStepTitle":"Additional Configuration","processAreaMustNotBeEmpty":"A project or team area is required.","error":"Error","errorRetrievingTemplates":"Error retrieving templates","errorFetchSnapshot":"Error fetching snapshot","compText2":"Search for the resources with \x3cb\x3equick search\x3c/b\x3e.","compText3":"Track resources available from the \x3cb\x3enavigation bar drop-down menu\x3c/b\x3e and","compText1":"Use the \x3cb\x3enavigation bar drop-down menu\x3c/b\x3e to create resources or to access existing resources.","ok":"OK","buildQueueHeading":"Build Queue","buildEnginesHeading":"Build Engines","definitionId":"ID:","definitionEditorTitle":"Build Definition","loadingNoEllipsis":"Loading","errorsDetected":"${0} errors detected","percentComplete":"${0}%","allBuildDefinitionsLabel":"All Build Definitions","chooseBuildEngineType":"Choose a build engine type","descriptionLabelNewBuildDef":"Description:","requiredHoverDescription":"Because this is a required property, its description cannot be changed.","newBuildDefinitionNameTeamArea":"${0} build","bytes":"${0} B","useWildcardCharacters":"Use \'*\' and \'?\' as wildcard characters.","inputNameRemind":"Please input the name for the property by clicking the field.","requiredHoverName":"Because this is a required property, its name cannot be changed.","pendingWithBrackets":"(Pending)","extendedLabel":"${0} [in ${1}]","buildAlreadyInProgress":"A \'${0}\' build is already in progress. Are you sure you want to request another one?"};

;dojo.provide("com.ibm.team.build.web.ui.internal.BuildComponentMenu");
















dojo.requireLocalization("com.ibm.team.build.web.ui.internal","BuildMessages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.build.web.ui.internal","BuildMessages");
var _2=com.ibm.team.build.web;
var ui=_2.ui;
var _3=ui.BuildConstants;
var _4=ui.internal;
var _5=_4.BuildInternalConstants;
var _6=_4.RecentlyViewed;
var _7=_2.util.BuildUtil;
var _8=dijit.MenuItem;
var _9=jazz.app._ComponentMenu;
dojo.declare("com.ibm.team.build.web.ui.internal.BuildComponentMenu",_9,{_index:0,postCreate:function(){
this.handle=dojo.subscribe(_3.EVENT_BUILD_VIEW_CHANGED,this,"setDirty");
this.refreshMenu();
_6.init();
},refreshMenu:function(){
this.clear();
this._index=0;
this._index=this._addQueries(this._index);
this._index=this._addRecentlyViewed(this._index);
this._dirty=false;
},setDirty:function(){
this._dirty=true;
},onOpen:function(){
if(this._dirty){
this.refreshMenu();
}
this.inherited("onOpen",arguments,[]);
},getSelected:function(){
var _a=window.location.href;
var _b=this.getItems();
var _c=_b;
var _d=_c.length;
for(var _e=0;_e<_d;_e++){
var _f=_c[_e];
if(_a.indexOf(_f.href)>-1){
return _f;
}
}
return null;
},_addQueries:function(_10){
this.addItem(jazz.util.html.escape(_1.welcome),dojo.moduleUrl(_5.buildWebComponent,"graphics/result/icons/bld_rslt.gif"),_7.getBuildWelcomeHref(),_10++);
this.addTitle(_1.browseLabel,{insertIndex:_10++});
this.addItem(jazz.util.html.escape(_1.buildDefinitions),dojo.moduleUrl(_5.buildWebComponent,"graphics/common/icons/builds_obj.gif"),_7.getDefinitionListHref(null),_10++);
this.addItem(jazz.util.html.escape(_1.buildQueue),dojo.moduleUrl(_5.buildWebComponent,"graphics/common/icons/build-queue-group_obj.gif"),_7.getBuildQueueHref(),_10++);
this.addItem(jazz.util.html.escape(_1.buildEngines),dojo.moduleUrl(_5.buildWebComponent,"graphics/common/icons/build-engine-group_obj.gif"),_7.getBuildEnginesHref(null),_10++);
this.addTitle(_1.createLabel,{insertIndex:_10++});
this.addItem(jazz.util.html.escape(_1.buildDefinition),dojo.moduleUrl(_5.buildWebComponent,"graphics/common/icons/build_type_obj.gif"),_7.getCreateBuildDefinitionHref(),_10++);
this.addItem(jazz.util.html.escape(_1.buildEngine),dojo.moduleUrl(_5.buildWebComponent,"graphics/common/icons/normal_engine.gif"),_7.getCreateBuildEngineHref(),_10++);
return _10;
},addItem:function(_11,_12,_13,_14){
var _15={};
_15.label=_11;
_15.icon=_12;
_15.href=_13;
_15.insertIndex=_14;
this.addItemByArgs(_15);
},_addRecentlyViewed:function(_16){
var _17=_6.getArtifactsCount();
if(_17<1){
return _16;
}
var _18={};
_18.wrapHint=2;
_18.insertIndex=_16++;
var _19=_17===10?dojo.string.substitute(_1.maximum,[_17]):_17;
this.addTitle("<b>"+_1.recentlyViewed+"</b> ("+_19+")",_18);
var _1a=_6.getArtifacts();
for(var i=0;i<_1a.length;i++){
var _1b=_1a[i];
var _1c={};
_1c.icon=_1b.iconUrl;
_1c.href=_1b.href;
_1c.label=jazz.util.html.escape(_1b.title);
this.addItemByArgs(_1c,_16++);
}
return _16;
},destroy:function(_1d){
this.inherited("destroy",arguments,[_1d]);
if(this.handle!=null){
dojo.unsubscribe(this.handle);
this.handle=null;
}
}});
dojo.declare("com.ibm.team.build.web.ui.internal.BuildComponentMenu.MenuItemLink",_8,{constructor:function(_1e){
}});
})();

dojo.provide("com.ibm.team.dashboard.web.ui.internal.nls.DashboardMenuMessages")._built=true;
dojo.provide("com.ibm.team.dashboard.web.ui.internal.nls.DashboardMenuMessages.en_us");
com.ibm.team.dashboard.web.ui.internal.nls.DashboardMenuMessages.en_us={"noDashboards":"None","currentPersonal":"Current Personal Dashboards","allPersonalDashboards":"All Personal Dashboards","myDashboards":"My Dashboards","recentDashboards":"Recent Dashboards","createDashboard":"Create Dashboard","searchScopeAll":"All Dashboards","publicDashboards":"Public Dashboards","projectDashboards":"Browse Project and Team Dashboards","createPermissionDenied":"You do not have permission to create a dashboard. Please contact your administrator to be granted the proper permissions.","unsavedDashboards":"Unsaved","allProjectDash":"All ${0} Dashboards","searchTooltip":"Search dashboards","sharedDashboards":"Shared Dashboards","personalDashboards":"Personal Dashboards","searchScopeAllTeams":"All Team Dashboards","searchNoResultsLabel":"No dashboards found for ${0}.","createPersonalDashboard":"Create dashboard"};

;(function(){
dojo.provide("com.ibm.team.dashboard.web.ui.ProjectDashboardComponentMenu");


























dojo.requireLocalization("com.ibm.team.dashboard.web.ui.internal","DashboardMenuMessages");
var _1=com.ibm.team.dashboard.web.ui.internal.Constants;
var _2=com.ibm.team.dashboard.web.ui.DashboardConstants;
var _3=com.ibm.team.dashboard.web.util.internal.Util;
var _4=com.ibm.team.dashboard.web.util.DashboardUtil;
var _5=jazz.util.html;
var _6=jazz.ui.internal.MenuItemGroup;
var _7=jazz.ui.MegaMenu.WrapHints;
var _8=jazz.app.viewHistory;
var _9="com.ibm.team.dashboard";
var _a=dojo.i18n.getLocalization("com.ibm.team.dashboard.web.ui.internal","DashboardMenuMessages");
dojo.declare("com.ibm.team.dashboard.web.ui.ProjectDashboardComponentMenu",jazz.app._ComponentMenu,{urlProcessor:null,postCreate:function(){
if(!this.textDir){
this.textDir=jazz.app.i18n.getPreferredBaseTextDir();
}
dojo.addClass(this.domNode,"com-ibm-team-dashboard-ComponentMenu");
var _b=jazz.app.context.get().name;
var _c=_5.escape(this.enforceTextDirWithUcc({},_b));
var _d=_4.getDashboardHref(_2.SCOPE_PROJECT_AREA,_b);
var _e=_3.getAllProjectDashboardsHref(_b);
_d=(this.urlProcessor&&dojo.isFunction(this.urlProcessor))?this.urlProcessor(_d):_d;
_e=(this.urlProcessor&&dojo.isFunction(this.urlProcessor))?this.urlProcessor(_e):_e;
this._projectDashboards=new _6({menu:this,groupTitle:_a.projectDashboards,items:[{label:_c,iconClass:"project-dashboard",href:_d},{label:dojo.string.substitute(_a.allProjectDash,[_c]),iconClass:"all-projects",href:_e,wrapHint:_7.NO_WRAP}]});
this.initRecent();
dojo.publish("/jazz/dashboard/initMenu",[this]);
this.subscribe("/jazz/dashboard/view",this._addRecentItem);
this.subscribe("/jazz/dashboard/dirty",this.onDirtyStateChange);
},initRecent:function(_f){
var _10=[];
var _11={application:"%MY_APPLICATION%",type:_9,project:jazz.app.context.get().name};
var def=_8.get(_11);
var _12=new dojo.Deferred();
this._createDeferredRecentSection(_12);
def.addCallback(dojo.hitch(this,function(_13){
var _14=_13.items;
outer:
for(var i=0;i<_14.length;i++){
var _15=_14[i];
var _16={label:this.enforceTextDirWithUcc({},_15.label),icon:_15.iconUri,href:(this.urlProcessor&&dojo.isFunction(this.urlProcessor))?this.urlProcessor(_3.addUIParams(_15.uri)):_3.addUIParams(_15.uri),uri:_15.uri};
if(this._unsavedHref&&this._isSameDashboard(_16.href,this._unsavedHref)){
delete this._unsavedHref;
continue;
}
for(var j=0;j<_10.length;j++){
if(this._isSameDashboard(_10[j].href,_16.href)){
continue outer;
}
}
_10.push(_16);
}
if(_10.length==0){
if(this._unsavedDashboards){
this._unsavedDashboards.set("wrapHint",_7.FORCE_WRAP);
}
this._recentDashboards.remove();
this._recentDashboards.destroy();
delete this._recentDashboards;
}else{
_12.callback(_10);
this._recentDashboards.set("groupTitle","<b>"+_a.recentDashboards+"</b> ("+(_10?_10.length:0)+")");
if(_10.length>0){
this.updateSelected();
}
}
}));
},_createRecentSection:function(_17){
if(!this._recentDashboards){
if(this._unsavedDashboards){
this._unsavedDashboards.set("wrapHint",_7.NO_WRAP);
}
this._recentDashboards=new _6({menu:this,wrapHint:_7.FORCE_WRAP,groupTitle:"<b>"+_a.recentDashboards+"</b> ("+(_17?_17.length:0)+")",items:_17||[]});
}
},_createDeferredRecentSection:function(def){
if(!this._recentDashboards){
this._recentDashboards=new _6({menu:this,wrapHint:_7.FORCE_WRAP,groupTitle:"<b>"+_a.recentDashboards+"</b>",itemProvider:function(){
return def;
}});
}
},_addRecentItem:function(_18){
_18.href=_3.addUIParams(_18.href);
if(!this._recentDashboards){
this._createRecentSection();
}
var _19=this._recentDashboards.get("items");
for(var i=0;i<_19.length;i++){
if(this._isSameDashboard(_19[i].href,_18.href)){
this._recentDashboards.remove(_19[i]).destroy();
break;
}
}
while(_19.length>4){
this._recentDashboards.remove(_19[0]).destroy();
}
this._recentDashboards.addItemByArgs(_18,0);
this._updateRecentCount();
this.updateSelected();
return true;
},_isSameDashboard:function(_1a,_1b){
var _1c=net.jazz.ajax.contextRoot();
return _1a.substring(_1a.indexOf(_1c))==_1b.substring(_1b.indexOf(_1c));
},_createMenuItem:function(_1d,_1e){
var _1f=_1d.dashboard.binding;
var _20=_1f.getTitle(),_21=_3.getDashboardHref(_1d),_22;
switch(_1d.scope){
case _2.SCOPE_CONTRIBUTOR:
if(_1d.dashboard.securityContext.indexOf(_1.CONTEXT_PUBLIC)>=0){
_22="shared-dash";
}else{
_22="my-dash";
}
break;
case _2.SCOPE_TEAM_AREA:
_22="team-dash";
break;
case _2.SCOPE_PROJECT_AREA:
_22="project-dashboard";
break;
}
var _23=_5.escape(this.enforceTextDirWithUcc({},_20));
if(_1e){
_23="<span class='j-dirty'>* "+_23+"</span>";
}
return {label:_23,iconClass:_22,href:_21,url:_1d.dashboardUrl};
},_updateRecentCount:function(){
if(!this._recentDashboards){
return 0;
}
var _24=this._recentDashboards.get("items").length;
this._recentDashboards.set("groupTitle","<b>"+_a.recentDashboards+"</b> ("+_24+")");
return _24;
},onDirtyStateChange:function(_25,_26){
if(_26){
if(this._recentDashboards){
var _27=this._recentDashboards.get("items");
var _28=_3.getDashboardHref(_25);
if(_27){
for(var i=0;i<_27.length;i++){
var _29=_27[i];
if(this._isSameDashboard(_29.href,_28)){
this._recentDashboards.remove(_29);
break;
}
}
if(!this._updateRecentCount()){
this._recentDashboards.remove();
this._recentDashboards.destroy();
delete this._recentDashboards;
}
}else{
this._unsavedHref=_28;
}
}
if(!this._unsavedDashboards){
this._unsavedDashboards=new _6({menu:this,wrapHint:this._recentDashboards?_7.NO_WRAP:_7.FORCE_WRAP,groupTitle:"<b>"+_a.unsavedDashboards+"</b> (1)",items:[this._createMenuItem(_25,true)]});
}
}else{
if(this._unsavedDashboards){
_27=this._unsavedDashboards.get("items");
if(_27&&_27.length){
this._unsavedDashboards.remove(_27[0]);
this._addRecentItem(this._createMenuItem(_25));
}
this._unsavedDashboards.remove();
this._unsavedDashboards.destroy();
delete this._unsavedDashboards;
delete this._unsavedHref;
}
}
},getSelected:function(){
return 0;
var _2a=this.getItems();
var sel=[];
for(var i=0;i<_2a.length;i++){
var _2b=_2a[i];
if(_2b&&_2b.href){
var _2c=location.href;
if(_2c.indexOf(_2b.href)==_2c.length-_2b.href.length){
sel.push(_2b);
}
}
}
return sel;
},uninitialize:function(){
if(this._projectDashboards){
this._projectDashboards.destroy();
}
if(this._unsavedDashboards){
this._unsavedDashboards.destroy();
}
if(this._recentDashboards){
this._recentDashboards.destroy();
}
}});
})();


;dojo.provide("com.ibm.team.dashboard.web.ui.internal.SearchProvider");














dojo.requireLocalization("com.ibm.team.dashboard.web.ui.internal","DashboardMenuMessages");
(function(){
var _1=com.ibm.team.dashboard.web.client.internal.DashboardClient;
var _2=com.ibm.team.dashboard.web.ui.DashboardConstants;
var _3=com.ibm.team.dashboard.web.util.DashboardUtil;
var _4=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _5=net.jazz.ajax.ui.PlatformUI;
var _6=dojo.i18n.getLocalization("com.ibm.team.dashboard.web.ui.internal","DashboardMenuMessages");
var _7={id:"all",label:_6.searchScopeAll,iconClass:"com-ibm-team-dashboard-SearchProvider-scopeAll"};
var _8={id:"teams",label:_6.searchScopeAllTeams,iconClass:"com-ibm-team-dashboard-SearchProvider-scopeTeams"};
var _9={id:"contributors",label:_6.allPersonalDashboards,iconClass:"com-ibm-team-dashboard-SearchProvider-scopeAll"};
dojo.declare("com.ibm.team.dashboard.web.ui.internal.SearchProvider",[jazz.ui._SearchProvider],{scopes:[_7,_8,_9],tooltip:_6.searchTooltip,noResultsLabel:_6.searchNoResultsLabel,onUpdate:function(_a){
if(this._cachedResult&&this._cachedResult.query===_a.query&&this._cachedResult.scope===_a.scope){
_a.callback(this._createResults(this._cachedResult.data,_a.maxResults,_a.page));
return;
}
var _b={_self:this,_query:_a.query,_callback:_a.callback,_errorCallback:_a.errback,success:function(_c){
if(_c.status=="OK"){
this._self._cachedResult={query:this._query,data:_c.data,scope:_a.scope};
this._callback(this._self._createResults(_c.data,_a.maxResults,_a.page));
}else{
this._errorCallback(_c.msg);
}
},failure:function(_d){
this._errorCallback(_d.message);
}};
var _e=jazz.app.context.get().itemId;
var _f=(_a.scope!=_9.id);
var _10=(_a.scope!=_8.id);
var srh=new _4(_b,"success","failure");
_1.search(_a.query,_e,_f,_10,srh);
},_createResults:function(_11,_12,_13){
var _14=[];
var _15=_11.teams;
var _16=_11.shared;
var _17=0;
var _18=(_13-1)*_12;
if((_15&&_15.length>0)||(_16&&_16.length>0)){
if(_15){
_17+=_15.length;
for(var i=_18;i<_15.length&&_14.length<_12;i++){
_14.push(this._createResult(_15[i],_2.SCOPE_TEAM_AREA));
}
_18+=_14.length-_15.length;
}
if(_16){
_17+=_16.length;
for(var i=_18;i<_16.length&&_14.length<_12;i++){
_14.push(this._createResult(_16[i],_2.SCOPE_CONTRIBUTOR));
}
}
}
return {paging:true,totalResults:_17,results:_14};
},_createResult:function(_19,_1a){
var _1b=jazz.util.html.escape(_19.name||_19.title),_1c="com-ibm-team-dashboard-SearchProvider-result";
if(_1a===_2.SCOPE_CONTRIBUTOR){
_1c+=_19.shared?"Shared":"My";
}else{
_1c+="Team";
}
var _1d={label:_1b,uri:_19.url||_3.getDashboardHref(_1a,eval(_19.id)),iconClass:_1c};
return _1d;
}});
com.ibm.team.dashboard.web.ui.internal.SearchProvider.SCOPE_ALL=_7;
com.ibm.team.dashboard.web.ui.internal.SearchProvider.SCOPE_TEAMS=_8;
com.ibm.team.dashboard.web.ui.internal.SearchProvider.SCOPE_PERSONAL=_9;
})();


;(function(){
dojo.provide("com.ibm.team.dashboard.web.ui.ProjectDashboardSearchProvider");


dojo.declare("com.ibm.team.dashboard.web.ui.ProjectDashboardSearchProvider",[com.ibm.team.dashboard.web.ui.internal.SearchProvider],{});
})();


;dojo.provide("com.ibm.team.repository.web.client.internal.ServerStatusClient");






(function(){
var _1=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _2=com.ibm.team.repository.web.transport.ServiceRequest;
var _3="getComponents";
var _4="getComponentsWithServiceConfig";
var _5="getServiceabilityComponentWithServiceConfig";
var _6="getServiceStatus";
var _7="getActiveServiceInfo";
var _8="postStatusForServices";
var _9="getComponentsAndStatus";
var _a="getServerInfo";
var _b="getServiceConfiguration";
var _c="postConfigurationUpdates";
var _d="postConfigurationUpdatesWithStatus";
var _e="postConfigurationValidation";
var _f="getDatabaseStatus";
var _10="getAllProductInfo";
var _11="postInitalizeDatabase";
var _12="getCreationStatus";
var _13="getAllDiagnosticResults";
var _14="getSendEmailReport";
var _15="getNewDiagnosticResult";
var _16="getPreviousDiagnosticResult";
var _17="postCancelDiagnostic";
var _18="postDisableDiagnostic";
var _19="postEnableDiagnostic";
var _1a="getIsJazzTeamServer";
var _1b="getJazzTeamServerURI";
var _1c="getConfiguredJazzTeamServerURI";
var _1d="getServerModeString";
var _1e="getJtsConfigurationStatus";
var _1f="getClusterMembers";
var _20="getClusterMemberInfo";
var _21="getIsInCluster";
var _22="postDeleteInactiveNode";
var _23="getIsMigrationInProgress";
var _24="getServerRenameOverallStatus";
var _25="postServerRenameOverallStatus";
var _26="getDevMode";
var _27="postDevMode";
com.ibm.team.repository.web.client.internal.ServerStatusClient={SERVICE_URI:"com.ibm.team.repository.service.internal.IServerStatusRestService",getComponents:function(_28){
_29._invokeRepositoryService(_28,_3,_29.SERVICE_URI);
},getComponentsWithServiceConfig:function(_2a){
_29._invokeRepositoryService(_2a,_4,_29.SERVICE_URI);
},getServiceabilityComponentWithServiceConfig:function(_2b){
_29._invokeRepositoryService(_2b,_5,_29.SERVICE_URI);
},getActiveServiceInfo:function(_2c,_2d){
var _2e=null;
if(_2d){
_2e={humanReadableNodeId:_2d};
}
_29._invokeRepositoryService(_2c,_7,_29.SERVICE_URI,_2e);
},getServiceStatus:function(_2f,_30){
var _31={interfaceName:_30};
_29._invokeRepositoryService(_2f,_6,_29.SERVICE_URI,_31);
},postStatusForServiceList:function(_32,_33){
var _34={jsonString:dojo.toJson(_33)};
_29._invokeRepositoryService(_32,_8,_29.SERVICE_URI,_34);
},getServerInfo:function(_35){
_29._invokeRepositoryService(_35,_a,_29.SERVICE_URI);
},getDatabaseStatus:function(_36){
_29._invokeRepositoryService(_36,_f,_29.SERVICE_URI);
},getComponentsAndStatus:function(_37,_38){
var _39=null;
if(_38){
_39={humanReadableNodeId:_38};
}
_29._invokeRepositoryService(_37,_9,_29.SERVICE_URI,_39);
},CONFIG_SERVICE_URI:"com.ibm.team.repository.service.internal.IServerConfigurationRestService",getServiceConfiguration:function(_3a,_3b){
var _3c={implementationClassName:_3b};
_29._invokeRepositoryService(_3a,_b,_29.CONFIG_SERVICE_URI,_3c);
},postConfigurationUpdates:function(_3d,_3e){
this._invokeRepositoryService(_3d,_c,_29.CONFIG_SERVICE_URI,_3e);
},postConfigurationUpdatesWithStatus:function(_3f,_40){
this._invokeRepositoryService(_3f,_d,_29.CONFIG_SERVICE_URI,_40);
},postConfigurationValidation:function(_41,_42){
this._invokeRepositoryService(_41,_e,_29.CONFIG_SERVICE_URI,_42);
},PRODUCT_REGISTRY_SERVICE_URI:"com.ibm.team.repository.service.internal.IProductRegistryRestService",getAllProductInfo:function(_43){
this._invokeRepositoryService(_43,_10,_29.PRODUCT_REGISTRY_SERVICE_URI);
},DATABASE_CREATION_SERVICE_URI:"com.ibm.team.repository.service.internal.IDatabaseCreationRestService",DATABASES_CREATION_PROGRESS_SERVICE_URI:"com.ibm.team.repository.service.internal.IDatabaseCreationProgressRestService",postInitalizeDatabase:function(_44){
this._invokeRepositoryService(_44,_11,_29.DATABASE_CREATION_SERVICE_URI);
},getCreationStatus:function(_45){
this._invokeRepositoryService(_45,_12,_29.DATABASES_CREATION_PROGRESS_SERVICE_URI);
},_invokeRepositoryService:function(_46,_47,_48,_49){
if(arguments.length==3){
var _4a=new _2(_48,_47);
}else{
_4a=new _2(_48,_47,_49);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_4a,_46);
},DIAGNOSTICS_SERVICE_URI:"com.ibm.team.repository.common.internal.diagnostic.IDiagnosticRestService",getAllDiagnosticResults:function(_4b,_4c){
var _4d=null;
if(_4c){
_4d={humanReadableNodeId:_4c};
}
this._invokeRepositoryService(_4b,_13,_29.DIAGNOSTICS_SERVICE_URI,_4d);
},getNewDiagnosticResult:function(_4e,_4f){
var _50={id:_4f};
this._invokeRepositoryService(_4e,_15,_29.DIAGNOSTICS_SERVICE_URI,_50);
},getPreviousDiagnosticResult:function(_51,_52){
var _53={id:_52};
this._invokeRepositoryService(_51,_16,_29.DIAGNOSTICS_SERVICE_URI,_53);
},postCancelDiagnostic:function(_54,_55){
var _56={id:_55};
this._invokeRepositoryService(_54,_17,_29.DIAGNOSTICS_SERVICE_URI,_56);
},postDisableDiagnostic:function(_57,_58){
var _59={id:_58};
this._invokeRepositoryService(_57,_18,_29.DIAGNOSTICS_SERVICE_URI,_59);
},postEnableDiagnostic:function(_5a,_5b){
var _5c={id:_5b};
this._invokeRepositoryService(_5a,_19,_29.DIAGNOSTICS_SERVICE_URI,_5c);
},getSendEmailReport:function(_5d){
this._invokeRepositoryService(_5d,_14,_29.DIAGNOSTICS_SERVICE_URI);
},SERVER_DESCRIPTION_SERVICE:"com.ibm.team.repository.service.IServerDescriptionRestService",getIsJazzTeamServer:function(_5e){
this._invokeRepositoryService(_5e,_1a,_29.SERVER_DESCRIPTION_SERVICE);
},getConfiguredJazzTeamServerURI:function(_5f){
this._invokeRepositoryService(_5f,_1c,_29.SERVER_DESCRIPTION_SERVICE);
},getJazzTeamServerURI:function(_60){
this._invokeRepositoryService(_60,_1b,_29.SERVER_DESCRIPTION_SERVICE);
},getServerModeString:function(_61){
this._invokeRepositoryService(_61,_1d,_29.SERVER_DESCRIPTION_SERVICE);
},JTS_CONFIGURATION_SERVICE:"com.ibm.team.repository.service.compatibility.internal.IJtsConfigurationStateRestService",getJtsConfigurationStatus:function(_62){
this._invokeRepositoryService(_62,_1e,_29.JTS_CONFIGURATION_SERVICE);
},CLUSTER_MEMBER_SERVICE:"com.ibm.team.repository.service.internal.distributed.IClusterMemberRestService",getIsInCluster:function(_63){
this._invokeRepositoryService(_63,_21,_29.CLUSTER_MEMBER_SERVICE);
},getClusterMembers:function(_64){
this._invokeRepositoryService(_64,_1f,_29.CLUSTER_MEMBER_SERVICE);
},getClusterMemberInfo:function(_65,_66){
var _67={humanReadableNodeId:_66};
this._invokeRepositoryService(_65,_20,_29.CLUSTER_MEMBER_SERVICE,_67);
},postDeleteInactiveNode:function(_68,_69){
var _6a={id:_69};
this._invokeRepositoryService(_68,_22,_29.CLUSTER_MEMBER_SERVICE,_6a);
},MIGRATION_PROGRESS_SERVICE:"com.ibm.team.repository.migration.IMigrationProgressRestService",getIsMigrationInProgress:function(_6b){
this._invokeRepositoryService(_6b,_23,_29.MIGRATION_PROGRESS_SERVICE);
},SERVER_RENAME_PROGRESS_SERVICE:"com.ibm.team.repository.service.mapping.internal.IInternalServerRenameOverallStatusRestService",getServerRenameOverallStatus:function(_6c){
this._invokeRepositoryService(_6c,_24,_29.SERVER_RENAME_PROGRESS_SERVICE);
},postServerRenameOverallStatus:function(_6d){
this._invokeRepositoryService(_6d,_25,_29.SERVER_RENAME_PROGRESS_SERVICE);
},DEVELOPER_MODE_SERVICE:"com.ibm.team.repository.service.internal.IDeveloperModeRestService",getDevMode:function(_6e){
this._invokeRepositoryService(_6e,_26,_29.DEVELOPER_MODE_SERVICE);
},postDevMode:function(_6f,_70){
var _71={mode:_70};
this._invokeRepositoryService(_6f,_27,_29.DEVELOPER_MODE_SERVICE,_71);
}};
var _29=com.ibm.team.repository.web.client.internal.ServerStatusClient;
})();


;dojo.provide("com.ibm.team.reports.web.client.internal.ReportsClient");










(function(){
var _1=com.ibm.team.repository.web.client.session;
var _2=com.ibm.team.repository.web.transport.ServiceRequest;
var _3=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _4=com.ibm.team.repository.web.transport.TeamServerClient;
com.ibm.team.reports.web.client.internal.ReportsClient={ALL:0,SHARED:1<<0,PRIVATE:1<<2,EXCLUDE_MICRO:1<<4,LOCAL:1<<0,REMOTE:1<<1,SERVICE_URI:"com.ibm.team.reports.common.internal.service.IReportRestService",getCanDeployQuery:function(_5){
this._invokeReportsService(_5,"getCanDeployQuery");
},getCanManageFolder:function(_6){
this._invokeReportsService(_6,"getCanManageFolder");
},getCanSeeReports:function(_7){
this._invokeReportsService(_7,"getCanSeeReports");
},getShowArchived:function(_8){
this._invokeReportsService(_8,"getShowArchived");
},getIsReadOnlyModeEnabled:function(_9){
this._invokeReportsService(_9,"getIsReadOnlyModeEnabled");
},getSystemRootFolderDescriptors:function(_a){
this._invokeReportsService(_a,"getSystemRootFolderDescriptors");
},getQueryDescriptors:function(_b,_c){
if(_c.projectAreaUUID==undefined){
var _d=jazz.app.context.get();
_c.projectAreaUUID=_d.itemId;
}
this._invokeReportsService(_b,"getQueryDescriptors",_c);
},getReportDescriptors:function(_e,_f){
if(_f==undefined){
_f={};
}
if(_f.projectAreaUUID==undefined){
var _10=jazz.app.context.get();
_f.projectAreaUUID=_10.itemId;
}
this._invokeReportsService(_e,"getReportDescriptors",_f);
},getReportDescriptor:function(_11,_12){
if(_12==undefined){
_12={};
}
if(_12.projectAreaUUID==undefined){
var _13=jazz.app.context.get();
_12.projectAreaUUID=_13.itemId;
}
this._invokeReportsService(_11,"getReportDescriptor",_12);
},getFolderDescriptors:function(_14,_15){
if(_15.projectAreaUUID==undefined){
var _16=jazz.app.context.get();
_15.projectAreaUUID=_16.itemId;
}
this._invokeReportsService(_14,"getFolderDescriptors",_15);
},getFolderDescriptor:function(_17,_18){
this._invokeReportsService(_17,"getFolderDescriptor",_18);
},getMissingSharedReportDescriptors:function(_19,_1a){
this._invokeReportsService(_19,"getMissingSharedReportDescriptors",_1a);
},getParameters:function(_1b,_1c){
this._invokeReportsService(_1b,"getParameters",_1c);
},getParameterValues:function(_1d,_1e){
try{
_1e.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
catch(e){
}
this._invokeReportsService(_1d,"getParameterValues",_1e);
},getParameterGroupValues:function(_1f,_20){
try{
_20.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
catch(e){
}
this._invokeReportsService(_1f,"getParameterGroupValues",_20);
},getCustomParams:function(_21,_22){
this._invokeReportsService(_21,"getCustomParams",_22);
},getQueryParametersSection:function(_23,_24){
this._invokeReportsService(_23,"getQueryParametersSection",_24);
},getRenderedQuery:function(_25,_26){
try{
_26.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
catch(e){
}
this._invokeReportsService(_25,"getRenderedQuery",_26);
},getShouldHideLegacy:function(_27){
this._invokeReportsService(_27,"getShouldHideLegacy");
},getDataWarehouseProvider:function(_28){
this._invokeReportsService(_28,"getDataWarehouseProvider");
},getXdcAuthType:function(_29){
this._invokeReportsService(_29,"getXdcAuthType");
},getEtlJobHistory:function(_2a,_2b){
this._invokeReportsService(_2a,"getEtlJobHistory",_2b);
},getRunningEtlJobs:function(_2c){
this._invokeReportsService(_2c,"getRunningEtlJobs");
},getRunningReportJobs:function(_2d,_2e){
this._invokeReportsService(_2d,"getRunningReportTasks",_2e);
},getReportingServiceURL:function(_2f){
this._invokeReportsService(_2f,"getReportingServiceURL");
},getDataCollectionComponentURL:function(_30){
this._invokeReportsService(_30,"getDataCollectionComponentURL");
},postRenderQuery:function(_31,_32){
try{
_32.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
catch(e){
}
this._invokeReportsService(_31,"postRenderQuery",_32);
},getRenderedReport:function(_33,_34){
if(_34.projectAreaUUID==undefined){
var _35=jazz.app.context.get();
_34.projectAreaUUID=_35.itemId;
}
try{
_34.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
catch(e){
}
this._invokeReportsService(_33,"getRenderedReport",_34);
},postRenderReport:function(_36,_37){
if(_37.projectAreaUUID==undefined){
var _38=jazz.app.context.get();
_37.projectAreaUUID=_38.itemId;
}
try{
_37.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;
}
catch(e){
}
this._invokeReportsService(_36,"postRenderReport",_37);
},postComputeParameterValues:function(_39,_3a){
this._invokeReportsService(_39,"postComputeParameterValues",_3a);
},getDoesReportDescriptorExist:function(_3b,_3c){
if(_3c.projectAreaUUID==undefined){
var _3d=jazz.app.context.get();
_3c.projectAreaUUID=_3d.itemId;
}
this._invokeReportsService(_3b,"getDoesReportDescriptorExist",_3c);
},getDefaultReportDescriptor:function(_3e){
var _3f=jazz.app.context.get();
var _40={projectAreaUUID:_3f.itemId};
this._invokeReportsService(_3e,"getDefaultReportDescriptor",_40);
},getProcessAreaByUUID:function(_41,_42){
this._invokeReportsService(_41,"getProcessAreaByUUID",_42);
},getQueryDescriptor:function(_43,_44){
this._invokeReportsService(_43,"getQueryDescriptor",_44);
},postDeleteFolderDescriptor:function(_45,_46){
this._invokeReportsService(_45,"postDeleteFolderDescriptor",_46);
},postDeleteFolderDescriptors:function(_47,_48){
this._invokeReportsService(_47,"postDeleteFolderDescriptors",_48);
},postDeleteQueryDescriptor:function(_49,_4a){
this._invokeReportsService(_49,"postDeleteQueryDescriptor",_4a);
},postDeleteQueryDescriptors:function(_4b,_4c){
this._invokeReportsService(_4b,"postDeleteQueryDescriptors",_4c);
},postDeleteReportDescriptor:function(_4d,_4e){
this._invokeReportsService(_4d,"postDeleteReportDescriptor",_4e);
},postDeleteReportDescriptors:function(_4f,_50){
this._invokeReportsService(_4f,"postDeleteReportDescriptors",_50);
},postRenameFolderDescriptor:function(_51,_52){
this._invokeReportsService(_51,"postRenameFolderDescriptor",_52);
},postRenameQueryDescriptor:function(_53,_54){
this._invokeReportsService(_53,"postRenameQueryDescriptor",_54);
},postResetReportDescriptor:function(_55,_56){
this._invokeReportsService(_55,"postResetReportDescriptor",_56);
},postResetReportDescriptors:function(_57,_58){
this._invokeReportsService(_57,"postResetReportDescriptors",_58);
},postSaveFolderDescriptor:function(_59,_5a){
this._invokeReportsService(_59,"postSaveFolderDescriptor",_5a);
},postSaveQueryDescriptor:function(_5b,_5c){
if(_5c.projectAreaUUID==undefined){
var _5d=jazz.app.context.get();
_5c.projectAreaUUID=_5d.itemId;
}
this._invokeReportsService(_5b,"postSaveQueryDescriptor",_5c);
},postSaveReportDescriptor:function(_5e,_5f){
if(_5f.projectAreaUUID==undefined){
var _60=jazz.app.context.get();
_5f.projectAreaUUID=_60.itemId;
}
this._invokeReportsService(_5e,"postSaveReportDescriptor",_5f);
},postSaveMissingReportDescriptors:function(_61,_62){
this._invokeReportsService(_61,"postSaveMissingReportDescriptors",_62);
},postSetDefaultReportDescriptor:function(_63,_64){
this._invokeReportsService(_63,"postSetDefaultReportDescriptor",_64);
},postCancelReportRendering:function(_65,_66){
this._invokeReportsService(_65,"postCancelReportTask",_66);
},getIsDWAdmin:function(_67){
this._invokeReportsService(_67,"getIsDWAdmin");
},getAllSnapshotNames:function(_68){
this._invokeReportsService(_68,"getAllSnapshotNames");
},getSnapshotDescriptors:function(_69,_6a){
this._invokeReportsService(_69,"getSnapshotDescriptors",_6a);
},getSnapshotDescriptor:function(_6b,_6c){
this._invokeReportsService(_6b,"getSnapshotDescriptor",_6c);
},getSnapshotSchedulingDefaults:function(_6d){
this._invokeReportsService(_6d,"getSnapshotSchedulingDefaults");
},postUpdateAllSnapshotData:function(_6e){
this._invokeReportsService(_6e,"postUpdateAllSnapshotData");
},postUpdateSomeSnapshotData:function(_6f,_70){
this._invokeReportsService(_6f,"postUpdateSomeSnapshotData",_70);
},postUpdateAllRemoteSnapshotData:function(_71){
this._invokeReportsService(_71,"postUpdateAllRemoteSnapshotData");
},postUpdateSnapshotData:function(_72,_73){
if(_73.delta==undefined||_73.delta==null){
_73.delta=true;
}
this._invokeReportsService(_72,"postUpdateSnapshotData",_73);
},postPingRemoteSnapshot:function(_74,_75){
this._invokeReportsService(_74,"postPingRemoteSnapshot",_75);
},postExportAllSnapshotData:function(_76,_77){
this._invokeReportsService(_76,"postExportAllSnapshotData",_77);
},postExportSnapshotData:function(_78,_79){
this._invokeReportsService(_78,"postExportSnapshotData",_79);
},postImportSnapshotData:function(_7a,_7b){
this._invokeReportsService(_7a,"postImportSnapshotData",_7b);
},postInitializeDataWarehouse:function(_7c){
this._invokeReportsService(_7c,"postInitializeDataWarehouse");
},getDataWarehouseInitializationStatus:function(_7d){
this._invokeReportsService(_7d,"getDataWarehouseInitializationStatus");
},postCreateAllSnapshotSchemas:function(_7e){
this._invokeReportsService(_7e,"postCreateAllSnapshotSchemas");
},postCreateSnapshotSchema:function(_7f,_80){
this._invokeReportsService(_7f,"postCreateSnapshotSchema",_80);
},postUpdateParameterValues:function(_81){
this._invokeReportsService(_81,"postUpdateParameterValues");
},postSaveQueryParameters:function(_82,_83){
this._invokeReportsService(_82,"postSaveQueryParameters",_83);
},getPerformDataWarehouseDiagnostics:function(_84){
this._invokeReportsService(_84,"getPerformDataWarehouseDiagnostics");
},postMoveQueryDescriptors:function(_85,_86){
this._invokeReportsService(_85,"postMoveQueryDescriptors",_86);
},postCopyQueryDescriptors:function(_87,_88){
this._invokeReportsService(_87,"postCopyQueryDescriptors",_88);
},postMoveFolderDescriptors:function(_89,_8a){
this._invokeReportsService(_89,"postMoveFolderDescriptors",_8a);
},postCopyFolderDescriptors:function(_8b,_8c){
this._invokeReportsService(_8b,"postCopyFolderDescriptors",_8c);
},_invokeReportsService:function(_8d,_8e,_8f){
var _90;
if(arguments.length==2){
_90=new _2(this.SERVICE_URI,_8e);
}else{
_90=new _2(this.SERVICE_URI,_8e,_8f);
}
_4.invokeService(_90,_8d);
}};
})();


;dojo.provide("com.ibm.team.reports.web.ui.ReportsConstants");
(function(){
com.ibm.team.reports.web.ui.ReportsConstants={ACTION_VIEW_DEFAULT:"com.ibm.team.reports.defaultAction",ACTION_VIEW_REPORTS:"com.ibm.team.reports.viewAllReports",ACTION_VIEW_RESOURCES:"com.ibm.team.reports.viewAllReportTemplates",ACTION_VIEW_QUERY:"com.ibm.team.reports.viewQuery",ACTION_EDIT_TEMPLATE:"com.ibm.team.reports.editTemplate",SHARED:"shared",APPLICATION_SOURCE:"Application",EVENT_REPORTS_VIEW_CHANGED:"viewChanged",VIEWER_TYPE_ID:"com.ibm.team.reports.ReportViewer",TEMPLATE_TYPE_ID:"com.ibm.team.reports.ReportTemplateEditor",CSH_SHARED_REPORTS:"com.ibm.jazz.reports.web.cshelp.shared_reports",CSH_MY_REPORTS:"com.ibm.jazz.reports.web.cshelp.my_reports",CSH_REPORT_TEMPLATE_EDITOR:"com.ibm.jazz.reports.web.cshelp.report_template_editor"};
})();


;dojo.provide("com.ibm.team.reports.web.util.ReportsUtil");


(function(){
var _1=com.ibm.team.reports.web.ui.ReportsConstants;
com.ibm.team.reports.web.util.ReportsUtil={getReportsListHref:function(_2){
var _3=["#action=",_1.ACTION_VIEW_REPORTS,"&",_1.SHARED,"=",_2];
return _3.join("");
},getResourcesListHref:function(){
var _4=["#action=",_1.ACTION_VIEW_RESOURCES];
return _4.join("");
},getReportsWelcomeHref:function(){
var _5=["#action=",_1.ACTION_VIEW_DEFAULT];
return _5.join("");
},getReportHref:function(_6,_7,_8){
if(_8!=""){
_8="&shared="+_8;
}
var _9=["#action=",_1.ACTION_VIEW_QUERY,"&name=",encodeURIComponent(_6),"&queryUUID=",_7,_8];
return _9.join("");
},getReportTemplateHref:function(_a){
var _b=["#action=",_1.ACTION_EDIT_TEMPLATE,"&reportUUID=",_a];
return _b.join("");
},getReportUri:function(_c,_d,_e,_f){
projectName=jazz.app.context.get().name;
var _10="/web/projects/"+projectName;
switch(_c){
case _1.VIEWER_TYPE_ID:
_10+=this.getReportHref(_d,_e,_f);
break;
case _1.TEMPLATE_TYPE_ID:
_10+=this.getReportTemplateHref(_e);
break;
}
return net.jazz.ajax.contextRoot()+_10;
},getProjectArea:function(){
return jazz.app.context.get();
}};
})();


;dojo.provide("com.ibm.team.reports.web.ui.internal.RecentlyViewed");








(function(){
var _1=com.ibm.team.reports.web.ui.ReportsConstants;
var _2=com.ibm.team.reports.web.util.ReportsUtil;
var _3=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _4=10;
var _5=false;
com.ibm.team.reports.web.ui.internal.RecentlyViewed={_artifacts:[],pageVisited:function(_6){
if(!_6||!_6.getArtifactInfo){
return;
}
var _7={failure:function(_8){
console.error(_8);
},success:dojo.hitch(this,this._processPageVisit)};
var _9=new _3(_7,"success","failure");
_6.getArtifactInfo(_9);
},init:function(){
if(_5){
return false;
}
var _a=jazz.app.viewHistory.get({application:"%MY_APPLICATION%",project:_2.getProjectArea().name,type:[_1.VIEWER_TYPE_ID,_1.TEMPLATE_TYPE_ID],size:_4});
_a.addCallback(dojo.hitch(this,this._processGetResponse));
},getArtifacts:function(){
return this._artifacts;
},getArtifactsCount:function(){
return this._artifacts.length;
},_processGetResponse:function(_b){
var _c={};
var _d={};
for(var i=0;i<this._artifacts.length;i++){
_c[this._artifacts[i].url]=i;
_d[this._artifacts[i].itemId]=i;
}
if(!_b.count||!_b.items||!_b.items.length){
return;
}
var _e=false;
for(i=0;i<_b.items.length&&this._artifacts.length<_4;i++){
var _f=_b.items[i];
if(typeof _c[_f.uri]==="number"||_c[_f.uri]){
continue;
}
var _10;
if(_f.type==_1.VIEWER_TYPE_ID){
_10="queryUUID";
}else{
_10="eportUUID";
}
_10+="=";
var _11=_f.uri.substring(_f.uri.lastIndexOf(_10)+1);
var _12=_11.search("&");
var _13="";
if(_12>0){
_13=_11.slice(_12+"shared=".length+1);
_11=_11.slice(9,_12);
}else{
_11=_11.slice(9);
}
if(_d[_11]!=null){
continue;
}
this._artifacts.push({type:_f.type,itemId:_11,projectAreaUUID:_f.projectAreaUUID,title:_f.label,iconUrl:_f.iconUri,href:this._getItemHref(_f.label,_f.type,_11,_13),url:_f.uri});
_e=true;
}
if(_e){
dojo.publish(_1.EVENT_REPORTS_VIEW_CHANGED);
}
},_getItemHref:function(_14,_15,_16,_17){
switch(_15){
case _1.VIEWER_TYPE_ID:
return _2.getReportHref(_14,_16,_17);
case _1.TEMPLATE_TYPE_ID:
return _2.getReportTemplateHref(_16);
default:
return _2.getReportHref(_14,_16,_17);
}
},_processPageVisit:function(_18){
this._artifacts.splice(0,0,_18);
for(var i=1;i<this._artifacts.length;i++){
var cur=this._artifacts[i];
if(cur.itemId==_18.itemId){
this._artifacts.splice(i,1);
break;
}
}
if(this._artifacts.length>_4){
this._artifacts.length=_4;
}
jazz.app.viewHistory.put({application:"%MY_APPLICATION%",project:_2.getProjectArea().name,type:_18.type},{uri:_18.url,label:_18.title,iconUri:_18.iconUrl.toString()});
dojo.publish(_1.EVENT_REPORTS_VIEW_CHANGED);
}};
})();


;dojo.provide("jazz.util.format");


(function(){
var _1=[".","-","_","/","?","#"];
if(dojo.isIE&&dojo.isIE<7){
var _2=40;
}else{
var _2=52;
}
jazz.util.format={insertWordBreaks:function(_3,_4,_5){
var _6=_3.split(" ");
var _7=false;
for(var i=0;i<_6.length;i++){
if(_6[i].length>_4){
_7=true;
break;
}
}
if(!_7){
return (_5?jazz.util.html.escape(_3):_3);
}
for(i=0;i<_6.length;i++){
if(_6[i].length>=_4){
_6[i]=this._breakupLongWord(_6[i],_4,_5);
}else{
if(_5){
_6[i]=jazz.util.html.escape(_6[i]);
}
}
}
return _6.join(" ");
},_breakupLongWord:function(_8,_9,_a){
if(!_9){
_9=MIN_BREAKUP_LEN;
}
var _b=_8;
var _c="";
while(_b.length>_9){
var _d=_9+1;
for(var i=0;i<_1.length;i++){
var _e=_1[i];
var _f=(_b.length>_2?_2:_b.length)+1;
var _10=_b.substring(_9+1,_f);
var _11=_10.indexOf(_e);
if(_11!=-1){
_d=_9+_11+2;
break;
}
}
_c+=(_a?jazz.util.html.escape(_b.substring(0,_d)):_b.substring(0,_d))+"<wbr/>";
_b=_b.substring(_d,_b.length);
}
_c+=(_a?jazz.util.html.escape(_b):_b);
return _c;
}};
})();

dojo.provide("com.ibm.team.reports.web.ui.internal.nls.ReportMessages")._built=true;
dojo.provide("com.ibm.team.reports.web.ui.internal.nls.ReportMessages.en_us");
com.ibm.team.reports.web.ui.internal.nls.ReportMessages.en_us={"cancel":"Cancel","upload":"Select a local report design file to replace the contents of this resource.","editTemplate":"Edit","confirmDelTemplate":"Are you sure you wish to delete this report resource? All reports based on this resource will also be deleted.","teamArea":"Project/Team Area: ","waitingForResponse":"Waiting for response.","allMine":"All Mine","parametersTooltip":"Click to Edit Parameters","createAReportFrom":"Create a report from an existing resource.","customReportsNotInstalled":"Cognos Business Intelligence is required to author custom report resources but is not installed or is not configured properly.","fieldLogicalType":"Field Logical Type","updateAllSnapshotData":"Update All Snapshot Data","addValuesDialogTitle":"Add Parameter Values","setAsDefaultReport":"Set as Default Report","edit":"Edit","fieldDatabaseType":"Field Database Type","newFolder":"New Folder","recentlyViewed":"Recently Viewed","planning":"Planning","folder":"Folder: ","allReportsNone":"No reports found.","documentStyleLink":"Authoring document-style reports.","includeArchivedTooltip":"Include archived artifacts and artifacts associated with archived project areas, iterations and categories","actions":"Actions","addFile":"Add File","shared":"Shared","invalidNameEntered":"Invalid name entered.","customReportsNotInstalledNonAdmin":"Contact an Administrator.","cognos":"Using Cognos","selectReportTemplate":"Select Report Resource","createReport":"Create Report","noItemsSelected":"No items selected","noRecentItems":"No recent items","sharedReports":"Shared Reports","reportTemplates":"Report Resources","errorUploadingFile":"Error uploading file: ${0}","loadingReport":"Loading Report","loadingCustomReportTemplates":"Loading Custom Reports","close":"Close","viewInPrintableFormatTitle":"View Report in Printable Format","listOfResources":"Resources","refresh":"Refresh","selectTargetLabel":"Project/team area","importReport":"Import Custom Report","cannotRestoreContents":"Cannot restore contents until the new report resource has been saved.","availableCustomReports":"Available Custom Reports:","localSourceText":"Current project","devIntelligenceLink":"Authoring Cognos reports.","maximum":"${0}, maximum","descriptioncolumnheader":"Description","reportResourceLinkText":"View report resources","accessAndManage":"Access and manage your work:","updateSnapshotData":"Update Snapshot Data","selectSourceText2":"If you make changes to the original resource, the associated resources deployed in your project or team area will be updated.","selectSourceText1":"These resources are available from the source location but have not been deployed to the selected project or team area.","reports":"Reports","devIntelligence":"Perform tasks for Cognos report resources","exportOperationNotSupported":"Export operation not supported for this report.","run":"Run","source":"Source:","selectView":"Select View:","confirmDelTemplates":"Are you sure you wish to delete the ${0} selected report resources? All reports based on these resources will also be deleted.","authorCustomReportsTitle":"Author a Custom Report Resource","createAReport":"Create report from resource","documentStyle":"Perform tasks for document-style report resources","uploadingFile":"Uploading file","msgLoading":"Loading...","createReportTemplate":"Create Report Resource","navigateAway":"Are you sure you want to navigate away from this page?","customizeReportStudio":"Customize report definitions using Report Studio","sharing":"Project/Team Area","allSharedReports":"All Shared Reports","lastRequestFailed":"Last request failed.","manageResource":"Manage resource in Cognos Connection","documentStyleDesc_2":"For additional information, see the help topic on ","documentStyleDesc_1":"To create and customize document templates, use Engineering Lifecycle Optimization - Publishing\'s Document Studio, which must be installed on your workstation and launched outside of this application. A separate license and installation is required.","selectAll":"Select All","numSelectedTotal":"${0} of ${1} selected (${2})","welcomeGettingStarted":"To get started, view an existing report by selecting it from the left panel.","name":"Name: ","parameters":"Parameters","submit":"Submit","numItemsSelected":"(${0} items selected)","description":"Description: ","admin":"Admin","confirmMultiRestoreInitialContents":"Are you sure you want to restore initial contents for the ${0} selected report resources?","moveFolder":"Move/Copy Folder","reportCustomTemplate":"Custom Report Resource","deployButtonLabel":"Deploy","falseValue":"No","confirmDelReports":"Are you sure you wish to delete the ${0} selected report(s)?","allFolders":"All Folders","confirmDelFolders":"Are you sure you wish to delete the ${0} selected folder(s). Any reports in the selected folder(s) will also be deleted?","pleaseSelectTemplate":"Please select a resource.","errorInResponse":"Error in response.","customReportServerInvalid":"Cannot reach the Cognos Business Intelligence server. Please check network connectivity and verify the server location is correct and the server is running.","createNewTemplate":"Create Resource","confirmDelReport":"Are you sure you wish to delete this report?","pleaseSelectFolder":"Please select a folder.","allShared":"All Shared","createReportFromTemplate":"Create Report from Resource","planningMessage":"Set this report resource as the default report shown in the planning editor.","sharingHeader":"Select a project/team area to associate the item with. This is required even if the item is not shared with other contributors.","folderHeading":"Folder","reportDescription":"${0} Report","saveCopy":"Save As","customReportsNotInstalledInstructions":"Instructions can be found on the ","additionalReportingDescription":"Create advanced reports from across your lifecycle tools and projects. You can add these reports to dashboards.","deSelectAll":"Deselect All","newFolderName":"New folder name:","selectAResource":"Select a local file to upload.","noLabel":"(No label)","includeArchived":"Include Archived","newReport":"New Report","createNewTemplateFromCustomReport":"Create Resource from Custom Report","welcomeToReports":"Welcome to Reports","reportingService":"Using Report Builder","searchForResources":"Search for resources with \x3cb\x3equick search\x3c/b\x3e.","isNowDefaultReport":"${0} is now the default report.","lastRequestSucceeded":"Last request succeeded.","customizeQueryStudio":"Customize report definitions using Query Studio","msgProjectAreaIsDifferent":"The project area for this report (${0}) is different from the project area context selected for the page (${1}).","noRestore":"This resource does not have contents to be restored","identifier":"Identifier:","moveReport":"Move/Copy Report","createFromResource":"From Resource","responseReceived":"Response received.","loading":"Loading...","uploadNewContent":"Upload New Content","additionalTask1":"Create a new report definition or modify an existing report definition using Report Studio on the Cognos Business Intelligence server.","additionalTask2":"Work with lightweight queries for simple reporting using Query Studio on the Cognos Business Intelligence server.","performAdditionalReporting":"Create report using Cognos","additionalTask3":"Create, organize, delete reporting resources using Cognos Connection on the Cognos Business Intelligence server.","contents":"Contents","browse":"Browse","reportingServiceDescription":"   Create simple operational reports from across your lifecycle tools and projects. You can add these reports to dashboards.","newCustomTemplate":"New Custom Report Resource","movingReports":"Moving/Copying ${0} report(s)","template":"Resource: ","tableLogicalName":"Table Logical Name:","templateSavedSuccessfully":"Report resource saved successfully.","saveAs":"Save As","missingReqParam":"Missing Required Parameter: ${0}","zeroSelected":"0 of 0 selected","trueValue":"Yes","movingReportsAndFolders":"Moving/Copying ${0} report(s) and ${1} folder(s)","deleteMsg":"Delete Folder","save":"Save","trackResourcesAvailable":"Track resources available from \x3cb\x3enavigation bar drop-down menu\x3c/b\x3e and \x3ca class=\'img-db-mini\' href=\"${0}\" target=\"_blank\"\x3eMini Dashboard\x3c/a\x3e.","reportColon":"Report: ","deploySuccess":"You have successfully deployed the following report resources to the ${0} project or team area","movingFolders":"Moving/Copying ${0} folder(s)","fieldLogicalName":"Field Logical Name","handleSetAsDefaultError":"Error setting default report: ${0}","newResource":"New File","copy":"Copy","confirmShowArchived":"Do you wish to reload the current report to show archived artifacts?","showMe":"Show me \x3e","selectTheReportTemplate":"Select the report resource to display","needSnapshotSelection":"Need a snapshot selected","customReportsNotInstalledLink":"ELM Reporting Wiki Page.","unsavedChanges":"You have unsaved changes on this page.  If you continue, you will lose your changes.","projectHeadingOption":"Projects","invalidFileName":"An error occured during file upload.\nThis will happen when an invalid fully qualified file name is provided.","schemaDatabaseName":"Schema Database Name: ${0}","welcomeStarted3":"or view an existing report by selecting it from the left panel.","welcomeStarted1":"To get started, ","checkActiveServicesInAdminPage":"Check the Active Services in Admin Page for status.","welcomeStarted2":"create a new report ","okOrCancel":"Press OK to continue, or Cancel to stay on the current page.","closeParameters":"Close Parameters","noCognosReportsAvailable":"There are no custom reports available on the Cognos Business Intelligence server. Create a report on the Reporting Server before creating a Custom Report Resource.","allHeading":"All Reports","rename":"Rename","report":"Report","tableDatabaseName":"Table Database Name:","applicationSourceOption":"Provided by application","myReports":"My Reports","newReportTemplate":"New Report Resource","exportTitle":"Export...","fieldDatabaseName":"Field Database Name","currentIteration":"Current Iteration","learnMoreAbout":"Learn more about reporting \x3e","deployNewTemplates":"Deploy New Resources","noSelection":"(No Selection)","caching":"Caching","additionalReporting":"Perform Additional Reporting Tasks","requestSubmitted":"Request submitted.","numTotal":"&nbsp;(total ${0})","selectTargetHeading":"Select project or team area to deploy resources to","confirmShowUnarchived":"Do you wish to reload the current report to hide archived artifacts?","confirmDelFolder":"Are you sure you wish to delete this folder and all the reports in it?","missingRequiredFields":"Fill in all required fields prior to saving.","nowDefaultReport":"This is now the default report.","newFolderDotDotDot":"New Folder...","numSelected":"${0} of ${1} selected","deleteTemplate":"Delete Resource","create":"Create Report","selectSourceHeading":"Select source to deploy from","createFolder":"Create Folder","devIntelligenceDesc_1":"Click the shortcuts on this page to access Cognos Business Intelligence tools.","allTemplatesNone":"No report resources found.","rrdiRequired":"Cognos Business Intelligence is not currently available to create advanced reports. Contact your Administrator.","browseYourProject":"Browse available reports to select and view a report.","resource":"File","defaultReportSet":"This report resource has been set as the default planning report.","format":"Format: ","clickToEdit":"Click to edit","cannotSetAsPlanningReport":"Cannot set as default until the new report resource has been saved.","devIntelligenceDesc_2":"For additional information, see the help topic on ","expandAll":"Expand All","multipleContentsRestored":"The report resource(s) have been restored to their initial contents.","contentsRestored":"The report resource has been restored to its initial contents.","collapseAll":"Collapse All","deletionSuccessful":"Report resource successfully deleted","newName":"New name:","resourcesHeader":"Manage attached files used by this report resource. Select a local file to upload.","reportingServiceNotConfiguredMessage":"Report Builder is not currently available to create simple operational reports. Contact your Administrator.","myTeamAreas":"My Team Areas","confirmDelReportsAndFolders":"Are you sure you wish to delete the ${0} selected report(s) and ${1} selected folder(s). Any reports in the selected folder(s) will also be deleted?","addMoreValues":"Add more values","general":"General","deleteReportMsg":"Delete Report","reportingServiceTitle":"Create report using Report Builder","runningReports":"Running Reports","currentContributor":"Current Contributor","ok":"OK","move":"Move","selectResourceHeading":"Select resources to deploy","schemaVersion":"Schema Version:       ${0}","restore":"This report has overridden the contents and/or files from its source.","noTemplatesFound":"No new report resources were found.","useTheNavigation":"Use the \x3cb\x3enavigation bar drop-down menu\x3c/b\x3e to create resources or to access existing resources.","resources":"Files","listAllTables":"List All Tables","allReportsSearching":"Searching reports","reportTemplate":"Report Resource","errorUnhelpful":"An error occurred which did not produce a helpful message.","deployingNewTemplates":"Deploying new report resources.","supportsCaching":"Supports data caching","restoreInitialContents":"Restore contents from source","viewReports":"View reports","msgProjectAreaIsDifferentDetails":"The page displayed has a project area context which is selected using the drop-down selection shown in the header. This report may display data from a different project area than indicated in the drop-down selection."};

;(function(){
dojo.provide("com.ibm.team.reports.web.ui.internal.ReportsComponentMenu");






























dojo.requireLocalization("com.ibm.team.reports.web.ui.internal","ReportMessages");
var _1=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _2=com.ibm.team.repository.web.client.internal.ServerStatusClient;
var _3=com.ibm.team.reports.web.client.internal.ReportsClient;
var _4=dojo.i18n.getLocalization("com.ibm.team.reports.web.ui.internal","ReportMessages");
var _5=com.ibm.team.reports.web.ui.internal.RecentlyViewed;
var _6=com.ibm.team.reports.web.ui.ReportsConstants;
var _7="#action=com.ibm.team.reports.defaultAction";
var _8="#action=com.ibm.team.reports.viewAllReports&shared=false";
var _9="#action=com.ibm.team.reports.viewAllReports&shared=true";
var _a="#action=com.ibm.team.reports.viewAllReportTemplates";
var _b="#action=com.ibm.team.reports.newReport";
var _c="#action=com.ibm.team.reports.viewRunningReports";
var _d="#action=com.ibm.team.reports.showAdditionalTasks";
dojo.declare("com.ibm.team.reports.web.ui.internal.ReportsComponentMenu",jazz.app._ComponentMenu,{_placeholderItem:null,_pendingRequests:0,_cognosUrl:null,_reportingServiceUrl:null,postCreate:function(){
var _e=new _1(this,"_handleReportingServiceUrl","_handleError");
_3.getReportingServiceURL(_e);
this._pendingRequests++;
this.subscribe(_6.EVENT_REPORTS_VIEW_CHANGED,"_addRecentlyViewed");
this.refreshMenu();
_5.init();
},refreshMenu:function(){
this.clear();
this._placeHolderItem=null;
this._addQueries();
this._addRecentlyViewed();
},_addQueries:function(){
this.addItemByArgs({label:_4.welcomeToReports,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/report-obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_7});
this.addTitle(_4.browse);
this.addItemByArgs({label:_4.myReports,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/reports-obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_8});
this.addItemByArgs({label:_4.sharedReports,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/reports-obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_9});
this.addItemByArgs({label:_4.reportTemplates,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/report-template-group_obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_a});
this.addItemByArgs({label:_4.runningReports,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/runningreport_obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_c});
this.addTitle(_4.create);
this.addItemByArgs({label:_4.createFromResource,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/create-report_obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_b});
if(this._pendingRequests>0){
this._placeholderItem=this.addLoading();
}else{
this._addOptionalTasks();
}
},_addRecentlyViewed:function(){
var _f=_5.getArtifactsCount();
if(!_f||_f<1){
return;
}
var _10={};
_10.wrapHint=2;
var _11=_f==10?dojo.string.substitute(_4.maximum,[_f]):_f;
this.addTitle("<b>"+_4.recentlyViewed+"</b> ("+_11+")",_10);
var _12=_5.getArtifacts();
for(var i=0;i<_12.length;i++){
var _13=_12[i];
var _14={};
_14.icon=_13.iconUrl;
_14.href=_13.href;
_14.label=jazz.util.html.escape(_13.title);
this.addItemByArgs(_14);
}
},_addOptionalTasks:function(){
if(!this._cognosUrl&&!this._reportingServiceUrl){
this._removePlaceholder();
}else{
var _15=this._removePlaceholder();
if(this._cognosUrl){
this.addItemByArgs({label:_4.cognos,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/report-obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:_d},_15);
if(_15){
_15++;
}
}
if(this._reportingServiceUrl){
this.addItemByArgs({label:_4.reportingService,icon:dojo.moduleUrl("com.ibm.team.reports.web","ui/internal/images/report-obj.gif?etag=d2KOXss"),wrapHint:jazz.ui.internal.MegaMenu.wrapHint.NO_WRAP,href:this._reportingServiceUrl},_15);
}
}
},getSelected:function(){
var _16=this.getItems();
var _17=location.href;
if(_17.search(_7)!=-1){
return _16[0];
}else{
if(_17.search(_8)!=-1){
return _16[2];
}else{
if(_17.search(_9)!=-1){
return _16[3];
}else{
if(_17.search(_a)!=-1){
return _16[4];
}else{
if(_17.search(_c)!=-1){
return _16[5];
}else{
if(_17.search(_b)!=-1){
return _16[7];
}else{
return null;
}
}
}
}
}
}
},_storeCustomReportingConfigured:function(_18){
this._pendingRequests--;
for(var i=0;i<_18.properties.length;i++){
if(_18.properties[i].name=="cognos.hostAndPort"){
if(_18.properties[i].overrideValue&&_18.properties[i].overrideValue.length>0){
this._cognosUrl=_18.properties[i].overrideValue;
}
}
}
if(this._pendingRequests===0){
this._addOptionalTasks();
}
},_handleReportingServiceUrl:function(url){
this._pendingRequests--;
if(url&&url.length>0){
this._reportingServiceUrl=url;
}
if(this._pendingRequests===0){
this._addOptionalTasks();
}
},_handleError:function(_19){
console.log(_19);
this._pendingRequests--;
if(this._pendingRequests===0){
this._addOptionalTasks();
}
},_removePlaceholder:function(){
if(this._placeholderItem){
var _1a=this._placeholderItem.getIndexInParent();
this.remove(this._placeholderItem);
this._placeholderItem=null;
return _1a;
}else{
return null;
}
}});
})();

dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.nls.CmCommonMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.nls.CmCommonMessages.en_us");
com.ibm.team.repository.web.configurationManagement.contextBannerButton.nls.CmCommonMessages.en_us={"Configuration":"Configuration","configuration":"configuration","noContextSelectedMessage":"Select a context","currentConfiguration":"Current Configuration","baseline":"baseline","Baseline":"Baseline","loading":"Loading...","changeset":"change set","configurationCacheErrorsAriaLabel":"Show configuration problems","staleCacheGlobalConfigurationWarning":"CRJAZ3109W Global configurations are not synchronized with recent changes. For now, set your current configuration to a local configuration.","stream":"stream","Stream":"Stream","ChangeSet":"Change Set"};

;(function MenuProvider(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.MenuProvider");




dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");


var _2=jazz.ui.internal.MenuItemGroup;


var _3=com.ibm.team.repository.web.configurationManagement.CmTools;
var _4={NO_WRAP:1,FORCE_WRAP:2,AUTO_WRAP:3};
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.MenuProvider",jazz.ui.MegaMenu,{_builders:[],isBuilt:null,"class":"com-ibm-team-repository-web-configurationManagement-MenuProvider",getBuilders:function __getBuilders(){
return [];
},setBuilders:function __setBuilders(_5){
this._builders=_5;
},rebuild:function __rebuild(){
this.isBuilt=false;
this.build();
},build:function __build(){
if(this.isBuilt){
return;
}
var _6=false;
try{
var _7=this.getBuilders();
for(var i=0;i<_7.length;i++){
var _8=_7[i];
if(!_6&&_8.newColumn){
_6=true;
}
if(i>0&&!_8.newColumn&&_6){
this.addSeparator();
}
var _9=new _2({type:"group",menu:this,name:_8.title,groupTitle:_8.title?_8.title:"",wrapHint:_8.newColumn?_4.FORCE_WRAP:_4.AUTO_WRAP});
for(var j=0;j<_8.entries.length;j++){
var _a=_8.entries[j];
_a.inGroup=_9;
if(_a.separator){
this.addSeparator();
}else{
if(_a.declaredClass==="jazz.ui.menu.MenuItem"||_a.declaredClass==="jazz.ui.menu.NodeMenuItem"){
this.add(_a);
}else{
this.addItemByArgs(_a);
}
}
}
}
this.isBuilt=true;
}
catch(error){
if(djConfig.isDebug){
console.error(error.stack);
}
}
}});
})();


;(function CmGarbageCollector(){
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.CmGarbageCollector");
dojo.declare("com.ibm.team.repository.web.configurationManagement._utils.CmGarbageCollector",[],{_disconnects:null,_destroys:null,constructor:function __CmGarbageCollector(){
this._disconnects=[];
this._destroys=[];
},destroy:function __destroy(){
this.inherited(arguments);
this.cleanup();
this._disconnects=null;
this._destroys=null;
},disconnects:function __disconnects(_1){
this._disconnects.push(_1);
return _1;
},destroys:function __destroys(_2){
this._destroys.push(_2);
return _2;
},cleanup:function __cleanup(){
dojo.forEach(this._disconnects,dojo.hitch(this,function __cleanupHandles(_3){
dojo.disconnect(_3);
}));
this._disconnects=[];
dojo.forEach(this._destroys,dojo.hitch(this,function __cleanupObjects(_4){
if(_4){
if(_4.destroyRecursive){
_4.destroyRecursive();
}else{
if(_4.destroy){
_4.destroy();
}else{
if(typeof _4.nodeType==="number"){
dojo.destroy(_4);
}else{
if(dojo.config.debug){
console.info("Do not know how to destroy (probably not a DOM node or widget): ",_4);
}
}
}
}
}
}));
this._destroys=[];
}});
})();


;(function CmNotificationConstants(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationConstants");


var _1="com.ibm.team.repository.web.configurationManagement.channels";
com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationConstants={DEFAULT_CHANNEL:_1+".default",ERROR_CHANNEL:_1+".error",WARNING_CHANNEL:_1+".warning",INFO_CHANNEL:_1+".info",OK_CHANNEL:_1+".ok",ERROR:jazz.ui.MessageBox.STATUS_TYPES.ERROR,WARNING:jazz.ui.MessageBox.STATUS_TYPES.WARNING,INFO:jazz.ui.MessageBox.STATUS_TYPES.INFO,OK:jazz.ui.MessageBox.STATUS_TYPES.OK};
}());

dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.nls.CmNotificationViewMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.nls.CmNotificationViewMessages.en_us");
com.ibm.team.repository.web.configurationManagement.notifications.nls.CmNotificationViewMessages.en_us={"hideDevel":"Hide information","showDevel":"Show information","seeAlsoLabel":"See Also:","solutionLabel":"Solution:","causeLabel":"Cause:","subtitleLabel":"Subtitle:","descriptionLabel":"Description:","develLabel":"Debug information:"};

;dojo.cache("com.ibm.team.repository.web", "configurationManagement/notifications/templates/CmNotificationView.html", "<div data-dojo-attach-point=\"view\" class=\"notificationView\">	<div data-dojo-attach-point=\"titleRow\" class=\"titleRow row\">		<span data-dojo-attach-point=\"titleNode\" class=\"titleNode rowContentCell\">&nbsp;</span>	</div>	<div data-dojo-attach-point=\"subtitleRow\" class=\"subtitleRow row hideOnShowLess\" enabled=\"false\">		<span class=\"subtitleLabel rowTitleCell\">${messages.subtitleLabel}</span>		<span data-dojo-attach-point=\"subtitleNode\" class=\"subtitleNode rowContentCell\"></span>	</div>	<div data-dojo-attach-point=\"descriptionRow\" class=\"descriptionRow row hideOnShowLess\" enabled=\"false\">		<span class=\"descriptionLabel rowTitleCell\">${messages.descriptionLabel}</span>		<span data-dojo-attach-point=\"descriptionNode\" class=\"descriptionNode rowContentCell\"></span>	</div>	<div data-dojo-attach-point=\"causeRow\" class=\"causeRow row hideOnShowLess\" enabled=\"false\">		<span class=\"causeLabel rowTitleCell\">${messages.causeLabel}</span>		<span data-dojo-attach-point=\"causeNode\" class=\"causeNode rowContentCell\"></span>	</div>	<div data-dojo-attach-point=\"solutionRow\" class=\"solutionRow row hideOnShowLess\" enabled=\"false\">		<span class=\"solutionLabel rowTitleCell\">${messages.solutionLabel}</span>		<span data-dojo-attach-point=\"solutionNode\" class=\"solutionNode rowContentCell\"></span>	</div> 	<div data-dojo-attach-point=\"seeAlsoRow\" class=\"seeAlsoRow row hideOnShowLess\" enabled=\"false\">		<span class=\"seeAlsoLabel rowTitleCell\">${messages.seeAlsoLabel}</span>		<span data-dojo-attach-point=\"seeAlsoNode\" class=\"seeAlsoNode rowContentCell\"></span>	</div>	<div data-dojo-attach-point=\"develRow\" class=\"develRow row hideOnShowLess develOff\" enabled=\"false\">		<span class=\"develLabel rowTitleCell\">${messages.develLabel}</span>		<span class=\"rowContentCell\">			<a data-dojo-attach-point=\"showDevelNode\" class=\"showDevelOff\">${messages.showDevel}</a>			<a data-dojo-attach-point=\"hideDevelNode\" class=\"showDevelOn\">${messages.hideDevel}</a>			<textarea data-dojo-attach-point=\"develNode\" class=\"develNode showDevelOn\"></textarea>		</span>	</div>	<!-- NLS_CHARSET=UTF-8 --></div>");

;(function CmNotificationObjectView(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObjectView");




var _1=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationConstants;
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.notifications","CmNotificationViewMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.notifications","CmNotificationViewMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObjectView",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/notifications/templates/CmNotificationView.html"),messages:_2,notification:null,myAttrNames:["title","subtitle","description","cause","solution","seeAlso","devel"],gc:null,_setconstructorAttr:function(){
return;
},constructor:function(_3){
this.notification=_3.notification;
this.gc=new com.ibm.team.repository.web.configurationManagement._utils.CmGarbageCollector();
dojo.forEach(this.myAttrNames,dojo.hitch(this,function(_4){
if(this.notification[_4]){
this["_set"+_4+"Attr"]=dojo.hitch(this,function(_5){
this.__setAttr(_4,_5);
});
this["_set"+_4+"Attr"](this.notification[_4]);
}
}));
},postCreate:function(){
this.gc.disconnects(dojo.connect(this.showDevelNode,"onclick",dojo.hitch(this,this.onShowDevel)));
this.gc.disconnects(dojo.connect(this.hideDevelNode,"onclick",dojo.hitch(this,this.onHideDevel)));
},destroy:function(){
this.gc.destroy();
},onShowDevel:function(){
dojo.addClass(this.develRow,"develOn");
dojo.removeClass(this.develRow,"develOff");
this.onSizeChanged();
},onHideDevel:function(){
dojo.addClass(this.develRow,"develOff");
dojo.removeClass(this.develRow,"develOn");
this.onSizeChanged();
},onSizeChanged:function(){
},__setAttr:function(_6,_7){
var _8=this[_6+"Node"];
var _9=this[_6+"Row"];
if(_8){
this._set(_6,_7);
_8.innerHTML=_7;
dojo.setAttr(_9,"enabled","true");
}else{
var _a=dojo.connect(this,"postCreate",this,function(){
this.__setAttr(_6,_7);
dojo.disconnect(_a);
});
}
}});
})();

dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.nls.CmNotificationObjectMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.nls.CmNotificationObjectMessages.en_us");
com.ibm.team.repository.web.configurationManagement.notifications.nls.CmNotificationObjectMessages.en_us={"titleLabel":"Title:","hideDevel":"Hide information","xhrError.useraction":"Try to complete the operation again, or clear the history in the web browser and then refresh the page. If the problem persists, contact your system administrator.","seeAlsoLabel":"See Also:","solutionLabel":"Solution:","causeLabel":"Cause:","xhrErrorSeeAlso":"","subtitleLabel":"Subtitle:","develLabel":"Debug information:","xhrErrorCause":"${statusCode}: ${statusMessage}","xhrError.explanation":"An error occurred while communicating with the server.","xhrErrorDevel":"Request args:\n${args}\n\nRequest response:\n${response}","showDevel":"Show information","httpCodes":{"400":{"cause":"${statusCode}: ${statusMessage}","description":"An error occurred while communicating with the server.","title":"CRMVC0009E There was a problem communicating with the server.","devel":"Request args:\n${args}\n\nRequest response:\n${response}","solution":"Try to complete the operation again, or clear the history in the web browser and then refresh the page. If the problem persists, contact your system administrator."},"403":{"title":"You do not have permission to complete this action.","solution":"Ask the application administrator to assign you permission for the action. Then, refresh the browser page and try the action again.","description":"This action cannot be completed because you do not have permission to perform this task."}},"xhrErrorSubtitle":"${statusCode}","xhrError":"CRMVC0009E There was a problem communicating with the server.","descriptionLabel":"Description:"};

;(function CmNotificationObject(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObject");


var _1=dojo.require("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObjectView");


var GC=com.ibm.team.repository.web.configurationManagement._utils.CmGarbageCollector;
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.notifications","CmNotificationObjectMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.notifications","CmNotificationObjectMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObject",[],{title:null,subtitle:null,description:null,type:null,cause:null,solution:null,seeAlso:null,devel:null,acknowledged:null,gc:null,channels:null,view:null,messages:dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.notifications","CmNotificationObjectMessages"),constructor:function(_3){
dojo.safeMixin(this,_3);
this.gc=new GC();
this.acknowledged=false;
},destroy:function(){
this.gc.destroy();
},dispatch:function(){
if(!this.title||dojo.trim(this.title)===""){
console.warn("Thwarted attempt to dispatch a notification without a title. Notifications must have at least a title!");
}else{
var _4=this;
dojo.forEach(this.channels,function(_5){
dojo.publish(_5,[_4]);
});
}
return this;
},show:function(){
if(this.onShow){
this.onShow();
}
},hide:function(){
if(this.onHide){
this.onHide();
}
},close:function(){
this.hide();
if(this.onClose){
this.onClose();
}
},_addCallback:function(_6,_7){
this.gc.disconnects(dojo.connect(this,_6,_7));
},addOnShow:function(_8){
this._addCallback("onShow",_8);
return this;
},addOnHide:function(_9){
this._addCallback("onHide",_9);
return this;
},addOnAcknowledge:function(_a){
this._addCallback("onAcknowledge",_a);
return this;
},addOnClose:function(_b){
this._addCallback("onClose",_b);
return this;
},getView:function(){
if((dojo.isIE<=9)||!this.view){
try{
this.view=new com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObjectView({"notification":this});
this.gc.destroys(this.view);
}
catch(error){
console.error(error.stack);
}
}
return this.view;
},onShow:null,onHide:null,onAcknowledge:null,onClose:null});
})();


;dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationCount");
(function(){
var _1=0;
dojo.mixin(com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationCount,{get:function(){
return _1;
},increment:function(){
_1+=1;
}});
})();


;(function CmNotificationFactory(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory");




var _1=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationConstants;


var _2=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationCount;
com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory={messages:dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.notifications","CmNotificationObjectMessages"),createError:function __createError(_3){
_3.type=_1.ERROR;
return this._createNotification(_3,_1.ERROR_CHANNEL);
},_extractHtmlError:function(_4){
var _5=_4.responseText;
var _6=dojo.create("div",{innerHTML:_5});
_6.normalize();
var _7=/\b[a-z]+\d+[ewi]\b/i;
var _8=[];
function _9(_a){
if(_a.nodeType===Node.TEXT_NODE){
var _b=_a.textContent;
if(_7.exec(_b)){
_8.push(_b);
}
return;
}
var _c=_a.childNodes;
for(var i=0;i<_c.length;i++){
var _d=_c[i];
if(_d.nodeName!=="TITLE"){
_9(_d);
}
}
};
_9(_6);
if(_8.length){
return _8.join("<br>");
}
if(_5.indexOf("<html>")!==-1||_5.length>1000){
return _4.statusText;
}
return _5;
},createXhrError:function __createXhrError(_e,_f){
var _10=_e.xhrError;
_e.ioArgs=_10;
var _11=false;
var _12=false;
var _13=false;
var _14=false;
if(_10&&_10.response){
var _15=_10.response.getHeader("Content-Type");
if(!_15){
_14=true;
}else{
_15=_15.toLowerCase();
if(_15.indexOf("text/html")!==-1){
_11=true;
}else{
if(_15.indexOf("json")!==-1){
_12=true;
}else{
if(_15.indexOf("xml")!==-1&&_e.ioArgs){
_13=true;
}
}
}
}
}
if(_13){
this.getRdfParts(_e);
}else{
if(_12){
try{
var _16=dojo.fromJson(_10.xhr.responseText);
if(dojo.isObject(_16)&&_16.summary){
_e.title=_16.summary;
_e.description=_16.explanation;
_e.solution=_16.useraction|_16.userAction;
}else{
_12=false;
_e.title=jazz.util.html.escape(_10.xhr.responseText||_10.xhr.statusText||"");
}
}
catch(e){
_12=false;
_e.title=jazz.util.html.escape(_10.xhr.responseText||_10.xhr.statusText||"");
}
}else{
if(_11){
_e.title=this._extractHtmlError(_10.xhr);
}else{
if(_14){
_e.title=jazz.util.html.escape(_10.xhr.responseText||_10.xhr.statusText||"");
}
}
}
}
if(!_11&&!_12){
if((!_10.xhr||!_10.xhr.responseText)||_e.title||_e.description||_e.solution){
var _17=_10.status?_10.status:400;
if(!_e.title){
_e.title=this.getMessage(_17,"title");
}
if(!_e.subtitle){
_e.subtitle=this.getMessage(_17,"subtitle");
}
if(_17===403){
_e.subtitle="";
}
if(!_e.description){
_e.description=_10.xhr.message?_10.xhr.message:this.getMessage(_17,"description");
}
if(_17===403&&!_f){
_e.description=this.getMessage(_17,"description");
}
if(!_e.solution){
_e.solution=this.getMessage(_17,"solution");
}
}
}
if(!_e.title){
_e.title=jazz.util.html.escape(_10.xhr.responseText);
}
if(!_e.devel&&djConfig.isDebug){
var _18=_e.xhrArgs?this._arrayToString(_e.xhrArgs):"";
_e.devel=dojo.string.substitute(this.messages.xhrErrorDevel,{args:_18,response:_10.responseText});
}
return this.createError(_e);
},getMessage:function __getMessage(_19,_1a){
var msg=this.messages.httpCodes;
if(msg[_19]&&msg[_19][_1a]){
return msg[_19][_1a];
}
return "";
},getRdfParts:function __getRdfParts(_1b){
var _1c=_1b.ioArgs;
if(!_1b.subtitle&&_1c.xhr){
if(_1c.xhr.status){
_1b.subtitle=_1c.xhr.status+" "+_1c.xhr.statusText;
}
}
var _1d=(_1c.xhr)?_1c.xhr.getResponseHeader("Content-Type"):null;
if(_1d&&_1c.xhr.responseText&&_1d.toLowerCase()==="application/rdf+xml"){
var rdf=dojox.xml.DomParser.parse(_1c.xhr.responseText).getElementsByTagName("rdf:Description")[0];
for(var i=0;i<rdf.childNodes.length;++i){
var _1e=rdf.childNodes[i];
if(_1e.nodeType===1&&_1e.childNodes.length>0&&_1e.childNodes[0].nodeValue){
switch(String(_1e.nodeName)){
case "err:errorStatus":
if(!_1b.subtitle){
_1b.subtitle=_1e.childNodes[0].nodeValue;
}
break;
case "err:errorMessage":
if(!_1b.title){
_1b.title=_1e.childNodes[0].nodeValue;
}
break;
case "err:errorSubStatus":
if(!_1b.subtitle){
_1b.subtitle=_1e.childNodes[0].nodeValue;
}
break;
case "err:seeAlso":
if(!_1b.seeAlso){
_1b.seeAlso=_1e.childNodes[0].nodeValue;
}
break;
case "err:errorCause":
if(!_1b.cause){
_1b.cause=this._createErrorObject(_1e.getElementsByTagName("rdf:Description")[0]);
}
break;
default:
break;
}
}
}
}
},createWarning:function __createWarning(_1f){
_1f.type=_1.WARNING;
return this._createNotification(_1f,_1.WARNING_CHANNEL);
},createInfo:function __createInfo(_20){
_20.type=_1.INFO;
return this._createNotification(_20,_1.INFO_CHANNEL);
},createSuccess:function __createSuccess(_21){
_21.type=_1.OK;
return this._createNotification(_21,_1.OK_CHANNEL);
},_assertChannels:function __assertChannels(_22,_23){
if(!_22.channels){
_22.channels=[];
}
if(!_22.disableDefaultChannels&&dojo.indexOf(_22.channels,_23)<0){
_22.channels.push(_23);
}
},_createNotification:function __createNotification(_24,_25){
this._assertChannels(_24,_25);
if(_24.devel&&!djConfig.isDebug){
delete _24.devel;
}
var _26=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationObject(_24);
if(_24.closeOnEvent){
var _27=_24.closeOnEvent;
var _28=dojo.connect(_27.context,_27.event,_27.context,function __closeOnEventInContext(){
_26.close();
dojo.disconnect(_28);
});
}
return _26;
},_arrayToString:function ___arrayToString(obj){
var _29=true;
var _2a="";
if(dojo.isObject(obj)){
if(dojo.isFunction(obj)){
_2a+="function";
}else{
for(var key in obj){
if(!_29){
_2a+="\n";
}
_29=false;
_2a+=dojo.string.substitute("${keyStr} : ${valStr}",{keyStr:key,valStr:this._arrayToString(obj[key])});
}
}
}else{
return obj;
}
return _2a;
},defaultXhrErrorHandler:function __defaultXhrErrorHandler(_2b){
var _2c=_2.get();
var _2d=this.createXhrError({xhrError:_2b,ioArgs:_2b.response.options.ioArgs},false);
_2d.dispatch();
return _2.get()>_2c?null:_2d;
}};
})();

dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.nls.CmCacheMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.nls.CmCacheMessages.en_us");
com.ibm.team.repository.web.configurationManagement.cache.nls.CmCacheMessages.en_us={"flushErrorTitle":"CRMVC1105E Loading the page might take some time.","flushErrorDescription":"Your browser\'s session storage might be too small to retrieve the information quickly.","flushErrorSolution":"To improve the response time, consider increasing the browser setting for allocation of session storage. Each browser has a different way to change this setting."};

;(function CmLocalCache(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.CmLocalCache");


var _1=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory;
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.cache","CmCacheMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.cache","CmCacheMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.cache.CmLocalCache",[],{_storageKey:null,_data:null,_timeout:60000,_temp:null,_errorTime:null,_isDisabled:null,constructor:function __VvcLocalCache(_3){
this._storageKey=(_3&&_3.storageKey)?_3.storageKey:"CMSesseionCache-";
if(_3){
this._temp=_3.temporary&&true;
if(_3.timeout){
this._timeout=_3.timeout;
}
}
if(djConfig.isDebug){
var _4=location.search.substr(1);
var _5=dojo.queryToObject(_4);
this._disabled=_5.disableCache;
if(this._disabled){
console.warn("The CMCache '"+this._storageKey+"' has been disabled and will treat all gets as cache misses.  You can re-enable the CMCache by either removing the query parameter 'disableCache' or setting it to false, or unsetting the Dojo debug mode.");
}
}else{
this._isDisabled=false;
}
if(this._storageKey){
sessionStorage.removeItem(this._storageKey);
}
this._data={};
},get:function __get(id){
var _6=this._data[id];
if(_6){
var _7=new Date();
var _8=new Date(_6.expires);
if(_8>_7){
return _6.data;
}
}
return null;
},put:function __put(_9,id,_a){
if(this._disabled){
return;
}
var _b=new Date();
var _c=_b.getTime()+(_a&&_a.timeout?_a.timeout:this._timeout);
var _d=new Date(_c);
var _e={id:id,data:_9,expires:djConfig.isDebug?_d.toLocaleString():_d.getTime()};
this._data[id]=_e;
this.flush();
},clear:function __clear(id){
if(id){
if(this._data[id]){
delete this._data[id];
}
}else{
for(var _f in this._data){
delete this._data[_f];
}
this._data={};
}
this.flush();
},flush:function(){
dojo.deprecated("CmLocalCache.flush","No longer needed","7.0.3");
}});
})();


;(function CmCache(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.CmCache");




var _1=com.ibm.team.repository.web.configurationManagement.cache.CmLocalCache;
var _2=[];
dojo.declare("com.ibm.team.repository.web.configurationManagement.cache.CmCache",[],{_localStore:null,_idProperty:null,_target:null,_bulkTarget:null,_idLock:null,constructor:function __CmCache(_3){
this._localStore=this._getLocalStorage(_3);
this._idProperty=_3.idProperty;
this._target=_3.target;
this._bulkTarget=_3.bulkTarget;
this._idLock=[];
this._bulkRequestBatches=[];
this._clearCacheHandle=dojo.subscribe("lcm.CmCache.shouldClear",this.clear.bind(this));
},destroy:function __destroy(){
this.inherited(arguments);
this._clearCacheHandle.remove();
function _4(_5){
dojo.forEach(_5,dojo.hitch(this,function __rejectAllLocks(_6){
_6.reject("This cache is being destroyed");
}));
};
_4(this._idLocks);
this._localStore=null;
this._idProperty=null;
this._target=null;
this._bulkTarget=null;
this._idLock=null;
},_getLocalStorage:function __getLocalStorage(_7){
if(_7.temporary){
return new _1(_7);
}
var _8=_7.storageKey;
var _9=_2[_8];
if(!_9){
_2[_8]=new _1(_7);
}
return _2[_8];
},getAll:function __getAll(_a,_b){
if(_b){
if(Array.isArray(_b)){
if(_b.length&&_a.length!==_b.length){
throw new Error("CMCache.getAll() requires a 1:1 relationship between the 'ids' and 'queries' arrays!");
}
}else{
var _c=_b;
_b=[];
for(var i=0;i<_a.length;i++){
var _d=dojo.mixin({},_c);
_d[this._idProperty]=_a[i];
_b.push(_d);
}
}
}
var _e=this;
function _f(){
var _10=[];
var _11={};
_a.forEach(function(id,i){
var _12=_b?_b[i]:undefined;
_11[id]="_placeholder";
var _13=_e.get(id,_12);
_13.then(function(_14){
_11[id]=_14;
});
_13.then(undefined,function(_15){
if(!_11.error){
_11.error={};
}
_11.error[id]=_15;
delete result[id];
});
_10.push(_13);
});
var _16=new dojo.Deferred();
new dojo.DeferredList(_10).then(function(){
_16.resolve(_11);
});
return _16;
};
if(this._bulkTarget){
this.startBulkTransaction();
try{
return _f();
}
finally{
this.endBulkTransaction();
}
}else{
if(djConfig.isDebug&&!this.__hasWarnedAaboutGetAll){
this.__hasWarnedAaboutGetAll=true;
console.warn("Using 'CmCache.getAll()' without a bulk target specified is inefficient; the cache will do an individual get for each resource instead of making a single bulk request.  Every effort to implement a bulk service should be made.");
}
return _f();
}
},get:function __get(id,_17){
var _18;
var _19=this._localStore.get(id);
if(_19){
_18=new dojo.Deferred();
_18.resolve(_19);
return _18;
}else{
if(this._idLock[id]){
return this._idLock[id];
}
if(!_17){
_17={};
}
if(_17[this._idProperty]===undefined){
_17[this._idProperty]=id;
}
if(this._isInBulkTransaction()){
_18=this._addBulkRequest(_17);
}else{
_18=this.query(id,_17);
}
this._idLock[id]=_18;
_18.promise.always(dojo.hitch(this,function __unlockResource(){
this._idLock[id]=null;
delete this._idLock[id];
}));
}
return _18;
},query:function __query(id,_1a){
if(this._isInBulkTransaction()){
return this._addBulkRequest(_1a);
}
var _1b=this;
var get=jazz.client.xhrGet({url:this._target+"?"+dojo.objectToQuery(_1a),headers:{"Accept":"application/json","Content-Type":"application/json"},handleAs:"json"});
var _1c=new dojo.Deferred();
get.then(function(_1d){
if(_1d){
if(_1d[id]){
_1b.put(_1d[id],id);
_1c.resolve(_1d[id]);
}else{
_1b.put(_1d,id);
_1c.resolve(_1d);
}
}
});
get.then(undefined,function(_1e){
_1c.reject(_1e);
});
return _1c;
},put:function __put(_1f,id,_20){
this._localStore.put(_1f,id,_20);
},save:function __save(_21,id,_22){
if(!id){
if(_21&&(_21.uri||_21.id)){
id=_21.id?_21.id:_21.uri;
}else{
throw new Error("The object ID is required to save to the CmCache!");
}
}
var _23=new dojo.Deferred();
this.get(id).then(dojo.hitch(this,function __getResource(_24){
var _25=new dojo.Deferred();
if(this._idLock[id]){
this._idLock[id].then(_25.resolve,_25.resolve);
}else{
_25.resolve();
}
_25.then(dojo.hitch(this,function __performSave(){
this._idLock[id]=_23;
var _26=dojo.mixin(_24,_21);
var _27=jazz.client.xhrPut({url:this._target+"?"+dojo.objectToQuery({resourceUri:id}),handleAs:"json",headers:{"Content-Type":"application/json"},putData:dojo.toJson(_26)});
_27.then(dojo.hitch(this,function __afterSaveOk(_28){
this._idLock[id]=null;
this.clear(id);
this.get(id).then(function __onRefreshDataOk(_29){
_23.resolve(_29);
},function __onRefreshDataError(_2a){
_23.reject(_2a);
});
}),dojo.hitch(this,function __afterSaveError(_2b){
this._idLock[id]=null;
_23.reject(_2b);
}));
}));
}),function __getResourceErrBack(_2c){
_23.reject(_2c);
});
return _23;
},clear:function __clear(id){
return this._localStore.clear(id);
},_doBulkRequestBatch:function(_2d){
var _2e=_2d.map(function(_2f){
return _2f.requestQuery;
});
var _30={queries:_2e};
var _31=jazz.client.xhrPost({url:this._bulkTarget,headers:{"Accept":"application/json","Content-Type":"application/json"},handleAs:"json",postData:dojo.toJson(_30),preventCache:true});
var _32=this;
_31.then(function(_33){
for(var i=0;i<_2d.length;i++){
var _34=_2d[i];
var uri=_34.requestQuery[_32._idProperty];
var _35=_33[uri];
if(_35){
_32.put(_35,uri);
_34.requestDeferred.resolve(_35);
}else{
var _36="Bulk request was missing a result for "+uri;
console.error(_36);
_34.requestDeferred.reject(_36);
}
}
});
_31.then(undefined,function(_37){
console.error("Bulk request failed:",_37);
for(var i=0;i<_2d.length;i++){
var _38=_2d[i];
_38.requestDeferred.reject(_37);
}
});
},startBulkTransaction:function __startBulkTransaction(){
this._bulkRequestBatches.push([]);
},_isInBulkTransaction:function(){
return this._bulkRequestBatches.length>0;
},endBulkTransaction:function(){
var _39=this._bulkRequestBatches.pop();
if(!_39){
console.warn("Too many calls to .endBulkTransaction. No bulk transaction is in progress.");
}else{
this._doBulkRequestBatch(_39);
}
},_addBulkRequest:function __addBulkRequest(_3a){
var _3b=new dojo.Deferred();
var _3c={requestDeferred:_3b,requestQuery:_3a};
var _3d=this._bulkRequestBatches[this._bulkRequestBatches.length-1];
if(!_3d){
throw new Error("Adding bulk request while a bulk transaction is not active.");
}
_3d.push(_3c);
return _3b;
}});
})();


;(function CmChangesetCache(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.CmChangesetCache");




var _1=com.ibm.team.repository.web.configurationManagement.CmTools;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmLocalCache;
var _3=new _2({storageKey:"com.ibm.team.repository.web.configurationManagement.cache.CmChangesetCache.ChangeSetConfigurationToResourceUriCache"});
dojo.declare("com.ibm.team.repository.web.configurationManagement.cache.CmChangesetCache",com.ibm.team.repository.web.configurationManagement.cache.CmCache,{get:function __get(id,_4){
var _5=new dojo.Deferred();
var _6=function __onError(_7){
_5.reject(_7);
};
var _8=this.getInherited(arguments);
this.resolveChangeSetConfigurationUri(id).then(dojo.hitch(this,function __onResolveChangesetUri(_9){
var _a=dojo.hitch(this,_8,_9,_4);
_a().then(function __onSuccess(_b){
_5.resolve(_b);
},_6);
}),_6);
return _5;
},query:function __query(id,_c){
var _d=new dojo.Deferred();
var _e=function __onError(_f){
_d.reject(_f);
};
var _10=this.getInherited(arguments);
this.resolveChangeSetConfigurationUri(id).then(dojo.hitch(this,function __onResolveChangesetUri(_11){
var _12=dojo.hitch(this,_10,_11,_c);
_12().then(function __onSuccess(_13){
_d.resolve(_13);
},_e);
}),_e);
return _d;
},isChangeSetConfigurationUri:function __isChangeSetConfigurationUri(id){
var _14=_1.getVvcUri()+"/configurations/";
return id.indexOf(_14)===0;
},resolveChangeSetConfigurationUri:function __resolveChangeSetConfigurationUri(id){
var def=new dojo.Deferred();
if(this.isChangeSetConfigurationUri(id)){
var _15=_3.get(id);
if(_15){
def.resolve(_15);
return;
}
var _16=function __onError(_17){
def.reject(_17);
};
var xhr=jazz.client.xhrGet({url:_1.getVvcUri()+"/changesets/getByConfigurationUri?"+dojo.objectToQuery({configurationUri:id}),headers:{"Accept":"application/json","Content-Type":"application/json"},handleAs:"json",preventCache:true});
xhr.then(dojo.hitch(this,function __handleOk(_18){
for(var key in _18){
_15=key;
break;
}
_3.put(_15,id);
this.resolveChangeSetConfigurationUri(_15).then(function __getChangsetResourceUri(_19){
def.resolve(_19);
},_16);
}),_16);
}else{
def.resolve(id);
}
return def;
}});
})();


;(function CmCacheFactory(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory");


var _1=com.ibm.team.repository.web.configurationManagement.cache.CmCache;


var _2=com.ibm.team.repository.web.configurationManagement._utils.PrivateConstants;


var _3=com.ibm.team.repository.web.configurationManagement.CmTools;


var _4=com.ibm.team.repository.web.configurationManagement.cache.CmChangesetCache;
var _5={};
var _6={};
com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory={getConfigurationCache:function __getConfigurationCache(){
if(_3.talkDirectlyWithVvc){
return this.getCache({idProperty:"uri",target:_3.getVvcUri()+"/client/configuration",bulkTarget:_3.getVvcUri()+"/client/configurations",storageKey:_2.CONFIGURATION_CACHE_KEY});
}else{
return this.getCache({idProperty:"configurationUri",target:_3.getCmUri()+"/configurations",bulkTarget:_3.getCmUri()+"/configurations",storageKey:_2.CONFIGURATION_CACHE_KEY});
}
},getChangeSetsCache:function __getChangesetsCache(){
var _7,_8,_9;
if(_3.talkDirectlyWithVvc){
_9="uri";
_7=_3.getVvcUri()+"/client/changeset";
_8=_3.getVvcUri()+"/client/changesets";
}else{
_9="uri";
_7=_3.getCmUri()+"/configurations/changesets";
_8=_3.getCmUri()+"/configurations/changesets/bulk";
}
if(_3.cmConfig.workWithChangeSetConfigurations){
return this.getCache({idProperty:_9,target:_7,bulkTarget:_8,storageKey:"com.ibm.team.repository.web.configurationManagement.cache.CmChangesetCache"},_4);
}
return this.getCache({idProperty:_9,target:_7,bulkTarget:_8,storageKey:_2.CHANGESET_CACHE_KEY});
},getCache:function __getCache(_a,_b){
var id=_a.storageKey;
var _c=_5[id];
if(!_c){
_c=_b?new _b(_a):new _1(_a);
_5[id]=_c;
return com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory.getCache(_a);
}
return _c;
},getPagedCache:function __getPagedCache(_d){
}};
})();


;(function LegacyChangeSetUtils(){
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.LegacyChangeSetUtils");


var _1=com.ibm.team.repository.web.configurationManagement.CmTools;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;
var _3={Commit:"COMMIT",Complete:"COMPLETE",Rename:"RENAME"};
com.ibm.team.repository.web.configurationManagement._utils.LegacyChangeSetUtils={createChangeSet:function __createChangeSet(_4){
var _5=new dojo.Deferred();
var _6={configuration:_4.configurationId,name:_4.name};
var _7=_1.getVvcUri()+"/changesets?"+dojo.objectToQuery(_6);
var _8=jazz.client.xhrPost({handeAs:"text",url:_7,load:function __onCreateChangeSetOk(_9,_a){
if(_a&&_a.xhr){
var _b;
if(_1.cmConfig.workWithChangeSetConfigurations){
_b=_a.xhr.getResponseHeader("configurationUri");
}else{
_b=_a.xhr.getResponseHeader("Location");
}
if(_b){
_5.resolve(_b);
return;
}
}
_5.reject(new Error("No change set URI returned from the server"));
},error:function __onCreateChangeSetError(_c){
_5.reject(_c);
}});
return _5;
},completeChangeSet:function __completeChangeSet(_d){
return jazz.client.xhrPost({handleAs:"text",headers:{"Content-Type":"text/plain"},url:_d.changeSetUri,postData:JSON.stringify({"action":_3.Complete})});
},deliverChangeSet:function __deliverChangeSet(_e){
var _f=new dojo.Deferred();
var _10=jazz.client.xhrHead({url:_e.changeSetUri,headers:{referrerUrl:document.location.href}});
_10.then(function __getHeadOk(_11){
var _12=_10.ioArgs.xhr.getResponseHeader("deliverToStreamUri");
var _13=_f;
var _14=_e.changeSetUri;
if(_12){
var _15=jazz.client.xhrHead({url:_1.getVvcUri()+"/"+decodeURIComponent(_12)});
_15.then(dojo.hitch(_15,function __reimplementHttp300Responses(){
var _16=this.ioArgs.xhr.getResponseHeader("location");
if(_16){
location.assign(_16+"#/steps/3");
}
}),dojo.hitch(this,function __reimplementHttp300ResponsesError(_17){
_13.reject(_17);
}));
}else{
var _18=jazz.client.xhrPost({handleAs:"text",headers:{"Content-Type":"text/plain",VvcChangeSetTargetWorkspace:_1.getContext().localConfigurationUri},url:_14,postData:JSON.stringify({action:_3.Commit})});
_18.then(function __postOk(_19){
_13.resolve();
},function __postError(_1a){
_13.reject(_1a);
});
}
},function __getHeadError(_1b){
_f.reject(_1b);
});
return _f;
},discardChangeSet:function __discardChangeset(_1c){
var def=new dojo.Deferred();
var _1d=function __onError(_1e){
def.reject(_1e);
};
_2.getChangeSetsCache().get(_1c.changeSetUri).then(function __getChangesetOk(_1f){
_2.getConfigurationCache().get(_1f.changesetConfiguration).then(function __getConfOk(_20){
var xhr=jazz.client.xhrDelete({headers:{"Content-Type":"text/plain"},handleAs:"text",url:_1c.changeSetUri});
xhr.then(function _onDiscardChangesetOk(){
def.resolve(_20.flowTarget);
},_1d);
},_1d);
},_1d);
return def;
},renameChangeSet:function __renameChangeSet(_21){
return jazz.client.xhrPost({handleAs:"text",headers:{"Content-Type":"text/plain"},url:changesetUri,postData:JSON.stringify({action:_3.Rename,VvcChangesetRenameNewName:_21.newName})});
}};
})();


;(function CmCompareDeliverUtils(){
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.CmCompareDeliverUtils");


var _1=com.ibm.team.repository.web.configurationManagement.CmTools;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;
com.ibm.team.repository.web.configurationManagement._utils.CmCompareDeliverUtils={getArgs:function __getArgs(_3,_4,_5,_6){
var _7={};
if(_3){
_7.sourceUri=_3;
}
if(_4){
_7.targetUri=_4;
}
if(_5){
_7.referrer=_5;
}
return dojo.mixin(_7,_6?_6:{});
},startDeliver:function __startDeliver(_8){
var _9=_1.getCmUri()+"/deliver";
var _a=com.ibm.team.repository.web.configurationManagement._utils.CmCompareDeliverUtils._startCompareOrDeliverOperation(_8,_9);
return _a;
},startCompare:function __startCompare(_b){
var _c=_1.getCmUri()+"/compare";
var _d=com.ibm.team.repository.web.configurationManagement._utils.CmCompareDeliverUtils._startCompareOrDeliverOperation(_b,_c);
return _d;
},_startCompareOrDeliverOperation:function ___startCompareOrDeliverOperation(_e,_f){
if(!_e){
throw new Error("Cannot start a compare/deliver operation without arguments!");
}
if(!_e.referrer){
_e.referrer=window.location.href;
if(djConfig.isDebug){
console.warn("No referrer URL specified for CM compare/deliver operation, substituting the current window location: "+_e.referrer);
}
}
console.log(_e);
var xhr=jazz.client.xhrPost({url:_f,handleAs:"text",headers:{"Content-Type":"text/plain"},load:function __onLoad(_10,_11){
var _12=_11.xhr.getResponseHeader("Location");
if(_12){
window.location.href=_12;
}
return _11;
},postData:JSON.stringify(_e)});
return xhr;
}};
})();


;(function ChangeSetUtils(){
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils");


var _1=com.ibm.team.repository.web.configurationManagement.CmTools;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var _3=com.ibm.team.repository.web.configurationManagement._utils.LegacyChangeSetUtils;


var _4=com.ibm.team.repository.web.configurationManagement._utils.CmCompareDeliverUtils;
var _5=_1.getCmUri()+"/configurations/changesets";
com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils={createChangeSet:function __createChangeSet(_6){
var _7=new dojo.Deferred();
if(_1.talkDirectlyWithVvc){
return _3.createChangeSet(_6);
}
jazz.client.xhrPost({handleAs:"json",url:_5,postData:JSON.stringify(_6),headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function __onCreateChangeSetOk(_8){
if(_8){
_7.resolve(_8);
return;
}
_7.reject(new Error("No change set URI was returned from the server.  The change set might not have been created!"));
},_7.reject);
return _7;
},completeChangeSet:function __completeChangeSet(_9){
if(_1.talkDirectlyWithVvc){
return _3.completeChangeSet({changeSetUri:_9});
}
var _a=jazz.client.xhrPost({handleAs:"text",headers:{"Content-Type":"text/plain"},url:_5+"/complete",postData:JSON.stringify({configurationId:_9})});
_a.then(function __onCompleteChangeset(){
com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils._expireChangesetFromCache(_9);
_1.userRequestedContextChange({changeSetUri:_9});
});
return _a;
},discardChangeSet:function __discardChangeset(_b,_c){
if(_1.talkDirectlyWithVvc){
return _3.discardChangeSet({changeSetUri:_b});
}
var _d=new dojo.Deferred();
_2.getChangeSetsCache().get(_b).then(function __getChangesetOk(_e){
var _f=_e.parentStreamUri;
var xhr=jazz.client.xhrPost({handleAs:"text",headers:{"Content-Type":"text/plain"},url:_5+"/discard",postData:JSON.stringify({configurationId:_b})});
xhr.then(dojo.hitch(this,function __onDiscardSuccess(_10){
com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils._expireChangesetFromCache();
if(!_c){
_1.userRequestedContextChange({localConfigurationUri:_f});
}
_d.resolve(_f);
}),_d.reject);
},_d.reject);
return _d;
},renameChangeSet:function __renameChangeSet(_11){
if(_1.talkDirectlyWithVvc){
return _3.renameChangeSet(_11.uri,_11.title);
}
return _2.getChangeSetsCache().save(_11);
},deliverChangeSet:function __deliverChangeSet(_12){
if(_1.talkDirectlyWithVvc){
return _3.deliverChangeSet(_12);
}
if(djConfig.isDebug&&!this.__hasNotifiedAbouNewDeliverUtils){
this.__hasNotifiedAbouNewDeliverUtils=true;
console.warn("ChangeSetUtils#deliverChangeSet has been deprecated in favour of CmCompareDeliverUtils#startDeliver.  Please plan your migration accordingly!");
}
return _4.startDeliver(_12);
},_expireChangesetFromCache:function __expireChangesetFromCache(_13){
_2.getChangeSetsCache().clear(_13);
}};
})();


;(function CmUtils(){
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.CmUtils");


var _1=com.ibm.team.repository.web.configurationManagement.CmTools;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;
com.ibm.team.repository.web.configurationManagement._utils.CmUtils={getHashObject:function __getHashObject(){
return _3._queryOrHashStringToObject(window.location.hash);
},getHashProperty:function __getHashValue(_4){
var _5=null;
var _6=_3.getHashObject();
if(_6){
_5=_6[_4];
}
if(!dojo.isArray(_5)){
_5=[_5];
}
return _5;
},getQueryObject:function __getQueryObject(){
return _3._queryOrHashStringToObject(window.location.search);
},getQueryProperty:function __getQueryValue(_7){
var _8=null;
var _9=_3.getQueryObject();
if(_9){
_8=_9[_7];
}
if(!dojo.isArray(_8)){
_8=[_8];
}
return _8;
},_queryOrHashStringToObject:function __queryOrHashToObject(_a){
var _b=null;
if(_a){
var _c=_a.substring(1);
if(_c){
_b=dojo.queryToObject(_c);
}
}
return _b;
},getGrandparentOfStream:function __getGranparentOfStream(_d){
if(!_d){
throw new Error("Stream must be defined!");
}
var _e=function __onError(_f){
_10.reject(_f);
};
var _11=_d.parentStreamUri;
var _12=_d.id?_d.id:_d;
if(!_12){
throw new Error("Invalid stream uri!");
}
var _10=new dojo.Deferred();
var _13=_2.getConfigurationCache();
_13.get(_12).then(function __getParentOk(_14){
if(_14.parentStreamUri){
_13.get(_14.parentStreamUri).then(function __getGrandparentOk(_15){
_10.resolve(_15);
},_e);
}else{
_10.resolve();
}
},_e);
return _10;
},saveEncode:function __saveEncode(_16){
return dojox.html.entities.encode(dojox.html.entities.decode(_16));
},messageBoxArgsFromXhr:function(xhr){
try{
if(!xhr.responseText){
return {type:jazz.ui.MessageBox.STATUS_TYPES.ERROR,summary:"Server not responding.",closable:true};
}
var _17=dojo.fromJson(xhr.responseText);
if(!dojo.isObject(_17)||!_17.summary){
throw new Error("Internal error: response text after error was not expected JSON. Was: "+xhr.responseText);
}
var _18;
if(_17.explanation){
_18=[{message:_17.explanation,code:jazz.ui.MessageBox.STATUS_TYPES.OK}];
}
if(_17.userAction){
_18=_18||[];
_18.push({message:_17.userAction,code:jazz.ui.MessageBox.STATUS_TYPES.OK});
}
_17.details=_18;
return _17;
}
catch(e){
console.error("Failed to parse the error object.",e);
return {type:jazz.ui.MessageBox.STATUS_TYPES.ERROR,summary:jazz.util.html.escape(xhr.responseText),closable:true};
}
}};
var _3=com.ibm.team.repository.web.configurationManagement._utils.CmUtils;
})();


;define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10){
new Date("X");
function _11(_12){
return eval("("+_12+")");
};
var _13=0;
_9.after(_3,"extend",function(){
_13++;
},true);
function _14(_15){
var map=_15._nameCaseMap,_16=_15.prototype;
if(!map||map._extendCnt<_13){
map=_15._nameCaseMap={};
for(var _17 in _16){
if(_17.charAt(0)==="_"){
continue;
}
map[_17.toLowerCase()]=_17;
}
map._extendCnt=_13;
}
return map;
};
function _18(_19,_1a){
if(!_1a){
_1a=_1;
}
var _1b=_1a._dojoParserCtorMap||(_1a._dojoParserCtorMap={});
var ts=_19.join();
if(!_1b[ts]){
var _1c=[];
for(var i=0,l=_19.length;i<l;i++){
var t=_19[i];
_1c[_1c.length]=(_1b[t]=_1b[t]||(_3.getObject(t)||(~t.indexOf("/")&&_1a(t))));
}
var _1d=_1c.shift();
_1b[ts]=_1c.length?(_1d.createSubclass?_1d.createSubclass(_1c):_1d.extend.apply(_1d,_1c)):_1d;
}
return _1b[ts];
};
var _1e={_clearCache:function(){
_13++;
_ctorMap={};
},_functionFromScript:function(_1f,_20){
var _21="",_22="",_23=(_1f.getAttribute(_20+"args")||_1f.getAttribute("args")),_24=_1f.getAttribute("with");
var _25=(_23||"").split(/\s*,\s*/);
if(_24&&_24.length){
_4.forEach(_24.split(/\s*,\s*/),function(_26){
_21+="with("+_26+"){";
_22+="}";
});
}
return new Function(_25,_21+_1f.innerHTML+_22);
},instantiate:function(_27,_28,_29){
_28=_28||{};
_29=_29||{};
var _2a=(_29.scope||_2._scopeName)+"Type",_2b="data-"+(_29.scope||_2._scopeName)+"-",_2c=_2b+"type",_2d=_2b+"mixins";
var _2e=[];
_4.forEach(_27,function(_2f){
var _30=_2a in _28?_28[_2a]:_2f.getAttribute(_2c)||_2f.getAttribute(_2a);
if(_30){
var _31=_2f.getAttribute(_2d),_32=_31?[_30].concat(_31.split(/\s*,\s*/)):[_30];
_2e.push({node:_2f,types:_32});
}
});
return this._instantiate(_2e,_28,_29);
},_instantiate:function(_33,_34,_35,_36){
var _37=_4.map(_33,function(obj){
var _38=obj.ctor||_18(obj.types,_35.contextRequire);
if(!_38){
throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");
}
return this.construct(_38,obj.node,_34,_35,obj.scripts,obj.inherited);
},this);
function _39(_3a){
if(!_34._started&&!_35.noStart){
_4.forEach(_3a,function(_3b){
if(typeof _3b.startup==="function"&&!_3b._started){
_3b.startup();
}
});
}
return _3a;
};
if(_36){
return _a(_37).then(_39);
}else{
return _39(_37);
}
},construct:function(_3c,_3d,_3e,_3f,_40,_41){
var _42=_3c&&_3c.prototype;
_3f=_3f||{};
var _43={};
if(_3f.defaults){
_3.mixin(_43,_3f.defaults);
}
if(_41){
_3.mixin(_43,_41);
}
var _44;
if(_d("dom-attributes-explicit")){
_44=_3d.attributes;
}else{
if(_d("dom-attributes-specified-flag")){
_44=_4.filter(_3d.attributes,function(a){
return a.specified;
});
}else{
var _45=/^input$|^img$/i.test(_3d.nodeName)?_3d:_3d.cloneNode(false),_46=_45.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");
_44=_4.map(_46.split(/\s+/),function(_47){
var _48=_47.toLowerCase();
return {name:_47,value:(_3d.nodeName=="LI"&&_47=="value")||_48=="enctype"?_3d.getAttribute(_48):_3d.getAttributeNode(_48).value};
});
}
}
var _49=_3f.scope||_2._scopeName,_4a="data-"+_49+"-",_4b={};
if(_49!=="dojo"){
_4b[_4a+"props"]="data-dojo-props";
_4b[_4a+"type"]="data-dojo-type";
_4b[_4a+"mixins"]="data-dojo-mixins";
_4b[_49+"type"]="dojotype";
_4b[_4a+"id"]="data-dojo-id";
}
var i=0,_4c,_4d=[],_4e,_4f;
while(_4c=_44[i++]){
var _50=_4c.name,_51=_50.toLowerCase(),_52=_4c.value;
switch(_4b[_51]||_51){
case "data-dojo-type":
case "dojotype":
case "data-dojo-mixins":
break;
case "data-dojo-props":
_4f=_52;
break;
case "data-dojo-id":
case "jsid":
_4e=_52;
break;
case "data-dojo-attach-point":
case "dojoattachpoint":
_43.dojoAttachPoint=_52;
break;
case "data-dojo-attach-event":
case "dojoattachevent":
_43.dojoAttachEvent=_52;
break;
case "class":
_43["class"]=_3d.className;
break;
case "style":
_43["style"]=_3d.style&&_3d.style.cssText;
break;
default:
if(!(_50 in _42)){
var map=_14(_3c);
_50=map[_51]||_50;
}
if(_50 in _42){
switch(typeof _42[_50]){
case "string":
_43[_50]=_52;
break;
case "number":
_43[_50]=_52.length?Number(_52):NaN;
break;
case "boolean":
_43[_50]=_52.toLowerCase()!="false";
break;
case "function":
if(_52===""||_52.search(/[^\w\.]+/i)!=-1){
_43[_50]=new Function(_52);
}else{
_43[_50]=_3.getObject(_52,false)||new Function(_52);
}
_4d.push(_50);
break;
default:
var _53=_42[_50];
_43[_50]=(_53&&"length" in _53)?(_52?_52.split(/\s*,\s*/):[]):(_53 instanceof Date)?(_52==""?new Date(""):_52=="now"?new Date():_b.fromISOString(_52)):(_53 instanceof _8)?(_2.baseUrl+_52):_11(_52);
}
}else{
_43[_50]=_52;
}
}
}
for(var j=0;j<_4d.length;j++){
var _54=_4d[j].toLowerCase();
_3d.removeAttribute(_54);
_3d[_54]=null;
}
if(_4f){
try{
_4f=_11.call(_3f.propsThis,"{"+_4f+"}");
_3.mixin(_43,_4f);
}
catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+_4f+"'");
}
}
_3.mixin(_43,_3e);
if(!_40){
_40=(_3c&&(_3c._noScript||_42._noScript)?[]:_e("> script[type^='dojo/']",_3d));
}
var _55=[],_56=[],_57=[],ons=[];
if(_40){
for(i=0;i<_40.length;i++){
var _58=_40[i];
_3d.removeChild(_58);
var _59=(_58.getAttribute(_4a+"event")||_58.getAttribute("event")),_5a=_58.getAttribute(_4a+"prop"),_5b=_58.getAttribute(_4a+"method"),_5c=_58.getAttribute(_4a+"advice"),_5d=_58.getAttribute("type"),nf=this._functionFromScript(_58,_4a);
if(_59){
if(_5d=="dojo/connect"){
_55.push({method:_59,func:nf});
}else{
if(_5d=="dojo/on"){
ons.push({event:_59,func:nf});
}else{
_43[_59]=nf;
}
}
}else{
if(_5d=="dojo/aspect"){
_55.push({method:_5b,advice:_5c,func:nf});
}else{
if(_5d=="dojo/watch"){
_57.push({prop:_5a,func:nf});
}else{
_56.push(nf);
}
}
}
}
}
var _5e=_3c.markupFactory||_42.markupFactory;
var _5f=_5e?_5e(_43,_3d,_3c):new _3c(_43,_3d);
function _60(_61){
if(_4e){
_3.setObject(_4e,_61);
}
for(i=0;i<_55.length;i++){
_9[_55[i].advice||"after"](_61,_55[i].method,_3.hitch(_61,_55[i].func),true);
}
for(i=0;i<_56.length;i++){
_56[i].call(_61);
}
for(i=0;i<_57.length;i++){
_61.watch(_57[i].prop,_57[i].func);
}
for(i=0;i<ons.length;i++){
_f(_61,ons[i].event,ons[i].func);
}
return _61;
};
if(_5f.then){
return _5f.then(_60);
}else{
return _60(_5f);
}
},scan:function(_62,_63){
var _64=[],_65=[],_66={};
var _67=(_63.scope||_2._scopeName)+"Type",_68="data-"+(_63.scope||_2._scopeName)+"-",_69=_68+"type",_6a=_68+"textdir",_6b=_68+"mixins";
var _6c=_62.firstChild;
var _6d=_63.inherited;
if(!_6d){
function _6e(_6f,_70){
return (_6f.getAttribute&&_6f.getAttribute(_70))||(_6f.parentNode&&_6e(_6f.parentNode,_70));
};
_6d={dir:_6e(_62,"dir"),lang:_6e(_62,"lang"),textDir:_6e(_62,_6a)};
for(var key in _6d){
if(!_6d[key]){
delete _6d[key];
}
}
}
var _71={inherited:_6d};
var _72;
var _73;
function _74(_75){
if(!_75.inherited){
_75.inherited={};
var _76=_75.node,_77=_74(_75.parent);
var _78={dir:_76.getAttribute("dir")||_77.dir,lang:_76.getAttribute("lang")||_77.lang,textDir:_76.getAttribute(_6a)||_77.textDir};
for(var key in _78){
if(_78[key]){
_75.inherited[key]=_78[key];
}
}
}
return _75.inherited;
};
while(true){
if(!_6c){
if(!_71||!_71.node){
break;
}
_6c=_71.node.nextSibling;
_73=false;
_71=_71.parent;
_72=_71.scripts;
continue;
}
if(_6c.nodeType!=1){
_6c=_6c.nextSibling;
continue;
}
if(_72&&_6c.nodeName.toLowerCase()=="script"){
_79=_6c.getAttribute("type");
if(_79&&/^dojo\/\w/i.test(_79)){
_72.push(_6c);
}
_6c=_6c.nextSibling;
continue;
}
if(_73){
_6c=_6c.nextSibling;
continue;
}
var _79=_6c.getAttribute(_69)||_6c.getAttribute(_67);
var _7a=_6c.firstChild;
if(!_79&&(!_7a||(_7a.nodeType==3&&!_7a.nextSibling))){
_6c=_6c.nextSibling;
continue;
}
var _7b;
var _7c=null;
if(_79){
var _7d=_6c.getAttribute(_6b),_7e=_7d?[_79].concat(_7d.split(/\s*,\s*/)):[_79];
try{
_7c=_18(_7e,_63.contextRequire);
}
catch(e){
}
if(!_7c){
_4.forEach(_7e,function(t){
if(~t.indexOf("/")&&!_66[t]){
_66[t]=true;
_65[_65.length]=t;
}
});
}
var _7f=_7c&&!_7c.prototype._noScript?[]:null;
_7b={types:_7e,ctor:_7c,parent:_71,node:_6c,scripts:_7f};
_7b.inherited=_74(_7b);
_64.push(_7b);
}else{
_7b={node:_6c,scripts:_72,parent:_71};
}
_72=_7f;
_73=_6c.stopParser||(_7c&&_7c.prototype.stopParser&&!(_63.template));
_71=_7b;
_6c=_7a;
}
var d=new _c();
if(_65.length){
if(_d("dojo-debug-messages")){
console.warn("WARNING: Modules being Auto-Required: "+_65.join(", "));
}
var r=_63.contextRequire||_1;
r(_65,function(){
d.resolve(_4.filter(_64,function(_80){
if(!_80.ctor){
try{
_80.ctor=_18(_80.types,_63.contextRequire);
}
catch(e){
}
}
var _81=_80.parent;
while(_81&&!_81.types){
_81=_81.parent;
}
var _82=_80.ctor&&_80.ctor.prototype;
_80.instantiateChildren=!(_82&&_82.stopParser&&!(_63.template));
_80.instantiate=!_81||(_81.instantiate&&_81.instantiateChildren);
return _80.instantiate;
}));
});
}else{
d.resolve(_64);
}
return d.promise;
},_require:function(_83,_84){
var _85=_11("{"+_83.innerHTML+"}"),_86=[],_87=[],d=new _c();
var _88=(_84&&_84.contextRequire)||_1;
for(var _89 in _85){
_86.push(_89);
_87.push(_85[_89]);
}
_88(_87,function(){
for(var i=0;i<_86.length;i++){
_3.setObject(_86[i],arguments[i]);
}
d.resolve(arguments);
});
return d.promise;
},_scanAmd:function(_8a,_8b){
var _8c=new _c(),_8d=_8c.promise;
_8c.resolve(true);
var _8e=this;
_e("script[type='dojo/require']",_8a).forEach(function(_8f){
_8d=_8d.then(function(){
return _8e._require(_8f,_8b);
});
_8f.parentNode.removeChild(_8f);
});
return _8d;
},parse:function(_90,_91){
if(_90&&typeof _90!="string"&&!("nodeType" in _90)){
_91=_90;
_90=_91.rootNode;
}
var _92=_90?_6.byId(_90):_7.body();
_91=_91||{};
var _93=_91.template?{template:true}:{},_94=[],_95=this;
var p=this._scanAmd(_92,_91).then(function(){
return _95.scan(_92,_91);
}).then(function(_96){
return _95._instantiate(_96,_93,_91,true);
}).then(function(_97){
return _94=_94.concat(_97);
}).otherwise(function(e){
console.error("dojo/parser::parse() error",e);
throw e;
});
_3.mixin(_94,p);
return _94;
}};
if(_d("extend-dojo")){
_2.parser=_1e;
}
if(_5.parseOnLoad){
_10(100,_1e,"parse");
}
return _1e;
});


;define("dojo/text!dijit/templates/Tooltip.html", '<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip" data-dojo-attach-event="mouseenter:onMouseEnter,mouseleave:onMouseLeave"	><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div	><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div></div>');

;define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_1,_2,fx,_3,_4,_5,_6,_7,_8,on,_9,_a,_b,_c,_d,_e,_f,_10){
var _11=_2("dijit._MasterTooltip",[_c,_d],{duration:_a.defaultDuration,templateString:_f,postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new _e(this.domNode);
this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:_7.hitch(this,"_onShow")});
this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:_7.hitch(this,"_onHide")});
},show:function(_12,_13,_14,rtl,_15,_16,_17){
if(this.aroundNode&&this.aroundNode===_13&&this.containerNode.innerHTML==_12){
return;
}
if(this.fadeOut.status()=="playing"){
this._onDeck=arguments;
return;
}
this.containerNode.innerHTML=_12;
if(_15){
this.set("textDir",_15);
}
this.containerNode.align=rtl?"right":"left";
var pos=_b.around(this.domNode,_13,_14&&_14.length?_14:_18.defaultPosition,!rtl,_7.hitch(this,"orient"));
var _19=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_19.y+((_19.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_19.x+((_19.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}else{
this.connectorNode.style.left="";
this.connectorNode.style.top="";
}
}
_6.set(this.domNode,"opacity",0);
this.fadeIn.play();
this.isShowingNow=true;
this.aroundNode=_13;
this.onMouseEnter=_16||_1a;
this.onMouseLeave=_17||_1a;
},orient:function(_1b,_1c,_1d,_1e,_1f){
this.connectorNode.style.top="";
var _20=_1e.h,_21=_1e.w;
_1b.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1c+"-"+_1d];
this.domNode.style.width="auto";
var _22=_5.position(this.domNode);
if(_9("ie")||_9("trident")){
_22.w+=2;
}
var _23=Math.min((Math.max(_21,1)),_22.w);
_5.setMarginBox(this.domNode,{w:_23});
if(_1d.charAt(0)=="B"&&_1c.charAt(0)=="B"){
var bb=_5.position(_1b);
var _24=this.connectorNode.offsetHeight;
if(bb.h>_20){
var _25=_20-((_1f.h+_24)>>1);
this.connectorNode.style.top=_25+"px";
this.connectorNode.style.bottom="";
}else{
this.connectorNode.style.bottom=Math.min(Math.max(_1f.h/2-_24/2,0),bb.h-_24)+"px";
this.connectorNode.style.top="";
}
}else{
this.connectorNode.style.top="";
this.connectorNode.style.bottom="";
}
return Math.max(0,_22.w-_21);
},_onShow:function(){
if(_9("ie")){
this.domNode.style.filter="";
}
},hide:function(_26){
if(this._onDeck&&this._onDeck[1]==_26){
this._onDeck=null;
}else{
if(this.aroundNode===_26){
this.fadeIn.stop();
this.isShowingNow=false;
this.aroundNode=null;
this.fadeOut.play();
}else{
}
}
this.onMouseEnter=this.onMouseLeave=_1a;
},_onHide:function(){
this.domNode.style.cssText="";
this.containerNode.innerHTML="";
if(this._onDeck){
this.show.apply(this,this._onDeck);
this._onDeck=null;
}
}});
if(_9("dojo-bidi")){
_11.extend({_setAutoTextDir:function(_27){
this.applyTextDir(_27);
_1.forEach(_27.children,function(_28){
this._setAutoTextDir(_28);
},this);
},_setTextDirAttr:function(_29){
this._set("textDir",_29);
if(_29=="auto"){
this._setAutoTextDir(this.containerNode);
}else{
this.containerNode.dir=this.textDir;
}
}});
}
_10.showTooltip=function(_2a,_2b,_2c,rtl,_2d,_2e,_2f){
if(_2c){
_2c=_1.map(_2c,function(val){
return {after:"after-centered",before:"before-centered"}[val]||val;
});
}
if(!_18._masterTT){
_10._masterTT=_18._masterTT=new _11();
}
return _18._masterTT.show(_2a,_2b,_2c,rtl,_2d,_2e,_2f);
};
_10.hideTooltip=function(_30){
return _18._masterTT&&_18._masterTT.hide(_30);
};
var _31="DORMANT",_32="SHOW TIMER",_33="SHOWING",_34="HIDE TIMER";
function _1a(){
};
var _18=_2("dijit.Tooltip",_c,{label:"",showDelay:400,hideDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_35){
_1.forEach(this._connections||[],function(_36){
_1.forEach(_36,function(_37){
_37.remove();
});
},this);
this._connectIds=_1.filter(_7.isArrayLike(_35)?_35:(_35?[_35]:[]),function(id){
return _3.byId(id,this.ownerDocument);
},this);
this._connections=_1.map(this._connectIds,function(id){
var _38=_3.byId(id,this.ownerDocument),_39=this.selector,_3a=_39?function(_3b){
return on.selector(_39,_3b);
}:function(_3c){
return _3c;
},_3d=this;
return [on(_38,_3a(_8.enter),function(){
_3d._onHover(this);
}),on(_38,_3a("focusin"),function(){
_3d._onHover(this);
}),on(_38,_3a(_8.leave),_7.hitch(_3d,"_onUnHover")),on(_38,_3a("focusout"),_7.hitch(_3d,"set","state",_31))];
},this);
this._set("connectId",_35);
},addTarget:function(_3e){
var id=_3e.id||_3e;
if(_1.indexOf(this._connectIds,id)==-1){
this.set("connectId",this._connectIds.concat(id));
}
},removeTarget:function(_3f){
var id=_3f.id||_3f,idx=_1.indexOf(this._connectIds,id);
if(idx>=0){
this._connectIds.splice(idx,1);
this.set("connectId",this._connectIds);
}
},buildRendering:function(){
this.inherited(arguments);
_4.add(this.domNode,"dijitTooltipData");
},startup:function(){
this.inherited(arguments);
var ids=this.connectId;
_1.forEach(_7.isArrayLike(ids)?ids:[ids],this.addTarget,this);
},getContent:function(_40){
return this.label||this.domNode.innerHTML;
},state:_31,_setStateAttr:function(val){
if(this.state==val||(val==_32&&this.state==_33)||(val==_34&&this.state==_31)){
return;
}
if(this._hideTimer){
this._hideTimer.remove();
delete this._hideTimer;
}
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
switch(val){
case _31:
if(this._connectNode){
_18.hide(this._connectNode);
delete this._connectNode;
this.onHide();
}
break;
case _32:
if(this.state!=_33){
this._showTimer=this.defer(function(){
this.set("state",_33);
},this.showDelay);
}
break;
case _33:
var _41=this.getContent(this._connectNode);
if(!_41){
this.set("state",_31);
return;
}
_18.show(_41,this._connectNode,this.position,!this.isLeftToRight(),this.textDir,_7.hitch(this,"set","state",_33),_7.hitch(this,"set","state",_34));
this.onShow(this._connectNode,this.position);
break;
case _34:
this._hideTimer=this.defer(function(){
this.set("state",_31);
},this.hideDelay);
break;
}
this._set("state",val);
},_onHover:function(_42){
if(this._connectNode&&_42!=this._connectNode){
this.set("state",_31);
}
this._connectNode=_42;
this.set("state",_32);
},_onUnHover:function(_43){
this.set("state",_34);
},open:function(_44){
this.set("state",_31);
this._connectNode=_44;
this.set("state",_33);
},close:function(){
this.set("state",_31);
},onShow:function(){
},onHide:function(){
},destroy:function(){
this.set("state",_31);
_1.forEach(this._connections||[],function(_45){
_1.forEach(_45,function(_46){
_46.remove();
});
},this);
this.inherited(arguments);
}});
_18._MasterTooltip=_11;
_18.show=_10.showTooltip;
_18.hide=_10.hideTooltip;
_18.defaultPosition=["after-centered","before-centered"];
return _18;
});


;define("dojo/text!dijit/form/templates/ValidationTextBox.html", '<div class="dijit dijitReset dijitInline dijitLeft"	id="widget_${id}" role="presentation"	><div class=\'dijitReset dijitValidationContainer\'		><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"	/></div	><div class="dijitReset dijitInputField dijitInputContainer"		><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"			${!nameAttrSetting} type=\'${type}\'	/></div></div>');

;define("dojo/i18n!dijit/form/nls/validate", {"missingMessage":"This value is required.","invalidMessage":"The value entered is not valid.","rangeMessage":"This value is out of range."});

;define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_1,_2,_3,_4,_5,_6,_7){
var _8=_1("dijit.form.ValidationTextBox",_5,{templateString:_7,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){
},state:"",tooltipPosition:[],_deprecateRegExp:function(_9,_a){
if(_a!=_8.prototype[_9]){
_2.deprecated("ValidationTextBox id="+this.id+", set('"+_9+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");
this.set("pattern",_a);
}
},_setRegExpGenAttr:function(_b){
this._deprecateRegExp("regExpGen",_b);
this._set("regExpGen",this._computeRegexp);
},_setRegExpAttr:function(_c){
this._deprecateRegExp("regExp",_c);
},_setValueAttr:function(){
this.inherited(arguments);
this._refreshState();
},validator:function(_d,_e){
return (new RegExp("^(?:"+this._computeRegexp(_e)+")"+(this.required?"":"?")+"$")).test(_d)&&(!this.required||!this._isEmpty(_d))&&(this._isEmpty(_d)||this.parse(_d,_e)!==undefined);
},_isValidSubset:function(){
return this.textbox.value.search(this._partialre)==0;
},isValid:function(){
return this.validator(this.textbox.value,this.get("constraints"));
},_isEmpty:function(_f){
return (this.trim?/^\s*$/:/^$/).test(_f);
},getErrorMessage:function(){
var _10=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;
var _11=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_10:this.missingMessage;
return (this.required&&this._isEmpty(this.textbox.value))?_11:_10;
},getPromptMessage:function(){
return this.promptMessage;
},_maskValidSubsetError:true,validate:function(_12){
var _13="";
var _14=this.disabled||this.isValid(_12);
if(_14){
this._maskValidSubsetError=true;
}
var _15=this._isEmpty(this.textbox.value);
var _16=!_14&&_12&&this._isValidSubset();
this._set("state",_14?"":(((((!this._hasBeenBlurred||_12)&&_15)||_16)&&(this._maskValidSubsetError||(_16&&!this._hasBeenBlurred&&_12)))?"Incomplete":"Error"));
this.focusNode.setAttribute("aria-invalid",this.state=="Error"?"true":"false");
if(this.state=="Error"){
this._maskValidSubsetError=_12&&_16;
_13=this.getErrorMessage(_12);
}else{
if(this.state=="Incomplete"){
_13=this.getPromptMessage(_12);
this._maskValidSubsetError=!this._hasBeenBlurred||_12;
}else{
if(_15){
_13=this.getPromptMessage(_12);
}
}
}
this.set("message",_13);
return _14;
},displayMessage:function(_17){
if(_17&&this.focused){
_6.show(_17,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_6.hide(this.domNode);
}
},_refreshState:function(){
if(this._created){
this.validate(this.focused);
}
this.inherited(arguments);
},constructor:function(_18){
this.constraints=_3.clone(this.constraints);
this.baseClass+=" dijitValidationTextBox";
},startup:function(){
this.inherited(arguments);
this._refreshState();
},_setConstraintsAttr:function(_19){
if(!_19.locale&&this.lang){
_19.locale=this.lang;
}
this._set("constraints",_19);
this._refreshState();
},_setPatternAttr:function(_1a){
this._set("pattern",_1a);
this._refreshState();
},_computeRegexp:function(_1b){
var p=this.pattern;
if(typeof p=="function"){
p=p.call(this,_1b);
}
if(p!=this._lastRegExp){
var _1c="";
this._lastRegExp=p;
if(p!=".*"){
p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){
switch(re.charAt(0)){
case "{":
case "+":
case "?":
case "*":
case "^":
case "$":
case "|":
case "(":
_1c+=re;
break;
case ")":
_1c+="|$)";
break;
default:
_1c+="(?:"+re+"|$)";
break;
}
});
}
try{
"".search(_1c);
}
catch(e){
_1c=this.pattern;
console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);
}
this._partialre="^(?:"+_1c+")$";
}
return p;
},postMixInProperties:function(){
this.inherited(arguments);
this.messages=_4.getLocalization("dijit.form","validate",this.lang);
this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(_1d){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(_1e){
this._set("required",_1e);
this.focusNode.setAttribute("aria-required",_1e);
this._refreshState();
},_setMessageAttr:function(_1f){
this._set("message",_1f);
this.displayMessage(_1f);
},reset:function(){
this._maskValidSubsetError=true;
this.inherited(arguments);
},_onBlur:function(){
this.displayMessage("");
this.inherited(arguments);
},destroy:function(){
_6.hide(this.domNode);
this.inherited(arguments);
}});
return _8;
});


;define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_1,_2,_3,_4,on,_5,_6){
_3.add("textarea-needs-help-shrinking",function(){
var _7=_5.body(),te=_2.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},_7,"last");
var _8=te.scrollHeight>=te.clientHeight;
_7.removeChild(te);
return _8;
});
return _1("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){
this.inherited(arguments);
this.resize();
},postCreate:function(){
this.inherited(arguments);
var _9=this.textbox;
_9.style.overflowY="hidden";
this.own(on(_9,"focus, resize",_4.hitch(this,"_resizeLater")));
},startup:function(){
this.inherited(arguments);
this.own(_6.on("resize",_4.hitch(this,"_resizeLater")));
this._resizeLater();
},_onInput:function(e){
this.inherited(arguments);
this.resize();
},_estimateHeight:function(){
var _a=this.textbox;
_a.rows=(_a.value.match(/\n/g)||[]).length+1;
},_resizeLater:function(){
this.defer("resize");
},resize:function(){
var _b=this.textbox;
function _c(){
var _d=false;
if(_b.value===""){
_b.value=" ";
_d=true;
}
var sh=_b.scrollHeight;
if(_d){
_b.value="";
}
return sh;
};
if(_b.style.overflowY=="hidden"){
_b.scrollTop=0;
}
if(this.busyResizing){
return;
}
this.busyResizing=true;
if(_c()||_b.offsetHeight){
var _e=_c()+Math.max(_b.offsetHeight-_b.clientHeight,0);
var _f=_e+"px";
if(_f!=_b.style.height){
_b.style.height=_f;
_b.rows=1;
}
if(_3("textarea-needs-help-shrinking")){
var _10=_c(),_11=_10,_12=_b.style.minHeight,_13=4,_14,_15=_b.scrollTop;
_b.style.minHeight=_f;
_b.style.height="auto";
while(_e>0){
_b.style.minHeight=Math.max(_e-_13,4)+"px";
_14=_c();
var _16=_11-_14;
_e-=_16;
if(_16<_13){
break;
}
_11=_14;
_13<<=1;
}
_b.style.height=_e+"px";
_b.style.minHeight=_12;
_b.scrollTop=_15;
}
_b.style.overflowY=_c()>_b.clientHeight?"auto":"hidden";
if(_b.style.overflowY=="hidden"){
_b.scrollTop=0;
}
}else{
this._estimateHeight();
}
this.busyResizing=false;
}});
});


;define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_1,_2,_3,_4){
return _1("dijit.form.Textarea",[_4,_3],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){
this.inherited(arguments);
_2.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});
}});
});


;define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html","../a11yclick"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){
if(_4("dijit-legacy-requires")){
_7(0,function(){
var _b=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];
_1(_b);
});
}
var _c=_2("dijit.form.Button"+(_4("dojo-bidi")?"_NoBidi":""),[_8,_9],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_a,_setValueAttr:"valueNode",_setNameAttr:function(_d){
if(this.valueNode){
this.valueNode.setAttribute("name",_d);
}
},postCreate:function(){
this.inherited(arguments);
this._setLabelFromContainer();
},_setLabelFromContainer:function(){
if(this.containerNode&&!this.label){
this.label=_6.trim(this.containerNode.innerHTML);
this.onLabelSet();
}
},_setShowLabelAttr:function(_e){
if(this.containerNode){
_3.toggle(this.containerNode,"dijitDisplayNone",!_e);
}
this._set("showLabel",_e);
},setLabel:function(_f){
_5.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_f);
},onLabelSet:function(){
this.inherited(arguments);
if(!this.showLabel&&!("title" in this.params)){
this.titleNode.title=_6.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
if(_4("dojo-bidi")){
_c=_2("dijit.form.Button",_c,{onLabelSet:function(){
this.inherited(arguments);
if(this.titleNode.title){
this.applyTextDir(this.titleNode,this.titleNode.title);
}
},_setTextDirAttr:function(_10){
if(this._created&&this.textDir!=_10){
this._set("textDir",_10);
this._setLabelAttr(this.label);
}
}});
}
return _c;
});


;define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){
if(_4("dijit-legacy-requires")){
_6(0,function(){
var _a=["dijit/form/RadioButton"];
_1(_a);
});
}
return _2("dijit.form.CheckBox",[_7,_8],{templateString:_9,baseClass:"dijitCheckBox",_setValueAttr:function(_b,_c){
if(typeof _b=="string"){
this.inherited(arguments);
_b=true;
}
if(this._created){
this.set("checked",_b,_c);
}
},_getValueAttr:function(){
return this.checked&&this._get("value");
},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){
this.inherited(arguments);
this.checkedAttrSetting="";
},_fillContent:function(){
},_onFocus:function(){
if(this.id){
_5("label[for='"+this.id+"']").addClass("dijitFocusedLabel");
}
this.inherited(arguments);
},_onBlur:function(){
if(this.id){
_5("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");
}
this.inherited(arguments);
}});
});

dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.nls.CmUtilsMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.nls.CmUtilsMessages.en_us");
com.ibm.team.repository.web.configurationManagement._utils.nls.CmUtilsMessages.en_us={"initialBaseline":"${streamName} Initial Baseline"};

;(function ConfigurationUtils(){
dojo.provide("com.ibm.team.repository.web.configurationManagement._utils.ConfigurationUtils");




var _1=com.ibm.team.repository.web.configurationManagement.CmTools;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement._utils","CmUtilsMessages");
var _3=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement._utils","CmUtilsMessages");


var _4=com.ibm.team.repository.web.configurationManagement.CmEvents;
var _5=_1.getCmUri()+"/configurations";
var _6=_5+"/archive";
var _7=_5+"/archiveWithDescendants";
var _8=_5+"/restore";
com.ibm.team.repository.web.configurationManagement._utils.ConfigurationUtils={cmUtilsMessages:_3,createStream:function __createStream(_9){
var _a=_2.getConfigurationCache();
var _b=new dojo.Deferred();
_a.get(_9.configurationId).then(function __getParentConfiguration(_c){
var _d=function __handleResults(_e){
_b.resolve(_e);
};
var _f=function __handleError(_10){
_b.reject(_10);
};
if(_c.type==="baseline"||_c.type==="snapshot"){
_13.createConfiguration(_9,"streams").then(_d,_f);
}else{
var _11=dojo.clone(_9);
_13.createBaseline(dojo.mixin(_11,{name:dojo.string.substitute(_3.initialBaseline,{streamName:_9.name})})).then(function __createBaselineOk(_12){
_13.createStream(dojo.mixin(_9,{configurationId:_12})).then(_d,_f);
},_f);
}
});
return _b;
},createBaseline:function __createBaseline(_14){
return _13.createConfiguration(_14,"baselines");
},createConfiguration:function __createConfiguration(_15,_16){
if(_1.talkDirectlyWithVvc){
return com.ibm.team.repository.web.configurationManagement._utils.ConfigurationUtils._createConfigurationInLegacyMode(_15,_16);
}
return jazz.client.xhrPost({url:_1.getCmUri()+"/configurations/"+_16,headers:{"Accept":"application/json","Content-Type":"application/json"},load:function(_17){
if(_16==="streams"){
dojo.publish(_4.DID_CREATE_STREAM,[_17]);
}else{
if(_16==="baselines"){
dojo.publish(_4.DID_CREATE_BASELINE,[_17]);
}
}
},handleAs:"json",postData:dojo.toJson(_15),preventCache:true});
},_createConfigurationInLegacyMode:function ___createConfigurationInLegacyMode(_18,_19){
var def=new dojo.Deferred();
var _1a={name:_18.name,description:_18.description,mutable:_19==="streams"||_19==="workspace"};
var _1b={oneGreaterThan:_18.configurationId,unique:true,renameAutomatically:true};
var _1c=jazz.client.xhrPost({url:_1.getVvcUri()+"/configurations/child?"+dojo.objectToQuery(_1b),headers:{"Accept":"application/json","Content-Type":"application/json"},handleAs:"json",postData:dojo.toJson(_1a),load:function __onCreateStreamOk(_1d,_1e){
if(_1e&&_1e.xhr){
var _1f=_1e.xhr.getResponseHeader("Location");
if(_1f){
def.resolve(_1f);
return;
}
}
def.reject(new Error("No configuration URI returned from the server"));
},error:function __onCreateStreamError(_20){
def.reject(_20);
}});
return def;
},archiveConfiguration:function __archiveConfiguration(_21){
return _13._archiveOrRestoreConf(_21,_6);
},archiveConfigurationRecursive:function __archiveConfigurationRecursive(_22){
return _13._archiveOrRestoreConf(_22,_7);
},restoreConfiguration:function __restoreConfiguration(_23){
return _13._archiveOrRestoreConf(_23,_8);
},_archiveOrRestoreConf:function __archiveOrRestoreConf(_24,_25){
var _26=jazz.client.xhrPost({url:_25+"?"+dojo.objectToQuery({configurationUri:_24})});
_26.promise.always(function(){
dojo.publish("lcm.CmCache.shouldClear");
});
return _26;
}};
var _13=com.ibm.team.repository.web.configurationManagement._utils.ConfigurationUtils;
})();


;(function CmConstants(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.CmConstants");


var _1=com.ibm.team.repository.web.configurationManagement.CmTools;
com.ibm.team.repository.web.configurationManagement.CmConstants={CONFIGURATION_EXPLORER_ACTION:"com.ibm.team.localversioning.ConfigurationExplorer",STREAM_EDITOR_ACTION:"com.ibm.team.localversioning.editStream",BASELINE_EDITOR_ACTION:"com.ibm.team.localversioning.editBaseline",CHANGE_SET_EDITOR_ACTION:"com.ibm.team.localversioning.editChangeSet",componentUri:"componentUri",CHANGE_SET_STATES:{OPEN:"open",IN_PROGRESS:"IN_PROGRESS",COMPLETED:"completed",COMPLETED_LEGACY:"COMPLETED",COMMITTED:"committed",COMMITTED_LEGACY:"COMMITTED"},CONFIGURATION_TYPES:{STREAM:"stream",WORKSPACE_LEGACY:"workspace",BASELINE:"baseline",SNAPSHOT_LEGACY:"snapshot",CHANGE_SET:"changeSet",globalConfiguration:"globalConfiguration"},ChangeSetStateLiterals:{open:function __getOpenLiteral(){
return _1.talkDirectlyWithVvc?_2.IN_PROGRESS:_2.OPEN;
},completed:function __getCompleteLiteral(){
return _1.talkDirectlyWithVvc?_2.COMPLETED_LEGACY:_2.COMPLETED;
},committed:function __getCommittedLiteral(){
return _1.talkDirectlyWithVvc?_2.COMMITTED_LEGACY:_2.COMMITTED;
}},ConfigurationTypeLiterals:{stream:function __getStreamLiteral(){
return _1.talkDirectlyWithVvc?_3.WORKSPACE_LEGACY:_3.STREAM;
},baseline:function __getBaselineLiteral(){
return _1.talkDirectlyWithVvc?_3.SNAPSHOT_LEGACY:_3.BASELINE;
},changeSet:function __getChangeSetLiteral(){
return _3.CHANGE_SET;
},globalConfiguration:function __getGlobalConfigurationLiteral(){
return _3.globalConfiguration;
}}};
var _4=com.ibm.team.repository.web.configurationManagement.CmConstants;
var _2=_4.CHANGE_SET_STATES;
var _3=_4.CONFIGURATION_TYPES;
})();

dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.nls.CmDialogCommonMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.nls.CmDialogCommonMessages.en_us");
com.ibm.team.repository.web.configurationManagement.dialogs.nls.CmDialogCommonMessages.en_us={"discardConfirmationContent":"All your changes in this change set will be lost. You cannot retrieve a discarded change set. Do you want to discard the \"${changesetTitle}\" change set?","deliverChangeSetError":"The change set could not be delivered.","successMessageTextForStream":"Stream \"${streamName}\" was created successfully from the baseline \"${baselineName}\".","createBaselineHelpText":"Create a baseline of the \"${streamName}\" stream.","renameBaselineDialogTitle":"Rename Baseline","deliverStreamError":"The outgoing changes could not be delivered.","completeConfirmationContent":"Completing this change set prevents further changes to its resources. Possible next actions:\x3cbr /\x3e\x3cul\x3e\x3cli\x3eCreate a review for team members (if supported).\x3c/li\x3e\x3cli\x3eDeliver this change set to apply your changes to the destination stream.\x3c/li\x3e\x3cli\x3eDiscard this change set to undo your changes.\x3c/li\x3e\x3cli\x3eMake more changes in another change set.\x3c/li\x3e\x3c/ul\x3e","renameBaselineHelpText":"Enter a new name for the baseline \"${baselineName}\".","deliverConfirmationOkButton":"Deliver the Change Set","errorMessageTextCommon":"The operation was not successful.","acceptStreamConfirmationTitle":"Accept incoming changes","createChangeSetHelpText":"Create a change set against the \"${streamName}\" stream.","renameChangeSetDialogTitle":"Rename Change Set","successMessageText":"The operation was successful.","errorMessageTextForChangeSet":"Configuration must not be a change set configuration: \"${configURL}\"","acceptStreamError":"The incoming changes could not be accepted.","discardConfirmationOkButton":"Discard the Change Set","uniqueName":"The name must be unique and not used by any other configuration, yet.","createStreamDialogTitle":"Create Stream","warnArchiveRecursiveOkButton":"Archive configuration and all children","name":"Name:","acceptStreamConfirmationOkButton":"Accept changes","useBaselineImmediately":"Switch to the new baseline","createBaselineDialogTitle":"Create Baseline","errorMessageTextDetailsIntro":"The server returned the following error: ","waitingDialogTitle":"Operation in progress...","errorMessageTextForStream":"The user role that is assigned to you does not have the license or permissions to create streams. Ask the project administrator to confirm that you have the required license and permissions, or ask the project lead to create the stream.","warnArchiveRecursiveContentPreview":"Configurations to be archived include:","deliverConfirmationTitle":"Deliver the Change Set","Cancel":"Cancel","description":"Description:","deliverStreamConfirmationOkButton":"Deliver changes","invalidCharacters":"The following characters are not valid: \'!\' \'#\' \'%\'","waitingMessageText":"Please wait for the operation to complete. This might take several minutes...","completeConfirmationOkButton":"Complete the Change Set","useStreamImmediately":"Switch to the new stream","areYouSure":"Are you sure?","renameStreamHelpText":"Enter a new name for the stream \"${streamName}\".","errorMessageTextForUnknownType":"The user role that is assigned to you does not have the license or permissions to perform this action. Ask the project administrator to confirm that you have the required license and permissions, or ask the project lead to perform this action.","createStreamFromStreamHelpText":"Create a stream from the \"${streamName}\" stream. A baseline is created first.","requiredField":"This is a required field.","createStreamFromBaselineHelpText":"Create a stream from the \"${streamName}\" baseline.","deliverStreamConfirmationContent":"Deliver outgoing changes to the parent stream \"${parentStreamTitle}\" to make them visible int he parent stream.  From the parent stream, you can then view, work with, and expand upon the delivered changes.","Create":"Create","createChangeSetDialogTitle":"Create Change Set","completeConfirmationTitle":"Complete the Change Set","OK":"OK","deliverStreamConfirmationTitle":"Deliver outgoing changes","createStreamDefaultHelpText":"Create a stream.","discardConfirmationTitle":"Discard the Change Set","errorDialogTitle":"Error","errorMessageTextForBaseline":"The user role that is assigned to you does not have the license or permissions to create baselines. Ask the project administrator to confirm that you have the required license and permissions, or ask the project lead to create the baseline.","renameStreamDialogTitle":"Rename Stream","deliverConfirmationContent":"When you deliver the change set \"${changesetTitle}\", your changes are applied to the stream and are visible to everyone who uses it.","acceptStreamConfirmationContent":"Accept changes from the parent stream \"${parentStreamTitle}\" to make them visible in your stream.  You can then view, work with, and expand upon the accepted changes.","errorDialogDefaultMessage":"The operation failed.","warnArchiveRecursiveMoreConfigurationCount":"and ${configurationCount} more","personalStreamOpened":"To continue working in the same context, this change set will be added to your personal stream. Your personal stream will open, if needed.","errorMessageText":"The operation was not successful. If the problem persists, contact your administrator.","successMessageTextForBaseline":"Baseline \"${baselineName}\" was created successfully.","warnArchiveRecursiveContent":"This will archive \"${configurationTitle}\" and all child streams and baselines.","warnArchiveRecusriveDialogTitle":"Archive Warning","renameChangeSetHelpText":"Enter a new name for the change set \"${changesetName}\"."};

;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/ConfigurationCreationDialogContent.html", "<form class=\"com-ibm-team-cm-dialog\" dojoAttachEvent=\"onsubmit: _onSubmit\">	<!-- allow form submit with Enter -->	<input type=\"submit\" hidden>	<div data-dojo-attach-point=\"explanatoryText\" class=\"dialogHeader j-label\"></div>	<table class=\"dialogContent\">		<colgroup><col width=\"1\"><col width=\"999\"></colgroup><tbody>		<tr class=\"name row\">			<th class=\"j-label label column\" scope=\"col\">				<label for=\"nameInputBox\">${cmDialogCommonMessages.name}				<span class=\"requiredFieldMarker\" title=\"${cmDialogCommonMessages.requiredField}\">&nbsp;*</span>				</label>			</th>			<td class=\"input column\">				<input 	type=\"text\"  						data-dojo-attach-point=\"nameInput\"						id=\"nameInputBox\"						class=\"nameInput\"						required=\"true\"						data-dojo-type=\"dijit/form/ValidationTextBox\" 						data-dojo-props='	trim:true, 											missingMessage: \"${requiredFieldEncodedMsg}\",											invalidMessage: \"${uniqueNameEncodedMsg}\"'/>			</td>		</tr>		<tr class=\"description row\">			<th class=\"j-label label column\" scope=\"col\">				<label for=\"descriptionInput\">${cmDialogCommonMessages.description}</label>			</th>			<td class=\"input column\">				<textarea 	id=\"descriptionInput\" 							data-dojo-attach-point=\"descriptionInput\"							data-dojo-type=\"dijit/form/Textarea\"/></textarea>			</td>		</tr>	</tbody></table>	<div class = \"checkboxNode\">		<input data-dojo-attach-point=\"startUsingImmediatelyCheckbox\" 			id=\"startUsingImmediatelyCheckbox\" 			name=\"startUsingImmediatelyCheckbox\" 			data-dojo-type=\"dijit/form/CheckBox\" /> 		<label class=\"j-label\" data-dojo-attach-point=\"startUsingImmediatelyCheckboxLabel\" 				for=\"startUsingImmediatelyCheckbox\"></label>	</div>	<div class=\"j-buttonGroup-bleed-two\" dojoattachpoint=\"footerNode\">		<button class=\"j-button-secondary\"				data-dojo-attach-point=\"cancelButton\" 				data-dojo-attach-event=\"click: onClickCancel\">${cmDialogCommonMessages.Cancel}</button>		<button class=\"j-button-primary\"				data-dojo-attach-point=\"createButton\" 				data-dojo-attach-event=\"click: onClickCreate\"				disabled=true>${cmDialogCommonMessages.Create}</button>	</div></form>");

;(function ConfigurationCreationDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.ConfigurationCreationDialogContent");














dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");


var _3=com.ibm.team.repository.web.configurationManagement._utils.ConfigurationUtils;


var _4=com.ibm.team.repository.web.configurationManagement._utils.CmUtils;


var _5=com.ibm.team.repository.web.configurationManagement.CmTools;


var _6=com.ibm.team.repository.web.configurationManagement.CmConstants;


var _7=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;
var _8=dojo.moduleUrl("jazz.ui","graphics/config/createStream.svg");
var _9=dojo.moduleUrl("jazz.ui","graphics/config/createBaseline.svg");
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.ConfigurationCreationDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/ConfigurationCreationDialogContent.html"),cmDialogCommonMessages:_2,widgetsInTemplate:true,args:null,hideStartUsingImmediatelyChebox:null,uniqueName:true,nameChangeTimer:null,previousNameValue:"",constructor:function __configurationCreationDialog(_a){
this.requiredFieldEncodedMsg=_4.saveEncode(_2.requiredField).replace(/'/g,"&#39;"),this.uniqueNameEncodedMsg=_4.saveEncode(_2.uniqueName).replace(/'/g,"&#39;"),this.args=dojo.mixin({destroyContents:true,width:"435px",configurationId:(_a&&_a.configurationId)?_a.configurationId:_5.getContext().localConfigurationUri},_a?_a:{});
this.operationDeferred=new dojo.Deferred();
},postCreate:function __postCreate(){
this.args.contentNode=this.domNode;
this.nameInput.validator=dojo.hitch(this,this.nameValidator);
var _b=_7.getConfigurationCache().get(this.args.configurationId);
_b.then(dojo.hitch(this,function __cacheDefThen(_c){
this.args=dojo.mixin({configuration:_c},this.args?this.args:{});
dojo.setAttr(this.explanatoryText,"innerHTML",this.getExplanatoryText(_4.saveEncode(_5.talkDirectlyWithVvc?_c.title:_c.name),_c.type));
}));
if(this.args.disableStartUsingImmediatelyCheckbox){
this.startUsingImmediatelyCheckbox.set("disabled",true);
}
if(this.hideStartUsingImmediatelyChebox){
this.startUsingImmediatelyCheckbox.destroy();
dojo.destroy(this.startUsingImmediatelyCheckboxLabel);
this.startUsingImmediatelyCheckbox=null;
this.startUsingImmediatelyCheckboxLabel=null;
}
setTimeout(dojo.hitch(this,function(){
this.nameInput.focus();
}),0);
},getNameValue:function __getNameValue(){
return this.nameInput.get("value").trim().replace(/\s+/g," ");
},getDescriptionValue:function __getdescriptionInputValue(){
return this.descriptionInput.get("value");
},validateConfigurationName:function __validateConfigurationName(){
if(this.isConfigurationNameUniqueDeferred){
this.isConfigurationNameUniqueDeferred.cancel();
}
var _d=this.getTypesForUniqueNameCheck();
this.isConfigurationNameUniqueDeferred=this.isConfigurationNameUnique(this.getNameValue(),this.args.configurationId,_d);
dojo.when(this.isConfigurationNameUniqueDeferred,dojo.hitch(this,function __processIsNameUniqueResults(_e){
if(_e==false){
this.uniqueName=false;
}else{
if(!_e||_e==true){
this.uniqueName=true;
}
}
if(this.nameInput._refreshState){
this.nameInput._refreshState();
}else{
console.warn("ValidationTextBox is missing _refreshState.");
}
}));
},isConfigurationNameUnique:function __isConfigurationNameUnique(_f,_10,_11){
var _12={"configurationName":_f,"parentConfigurationId":_10,"types":_11};
var _13={url:_5.getCmService("/localVersionExplorer/configuration")+"?"+dojo.objectToQuery(_12),headers:{"Accept":"application/json","Content-Type":"application/json"},handleAs:"json",preventCache:true,load:function __returnResults(_14){
return _14;
}};
return jazz.client.xhrGet(_13);
},nameValidator:function __nameValidator(_15,_16){
_15=_15.trim();
var _17=_15.length>0;
if(_17&&this.previousNameValue!=this.getNameValue()){
this.previousNameValue=this.getNameValue();
if(this.nameChangeTimer){
clearTimeout(this.nameChangeTimer);
}
this.nameChangeTimer=setTimeout(dojo.hitch(this,this.validateConfigurationName),200);
}
_17=_17&&this.uniqueName;
this.createButton.disabled=!_17;
return _17;
},getTypesForUniqueNameCheck:function __getTypesForUniqueNameCheck(){
return _6.CONFIGURATION_TYPES.STREAM+","+_6.CONFIGURATION_TYPES.BASELINE;
},descriptionValidator:function __descriptionValidator(_18,_19){
return true;
},_onSubmit:function(e){
dojo.stopEvent(e);
if(!this.createButton.disabled){
this.onClickCreate();
}
},onClickCreate:function __onCreate(){
this.set("disabled",true);
var _1a={name:this.getNameValue(),description:this.getDescriptionValue(),configurationId:this.args.configurationId};
var _1b=false;
if(this.startUsingImmediatelyCheckbox){
_1b=this.startUsingImmediatelyCheckbox.get("checked");
}
this.onClose();
this.createConfiguration(_1a).then(dojo.hitch(this,function __onSuccess(_1c){
if(_1b){
_5.userRequestedContextChange({localConfigurationUri:_1c});
}
if(this.args.operationDeferred){
this.args.operationDeferred.resolve({configurationUri:_1c,startUsingImmediately:_1b});
}
}),dojo.hitch(this,function __onFail(_1d){
if(this.args.operationDeferred){
this.args.operationDeferred.reject(_1d);
}
}));
},onClickCancel:function __onCancel(){
if(this.args.onClickCancelCallback){
this.args.onClickCancelCallback();
}
this.onClose();
},onClose:function __onClose(){
},createConfiguration:function __createConfiguration(_1e){
},_setDisabledAttr:function __disableButtons(_1f){
this.createButton.disabled=_1f;
this.cancelButton.disabled=_1f;
this.nameInput.set("disabled",_1f);
this.descriptionInput.set("disabled",_1f);
if(this.startUsingImmediatelyCheckbox){
this.startUsingImmediatelyCheckbox.set("disabled",_1f);
}
}});
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.StreamCreationDialogContent",com.ibm.team.repository.web.configurationManagement.dialogs.ConfigurationCreationDialogContent,{constructor:function __streamCreationDialogContent(_20){
this.args.primaryTitle=_2.createStreamDialogTitle;
this.args.iconPath=_8;
},postCreate:function __postCreate(){
this.inherited(arguments);
if(this.startUsingImmediatelyCheckbox){
dojo.setAttr(this.startUsingImmediatelyCheckboxLabel,"innerHTML",_2.useStreamImmediately);
this.startUsingImmediatelyCheckbox.set("checked",true);
}
},createConfiguration:function __createConfiguration(_21){
return _3.createStream(_21);
},getTypesForUniqueNameCheck:function __getTypesForUniqueNameCheck(){
return _6.CONFIGURATION_TYPES.STREAM+","+_6.CONFIGURATION_TYPES.BASELINE;
},getExplanatoryText:function __getExplanatoryText(_22,_23){
if(_23=="baseline"){
return dojo.string.substitute(_2.createStreamFromBaselineHelpText,{streamName:_22});
}else{
if(_23=="stream"){
return dojo.string.substitute(_2.createStreamFromStreamHelpText,{streamName:_22});
}
}
return _2.createStreamDefaultHelpText;
}});
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.BaselineCreationDialogContent",com.ibm.team.repository.web.configurationManagement.dialogs.ConfigurationCreationDialogContent,{constructor:function __streamCreationDialogContent(_24){
this.args.primaryTitle=_2.createBaselineDialogTitle;
this.args.iconPath=_9;
this.hideStartUsingImmediatelyChebox=true;
},postCreate:function __postCreate(){
this.inherited(arguments);
},createConfiguration:function __createConfiguration(_25){
return _3.createBaseline(_25);
},getTypesForUniqueNameCheck:function __getTypesForUniqueNameCheck(){
return _6.CONFIGURATION_TYPES.BASELINE;
},getExplanatoryText:function __getExplanatoryText(_26){
return dojo.string.substitute(_2.createBaselineHelpText,{streamName:_26});
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/ChangeSetCreationDialogContent.html", "<div class=\"com-ibm-team-cm-dialog\">	<div data-dojo-attach-point=\"explanatoryText\" class=\"dialogHeader j-label\"></div>	<form data-dojo-attach-event=\"onsubmit:_onSubmitEvent\">	<table class=\"dialogContent\">		<colgroup><col width=\"1\"><col width=\"999\"></colgroup><tbody>		<tr class=\"name row\">			<th class=\"j-label label column\" scope=\"col\">				<label for=\"nameInput\">${cmDialogCommonMessages.name}				<span class=\"requiredFieldMarker\" title=\"${cmDialogCommonMessages.requiredField}\">&nbsp;*</span>				</label>			</th>			<td class=\"input column\">				<input 	type=\"text\"						class=\"nameInput\"						id=\"nameInput\"						required						spellcheck=\"no\" 						autocomplete=\"off\" 						data-dojo-type=\"dijit/form/ValidationTextBox\"						data-dojo-attach-point=\"nameInput\"						data-dojo-props=\"trim:true\"/>				<!-- allow form submit on Enter  -->				<input type=\"submit\" hidden>			</td>		</tr></tbody>	</table>	</form>	<div data-dojo-attach-point=\"notificationMessage\" class=\"hidden notificationMessage\">	</div>	<div class=\"j-buttonGroup-bleed-two\" dojoattachpoint=\"footerNode\">		<button				class=\"j-button-secondary\"				data-dojo-attach-point=\"cancelButton\" 				data-dojo-attach-event=\"onclick: onClickCancel\">${cmDialogCommonMessages.Cancel}</button>		<button				class=\"j-button-primary\"				data-dojo-attach-point=\"createButton\" 				data-dojo-attach-event=\"onclick: onClickCreate\"				disabled>${cmDialogCommonMessages.Create}		</button>	</div></div>");

;(function ChangeSetCreationDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.ChangeSetCreationDialogContent");




var _1=dojo.keys;










dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _3=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");


var _4=com.ibm.team.repository.web.configurationManagement._utils.CmUtils;


var _5=com.ibm.team.repository.web.configurationManagement.CmTools;


var _6=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var _7=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory;


var _8=com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils;


var _9=dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/graphics/create_change.gif?etag=d2KNl08");
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.ChangeSetCreationDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/ChangeSetCreationDialogContent.html"),cmDialogCommonMessages:_3,widgetsInTemplate:true,args:null,constructor:function __ChangeSetCreationDialogContent(_a){
var _b=_5.getContext();
this.args=dojo.mixin({primaryTitle:_3.createChangeSetDialogTitle,iconPath:_9,destroyContents:true,width:"435px",parentStreamUri:_b&&_b.localConfigurationUri?_b.localConfigurationUri:null},_a?_a:{});
},postCreate:function __postCreate(){
this.args.contentNode=this.domNode;
this.args.footerNode=this.footerNode;
this.nameInput.validator=dojo.hitch(this,this.tryEnableSave);
var _c=_6.getConfigurationCache().get(this.args.parentStreamUri);
_c.then(dojo.hitch(this,function __cacheDefThen(_d){
dojo.setAttr(this.explanatoryText,"innerHTML",dojo.string.substitute(_3.createChangeSetHelpText,{streamName:_4.saveEncode(_5.talkDirectlyWithVvc?_d.title:_d.name)}));
}));
var _e=_5.getContext();
if(_e!=null&&_e.globalConfigurationUri!=null){
dojo.setAttr(this.notificationMessage,"innerHTML",_3.personalStreamOpened);
dojo.removeClass(this.notificationMessage,"hidden");
}
setTimeout(dojo.hitch(this,function __setFocusTimeout(){
this.nameInput.focus();
}),0);
},tryEnableSave:function __tryEnableSave(_f){
var _10=_f.trim().length>0;
this.createButton.disabled=!_10;
return _10;
},_onSubmitEvent:function __onSubmitEvent(_11){
dojo.stopEvent(_11);
if(!this.tryEnableSave(this.nameInput.get("value"))){
return;
}
this.onClickCreate();
},onClickCreate:function __onCreate(){
this.set("disabled",true);
if(this._messageBox){
this._messageBox.hideMessage();
}
var _12={name:this.nameInput.get("value").trim(),configurationId:this.args.parentStreamUri};
_8.createChangeSet(_12).then(dojo.hitch(this,function __onSuccess(_13){
this.onClose();
_5.userRequestedContextChange(_13);
if(this.args.onClickOkCallback){
this.args.onClickOkCallback();
}
}),dojo.hitch(this,function __onFail(_14){
var n=_7.defaultXhrErrorHandler(_14);
if(!n){
this.onClose();
}else{
this.set("disabled",false);
var _15={type:n.type,summary:n.title,details:[]};
if(n.description){
_15.details.push({message:n.description});
}
if(n.solution){
_15.details.push({message:n.solution});
}
this._getMessageBox().showMessage(_15);
}
}));
},_getMessageBox:function(){
if(this._messageBox){
return this._messageBox;
}
this._messageBox=new jazz.ui.MessageBox();
this._messageBox.domNode.style.marginBottom="10px";
this._messageBox.placeAt(this.explanatoryText,"first");
return this._messageBox;
},onClickCancel:function __onCancel(){
if(this.args.onClickCancelCallback){
this.args.onClickCancelCallback();
}
this.onClose();
},onClose:function __onClose(){
},createConfiguration:function __createConfiguration(_16){
},_setDisabledAttr:function __disableButtons(_17){
this.createButton.disabled=_17;
this.cancelButton.disabled=_17;
dojo.attr(this.nameInput,"disabled",_17);
}});
})();


;(function CmPagedCache(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.cache.CmPagedCache");




dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.cache","CmCacheMessages");
var _1="pageStart";
var _2="pageEnd";
var _3="filter";
dojo.declare("com.ibm.team.repository.web.configurationManagement.cache.CmPagedCache",com.ibm.team.repository.web.configurationManagement.cache.CmCache,{_target:null,_idLock:null,_pageIdMap:null,filter:"",constructor:function __CmCache(_4){
this._pageIdMap={};
},uninitialize:function __uninitialize(){
this.inherited(arguments);
delete this._pageIdMap;
},getKeyForPage:function __getKeyForPage(id,_5,_6,_7,_8){
var _9={};
if(_6){
_9[_1]=_6;
}
if(_7){
_9[_2]=_7;
}
if(_8){
_9[_3]=_8;
}
var _a=dojo.objectToQuery(dojo.mixin(_5,_9));
if(_a){
return id+"?"+_a;
}
return id;
},get:function __get(id,_b,_c,_d){
var _e;
var _f=this.getKeyForPage(id,_b,_c,_d);
var _10=this._localStore.get(_f);
if(_10){
_e=new dojo.Deferred();
_e.resolve(_10);
}else{
if(this._idLock[_f]){
return this._idLock[_f];
}
if(!_b){
_b={};
}
if(_b[this._idProperty]===undefined){
_b[this._idProperty]=id;
}
if(!_b[_1]){
_b[_1]=_c;
}
if(!_b[_2]){
_b[_2]=_d;
}
if(!_b[_3]&&this.filter){
_b[_3]=this.filter;
}
if(this._isInBulkTransaction()){
_e=this._addBulkRequest(_b);
}else{
_e=this.query(id,_b);
}
this._idLock[_f]=_e;
_e.promise.always(dojo.hitch(this,function __unlockResource(){
this._idLock[_f]=null;
delete this._idLock[_f];
}));
}
return _e;
},query:function __query(id,_11){
var _12=new dojo.Deferred();
if(this.filter&&!_11.filter){
_11.filter=this.filter;
}
var _13={url:this._target+"?"+dojo.objectToQuery(_11),headers:{"Accept":"application/json","Content-Type":"application/json"},handleAs:"json",preventCache:true};
var _14=jazz.client.xhrGet(_13);
_14.then(dojo.hitch(this,function __processQueryResults(_15){
if(_15){
var key=this.getKeyForPage(id,_11,_11.pageStart,_11.pageEnd);
if(!this._pageIdMap[id]){
this._pageIdMap[id]=[];
}
this._pageIdMap[id].push(key);
if(_15[id]){
this.put(_15[id],key);
_12.resolve(_15[id]);
}else{
this.put(_15,key);
_12.resolve(_15);
}
}
}),dojo.hitch(this,function __processQueryResultsError(_16){
_12.reject(_16);
}));
return _12;
},clear:function __clear(id){
var _17=this._pageIdMap[id];
if(!_17){
this._localStore.clear();
return null;
}
var _18=[];
for(var i=0;i<_17.length;i++){
var _19=_17[i];
this._localStore.clear(_19);
_18.push(_19);
}
return _18;
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/ArchiveConfirmationDialogContent.html", "<div class=\"com-ibm-team-cm-dialog com-ibm-team-dialog-archiveConfirmationDialog\">	<div 	data-dojo-attach-point=\"messageContentNode\" 			class=\"messageContentNode\">	</div>	<div dojoAttachPoint=\"_previewNode\">		<div dojoAttachPoint=\"previewMessageNode\"			 class=\"messageContentNode\">		</div>		<div dojoAttachPoint=\"_previewResults\"></div>	</div>	<div class=\"j-buttonGroup-bleed-two\" dojoattachpoint=\"footerNode\">		<button				class=\"j-button-secondary\"				data-dojo-attach-point=\"cancelButton\" 				data-dojo-attach-event=\"click: onClickCancel\">			${cancelButtonText}		</button>		<button class=\"j-button-danger\"				data-dojo-attach-point=\"okButton\" 				data-dojo-attach-event=\"click: onClickOk\">${okButtonText}		</button>	</div></div>");

;(function ConfirmationDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.ArchiveConfirmationDialogContent");








dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");


var _3=com.ibm.team.repository.web.configurationManagement._utils.PrivateConstants;


var _4=com.ibm.team.repository.web.configurationManagement.CmTools;


var _5=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var _6=com.ibm.team.repository.web.configurationManagement.cache.CmPagedCache;


var _7=com.ibm.team.repository.web.configurationManagement._utils.CmUtils;
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.ArchiveConfirmationDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/ArchiveConfirmationDialogContent.html"),cmDialogCommonMessages:_2,widgetsInTemplate:true,args:null,okButtonText:_2.OK,cancelButtonText:_2.Cancel,_viewStructureCache:null,constructor:function __archiveConfigurationCreationDialog(_8){
this.args=dojo.mixin({primaryTitle:_2.areYouSure,iconClass:"com-ibm-team-repository-configurationManagement-icons-question",destroyContents:true,width:"500px"},_8?_8:{});
},postCreate:function __postCreate(){
this.args.contentNode=this.domNode;
this.args.footerNode=this.footerNode;
if(this.messageContent&&this.messageContent.domNode){
this.messageContentNode.appendChild(this.messageContent);
}else{
if(this.message){
dojo.setAttr(this.messageContentNode,"innerHTML",this.message);
}
}
if(this._viewStructureCache){
this._viewStructureCache.clear();
}else{
var _9=_4.getCmService("/localVersionExplorer/configurations");
this._viewStructureCache=new _6({idProperty:"configurationId",target:_9,bulkTarget:_9,storageKey:_3.VIEW_CACHE});
}
var _a=_5.getConfigurationCache();
this._getAllChildConfigurations(this.args.configurationId).then(dojo.hitch(this,function __getChildrenThen(_b){
if(_b&&_b.length>0){
dojo.setAttr(this.previewMessageNode,"innerHTML",_2.warnArchiveRecursiveContentPreview);
var _c=document.createDocumentFragment();
_a.getAll(_b).then(dojo.hitch(this,function __getAllChildrenThen(_d){
if(!dojo.isArray(_d)){
var _e=[];
for(var _f in _d){
_e.push(_d[_f]);
}
_d=_e;
}
for(var i=0;i<_d.length;i++){
if(i>=25){
var _10=dojo.create("div",{className:"dialog-small-padding"},_c);
_10.innerHTML=dojo.string.substitute(_2.warnArchiveRecursiveMoreConfigurationCount,{configurationCount:_b.length-i});
break;
}
var _11=_d[i];
var row=dojo.create("div",{className:"dialog-small-padding"},_c);
row.innerHTML=_11.name;
}
dojo.empty(this._previewResults);
dojo.place(_c,this._previewResults);
}));
}
}));
},_getAllChildConfigurations:function __getAllChildConfigurations(_12){
var _13=new dojo.Deferred();
var _14=new dojo.Deferred();
var _15=new dojo.Deferred();
var _16=[];
var _17=[];
var _18=new dojo.DeferredList([_14,_15]);
var _19=this._viewStructureCache.get(_12,{validTypes:["stream"],includeArchived:false});
_19.then(dojo.hitch(this,function __cacheDefThen(_1a){
var _1b=_1a.data;
_16=_1a.data;
var _1c=[];
if(_1b){
for(var i=0;i<_1b.length;i++){
var _1d=this._getAllChildConfigurations(_1b[i]);
_1d.then(dojo.hitch(this,function __recursiveChildThen(_1e){
_16=_16.concat(_1e);
}));
_1c.push(_1d);
}
var _1f=new dojo.DeferredList(_1c);
_1f.then(dojo.hitch(this,function(){
_14.resolve();
}));
}else{
_14.resolve();
}
}));
_19=this._viewStructureCache.get(_12,{validTypes:["baseline"],includeArchived:false});
_19.then(dojo.hitch(this,function __cacheDefThen(_20){
_17=_20.data;
_15.resolve();
}));
_18.then(dojo.hitch(this,function(_21){
_13.resolve(_17.concat(_16));
}));
return _13;
},onClickOk:function __onClickOk(){
if(this.args.onClickOkCallback){
this.args.onClickOkCallback();
}
this.onClose();
},onClickCancel:function __onClickCancel(){
if(this.args.onClickCancelCallback){
this.args.onClickCancelCallback();
}
this.onClose();
},onClose:function __onClose(){
},_setDisabledAttr:function __disableButtons(_22){
this.okButton.set("disabled",_22);
this.cancelButton.set("disabled",_22);
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/SimpleDialogContent.html", "<div class=\"com-ibm-team-cm-dialog\">	<div data-dojo-attach-point=\"explanatoryText\" class=\"dialogHeader j-label hidden\"></div>	<form data-dojo-attach-event=\"onsubmit:onSubmitEvent\">	<table class=\"dialogContent\">		<colgroup><col width=\"1\"><col width=\"999\"></colgroup><tbody>		<tr class=\"name row\">			<th class=\"j-label label column\" scope=\"col\">				<label for=\"mainInput\" data-dojo-attach-point=\"mainInputLabel\" >				</label>				<span class=\"requiredFieldMarker\" title=\"${cmDialogCommonMessages.requiredField}\">&nbsp;*</span>			</th>			<td class=\"input column\">				<input 	type=\"text\"						class=\"nameInput\"						required						data-dojo-attach-point=\"mainInput\"						data-dojo-attach-event=\"onkeyup: tryEnableOk, onchange: tryEnableOk\"/>			</td>		</tr></tbody>	</table>	</form>	<div class=\"j-buttonGroup-bleed-two\" dojoattachpoint=\"footerNode\">		<button class=\"j-button-secondary\"				data-dojo-attach-point=\"cancelButton\" 				data-dojo-attach-event=\"onclick: onClickCancel\">${cmDialogCommonMessages.Cancel}</button>		<button class=\"j-button-primary\"				data-dojo-attach-point=\"okButton\" 				data-dojo-attach-event=\"onclick: onClickOk\"				disabled>${cmDialogCommonMessages.OK}</button>	</div></div>");

;(function SimpleDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.SimpleDialogContent");




var _1=dojo.keys;






dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.SimpleDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/SimpleDialogContent.html"),cmDialogCommonMessages:_2,widgetsInTemplate:true,args:null,constructor:function __ChangeSetCreationDialogContent(_3){
this.args=dojo.mixin({primaryTitle:_3.dialogTitle,iconPath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/graphics/"+_3.dialogTitleIconName),destroyContents:true,width:"435px"},_3?_3:{});
},postCreate:function __postCreate(){
this.args.contentNode=this.domNode;
this.args.footerNode=this.footerNode;
dojo.setAttr(this.mainInputLabel,"innerHTML",this.args.mainInputLabel);
if(this.args.explanatoryText){
dojo.setAttr(this.explanatoryText,"innerHTML",this.args.explanatoryText);
dojo.removeClass(this.explanatoryText,"hidden");
}
dojo.setAttr(this.mainInput,"value",this.args.mainInputDefaultValue||"");
setTimeout(dojo.hitch(this,function __setFocusTimeout(){
this.mainInput.focus();
}),0);
},tryEnableOk:function __tryEnableSave(){
var _4=dojo.attr(this.mainInput,"value");
var _5=_4.length>0&&(this.args.allowDefaultValue?true:_4!=this.args.mainInputDefaultValue);
this.okButton.disabled=!_5;
},onSubmitEvent:function __onSubmitEvent(_6){
dojo.stopEvent(_6);
this.onClickOk();
},onClickOk:function __onClickOk(){
this.set("disabled",true);
var _7={context:this.args.context,mainInput:dojo.trim(dojo.attr(this.mainInput,"value"))};
this.onClose();
this.args.onClickOkCallback(_7);
},onClickCancel:function __onCancel(){
if(this.args.onClickCancelCallback){
this.args.onClickCancelCallback();
}
this.onClose();
},onClose:function __onClose(){
},_setDisabledAttr:function __disableButtons(_8){
this.okButton.disabled=_8;
this.cancelButton.disabled=_8;
dojo.attr(this.mainInput,"disabled",_8);
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/ConfirmationDialogContent.html", "<div class=\"com-ibm-team-cm-dialog com-ibm-team-dialog-confirmationDialog\">	<div 	data-dojo-attach-point=\"messageContentNode\" 			class=\"messageContentNode\">	</div>	<div class=\"j-buttonGroup-bleed-two\" dojoattachpoint=\"footerNode\">		<button class=\"j-button-secondary\"				data-dojo-attach-point=\"cancelButton\" 				data-dojo-attach-event=\"onclick: onClickCancel\">			${cancelButtonText}		</button>		<button class=\"${okButtonClass}\"				data-dojo-attach-point=\"okButton\" 				data-dojo-attach-event=\"onclick: onClickOk\">${okButtonText}		</button>	</div></div>");

;(function ConfirmationDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent");








dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/ConfirmationDialogContent.html"),cmDialogCommonMessages:_2,widgetsInTemplate:true,args:null,okButtonText:_2.OK,okButtonClass:"j-button-primary",cancelButtonText:_2.Cancel,constructor:function __configurationCreationDialog(_3){
this.args=dojo.mixin({primaryTitle:_2.areYouSure,iconClass:"com-ibm-team-repository-configurationManagement-icons-question",destroyContents:true,width:"35%"},_3?_3:{});
},postCreate:function __postCreate(){
this.args.contentNode=this.domNode;
this.args.footerNode=this.footerNode;
if(this.messageContent&&this.messageContent.domNode){
this.messageContentNode.appendChild(this.messageContent);
}else{
if(this.message){
dojo.setAttr(this.messageContentNode,"innerHTML",this.message);
}
}
setTimeout(dojo.hitch(this,function __setFocusTimeout(){
this.okButton.focus();
}),0);
},onClickOk:function __onClickOk(){
if(this.args.onClickOkCallback){
this.args.onClickOkCallback();
}
this.onClose();
},onClickCancel:function __onClickCancel(){
if(this.args.onClickCancelCallback){
this.args.onClickCancelCallback();
}
this.onClose();
},onClose:function __onClose(){
},_setDisabledAttr:function __disableButtons(_4){
this.okButton.set("disabled",_4);
this.cancelButton.set("disabled",_4);
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/WaitingDialogContent.html", "<div class=\"com-ibm-team-cm-dialog com-ibm-team-cm-waitingDialog\">	<div data-dojo-attach-point=\"explanatoryText\" class=\"dialogHeader j-label hidden\"></div>	<div 	data-dojo-attach-point=\"messageContentNode\" 			class=\"messageContentNode\">		<div 	data-dojo-attach-point=\"waitingMessageContent\">				<span class=\"com-ibm-team-repository-configurationManagement-icons-spinner com-ibm-team-cm-dialog-message-iconNode\">					&nbsp;				</span>				<span class=\"messageContent\">					${cmDialogCommonMessages.waitingMessageText}				</span>		</div>		<div 	data-dojo-attach-point=\"successMessageContent\"				class=\"hidden\">				<span class=\"com-ibm-team-repository-configurationManagement-icons-success com-ibm-team-cm-dialog-message-iconNode\">					&nbsp;				</span>				<span class=\"messageContent\">					${cmDialogCommonMessages.successMessageText}				</span>		</div>		<div 	data-dojo-attach-point=\"errorMessageContent\"				class=\"hidden\">				<span class=\"com-ibm-team-repository-configurationManagement-icons-error com-ibm-team-cm-dialog-message-iconNode\">					&nbsp;				</span>				<span class=\"messageContent\">					${cmDialogCommonMessages.errorMessageTextCommon}				</span>		</div>			</div>	<div dojoattachpoint=\"footerNode\">		<div data-dojo-attach-point=\"okButtonNode\" class=\"j-buttonGroup-bleed-one\">			<button data-dojo-attach-point=\"okButton\" 					class=\"j-button-primary\"					data-dojo-attach-event=\"click: onClickOk\">${cmDialogCommonMessages.OK}			</button>		</div>	</div></div>");

;(function WaitingDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.WaitingDialogContent");








dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.WaitingDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/WaitingDialogContent.html"),cmDialogCommonMessages:_2,widgetsInTemplate:true,args:null,operation:null,operationDeferred:null,constructor:function __configurationCreationDialog(_3){
this.args=dojo.mixin({primaryTitle:_3.customTitle?_3.customTitle:_2.waitingDialogTitle,destroyContents:true,width:"35%",closeOnEsc:false,closable:false},_3?_3:{});
},postCreate:function __postCreate(){
this.args.contentNode=this.domNode;
this.args.footerNode=this.footerNode;
this.set("disabled",true);
if(this.operation){
this.operationDeferred=this.operation();
}
var _4=new dojo.Deferred();
setTimeout(function __minimumTimeoutDeferred(){
_4.resolve();
},500);
if(this.args.selfClosing){
dojo.addClass(this.okButtonNode,"hidden");
}
if(this.args.explanatoryText){
dojo.setAttr(this.explanatoryText,"innerHTML",this.args.explanatoryText);
dojo.removeClass(this.explanatoryText,"hidden");
}
var _5=new dojo.DeferredList([_4,this.operationDeferred]);
_5.then(dojo.hitch(this,function(_6){
dojo.addClass(this.waitingMessageContent,"hidden");
if(_6[1][0]){
if(this.args.configurationName&&this.args.configurationType){
var _7=dojo.query(".messageContent",this.successMessageContent)[0];
if(this.args.configurationType=="stream"){
dojo.setAttr(_7,"innerHTML",dojo.string.substitute(_2.successMessageTextForStream,{streamName:this.args.configurationName,baselineName:this.args.baselineName}));
}else{
if(this.args.configurationType=="baseline"){
dojo.setAttr(_7,"innerHTML",dojo.string.substitute(_2.successMessageTextForBaseline,{baselineName:this.args.configurationName}));
}
}
}
dojo.removeClass(this.successMessageContent,"hidden");
}else{
var _8=_6[1][1];
if(_8){
var _9=_8.xhr.statusText;
var _a=_8.xhr.status;
if(_9){
var _b=dojo.query(".messageContent",this.errorMessageContent)[0];
if(this.args.configurationType=="stream"||this.args.configurationType=="baseline"){
_9=_8.responseText.replace(/&amp;quot&#59;/g,"");
_9=_9.split("attribute");
_9[0]=this.args.configurationType;
_9=_9.join();
_9=_9.replace(/,/g,"");
}
if(_a==403){
if(this.args.configurationType=="baseline"){
dojo.setAttr(_b,"innerHTML",dojo.getAttr(_b,"innerHTML")+"<br><br>"+_2.errorMessageTextForBaseline);
}else{
if(this.args.configurationType=="stream"){
dojo.setAttr(_b,"innerHTML",dojo.getAttr(_b,"innerHTML")+"<br><br>"+_2.errorMessageTextForStream);
}else{
if(this.args.configurationType=="change"){
dojo.setAttr(_b,"innerHTML",dojo.getAttr(_b,"innerHTML")+"<br><br>"+dojo.string.substitute(_2.errorMessageTextForChangeSet,{configURL:this.args.operationDeferred.ioArgs.url}));
}else{
dojo.setAttr(_b,"innerHTML",dojo.getAttr(_b,"innerHTML")+"<br><br>"+_2.errorMessageTextForUnknownType);
}
}
}
}else{
dojo.setAttr(_b,"innerHTML",dojo.getAttr(_b,"innerHTML")+"<br><br>"+_2.errorMessageTextDetailsIntro+_9);
}
}
}
dojo.removeClass(this.errorMessageContent,"hidden");
}
this.set("disabled",false);
if(this.args.selfClosing&&_6[1][0]){
this.onClose();
}else{
dojo.removeClass(this.okButtonNode,"hidden");
this.okButton.focus();
}
}));
},onClickOk:function __onClickOk(){
if(this.args.okCallback){
this.args.okCallback();
}
this.onClose();
},onClose:function __onClose(){
},_setDisabledAttr:function __disableButtons(_c){
this.okButton.disabled=_c;
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/dialogs/templates/ErrorDialogContent.html", "<div class=\"com-ibm-team-cm-dialog com-ibm-team-dialog-confirmationDialog\">	<div data-dojo-attach-point=\"messageContentNode\" class=\"messageContentNode\"></div>	<div data-dojo-attach-point=\"notificationCenterNode\"></div>	<div class=\"buttonRow\">		<button	autofocus=true				data-dojo-attach-point=\"okButton\" 				class=\"j-button-primary\"				data-dojo-attach-event=\"onClick:onClickOk\">${okButtonText}</button>	</div></div>");

;(function ErrorDialogContent(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.ErrorDialogContent");








dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");


var _3=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory;


var _3=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory;


var GC=com.ibm.team.repository.web.configurationManagement._utils.CmGarbageCollector;
dojo.declare("com.ibm.team.repository.web.configurationManagement.dialogs.ErrorDialogContent",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/dialogs/templates/ErrorDialogContent.html"),cmDialogCommonMessages:_2,widgetsInTemplate:true,args:null,okButtonText:_2.OK,gc:null,constructor:function __errorDialog(_4){
this.gc=new GC();
this.args=dojo.mixin({primaryTitle:_2.errorDialogTitle,message:_2.errorDialogDefaultMessage,iconClass:"com-ibm-team-repository-configurationManagement-icons-error",destroyContents:true,width:"60%"},_4?_4:{});
},destroy:function __destroy(){
this.notificationCenter=null;
this.gc.destroy();
this.inherited(arguments);
},postCreate:function __postCreate(){
this.inherited(arguments);
this.args.contentNode=this.domNode;
if(this.messageContent&&this.messageContent.domNode){
this.messageContentNode.appendChild(this.messageContent);
}else{
if(this.message){
dojo.setAttr(this.messageContentNode,"innerHTML",this.message);
}
}
this.notificationCenter=new com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationCenterController();
this.notificationCenterNode.appendChild(this.notificationCenter.domNode);
this.gc.destroys(this.notificationCenter);
_3.defaultXhrErrorHandler(this.args.error);
setTimeout(dojo.hitch(this,function __setFocusTimeout(){
this.okButton.focus();
}),0);
},onClickOk:function __onClickOk(){
this.onClose();
},onClose:function __onClose(){
},_setDisabledAttr:function __disableButtons(_5){
this.okButton.set("disabled",_5);
}});
})();


;(function CmDialogFactory(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.dialogs.CmDialogFactory");


var _1=jazz.ui.Dialog;


dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
var _3=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.dialogs","CmDialogCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement._utils","CmUtilsMessages");
var _4=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement._utils","CmUtilsMessages");


var _5=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var _6=com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils;


var _7=com.ibm.team.repository.web.configurationManagement._utils.CmCompareDeliverUtils;


var _8=com.ibm.team.repository.web.configurationManagement.CmTools;


var _9=com.ibm.team.repository.web.configurationManagement._utils.CmUtils;


var _a=com.ibm.team.repository.web.configurationManagement.notifications.CmNotificationFactory;
com.ibm.team.repository.web.configurationManagement.dialogs.CmDialogFactory={getCreateStreamDialog:function __getCreateConfigurationDialog(_b){
var _c=new dojo.Deferred();


dojo.addOnLoad(function __onLoadConfigurationCreationDialogContent(){
_b=dojo.mixin({operationDeferred:new dojo.Deferred()},_b);
var _d=new com.ibm.team.repository.web.configurationManagement.dialogs.StreamCreationDialogContent(_b);
var _e=dojo.connect(_d,"onClickCreate",function __onShowWaitingDialog(){
dojo.disconnect(_e);
var _f;
if(this.args.configuration){
if(this.args.configuration.type=="baseline"||this.args.configuration.type=="snapshot"){
_f=_8.talkDirectlyWithVvc?this.args.configuration.title:this.args.configuration.name;
}else{
if(this.args.configuration.type=="stream"||this.args.configuration.type=="workspace"){
_f=dojo.string.substitute(_4.initialBaseline,{streamName:this.nameInput.get("value")});
}
}
}
_10.getWaitingDialog({iconPath:this.args.iconPath,customTitle:_3.createStreamDialogTitle,operationDeferred:_b.operationDeferred,configurationName:_9.saveEncode(this.getNameValue()),baselineName:_9.saveEncode(_f),configurationType:_8.talkDirectlyWithVvc?"workspace":"stream",explanatoryText:dojo.attr(this.explanatoryText,"innerHTML"),selfClosing:this.startUsingImmediatelyCheckbox?this.startUsingImmediatelyCheckbox.get("checked"):false});
});
var _11=_10._makeDialog(_d,_b);
_c.resolve(_11);
});
return _c;
},getCreateBaselineDialog:function __getCreateBaselineDialog(_12){
var _13=new dojo.Deferred();


dojo.addOnLoad(function __onLoadConfigurationCreationDialogContent(){
_12=dojo.mixin({operationDeferred:new dojo.Deferred()},_12);
var _14=new com.ibm.team.repository.web.configurationManagement.dialogs.BaselineCreationDialogContent(_12);
var _15=dojo.connect(_14,"onClickCreate",function __onShowWaitingDialog(){
dojo.disconnect(_15);
_10.getWaitingDialog({iconPath:this.args.iconPath,customTitle:_3.createBaselineDialogTitle,operationDeferred:_12.operationDeferred,configurationName:_9.saveEncode(this.getNameValue()),configurationType:"baseline",explanatoryText:dojo.attr(this.explanatoryText,"innerHTML")});
});
var _16=_10._makeDialog(_14,_12);
_13.resolve(_16);
});
return _13;
},getCreateChangeSetDialog:function __getCreateChangeSetDialog(_17){
var _18=new dojo.Deferred();


dojo.addOnLoad(function __onLoadConfigurationCreationDialogContent(){
_17=dojo.mixin({onClickOkCallback:function __onClickOk(){
if(_17.okCallback){
_17.okCallback();
}
}},_17);
var _19=new com.ibm.team.repository.web.configurationManagement.dialogs.ChangeSetCreationDialogContent(_17);
var _1a=_10._makeDialog(_19,_17);
_18.resolve(_1a);
});
return _18;
},getWarnAboutRecursiveArchiveDialog:function __getWarnAboutRecursiveArchiveDialog(_1b){
var _1c=new dojo.Deferred();


dojo.addOnLoad(function __onLoadWarnAboutRecursiveArchiveDialog(){
_1b=dojo.mixin({uri:_1b.uri,primaryTitle:_3.warnArchiveRecusriveDialogTitle,message:dojo.string.substitute(_3.warnArchiveRecursiveContent,{configurationTitle:_9.saveEncode(_1b.mainInputDefaultValue)}),okButtonText:_3.warnArchiveRecursiveOkButton,onClickOkCallback:function __onClickOk(){
if(_1b.okCallback){
_1b.okCallback();
}
}},_1b);
var _1d=new com.ibm.team.repository.web.configurationManagement.dialogs.ArchiveConfirmationDialogContent(_1b);
var _1e=_10._makeDialog(_1d,_1b);
_1c.resolve(_1e);
});
return _1c;
},getRenameChangeSetDialog:function __getRenameChangeSetDialog(_1f){
var _20=new dojo.Deferred();


dojo.addOnLoad(function __onLoadRenameChangeSetDialogContent(){
_1f=dojo.mixin({dialogTitleIconName:"rename.gif",dialogTitle:_3.renameChangeSetDialogTitle,explanatoryText:dojo.string.substitute(_3.renameChangeSetHelpText,{changesetName:_9.saveEncode(_1f.mainInputDefaultValue)}),mainInputLabel:_3.name,onClickOkCallback:function __onClickOk(_21){
if(_21.mainInput){
_6.renameChangeSet({uri:_1f.uri,name:_21.mainInput}).then(dojo.hitch(this,function __onSuccess(){
if(_1f.okCallback){
_1f.okCallback();
}
}),dojo.hitch(this,function __onFail(_22){
_a.defaultXhrErrorHandler(_22);
}));
}
}},_1f);
var _23=new com.ibm.team.repository.web.configurationManagement.dialogs.SimpleDialogContent(_1f);
var _24=_10._makeDialog(_23,_1f);
_20.resolve(_24);
});
return _20;
},getRenameConfigurationDialog:function __getRenameConfigurationDialog(_25){
var _26=new dojo.Deferred();
var _27=_5.getConfigurationCache();


dojo.addOnLoad(function __onLoadRenameChangeSetDialogContent(){
_25=dojo.mixin({dialogTitleIconName:"rename.gif",dialogTitle:_25.type=="stream"?_3.renameStreamDialogTitle:_3.renameBaselineDialogTitle,explanatoryText:_25.type=="stream"?dojo.string.substitute(_3.renameStreamHelpText,{streamName:_9.saveEncode(_25.mainInputDefaultValue)}):dojo.string.substitute(_3.renameBaselineHelpText,{baselineName:_9.saveEncode(_25.mainInputDefaultValue)}),mainInputLabel:_3.name,onClickOkCallback:function __onClickOk(_28){
if(_28.mainInput){
_27.save({uri:_25.uri,name:_28.mainInput},_25.uri).then(dojo.hitch(this,function __onSuccess(){
if(_25.okCallback){
_25.okCallback();
}
}),dojo.hitch(this,function __onFail(_29){
_a.defaultXhrErrorHandler(_29);
}));
}
}},_25);
var _2a=new com.ibm.team.repository.web.configurationManagement.dialogs.SimpleDialogContent(_25);
var _2b=_10._makeDialog(_2a,_25);
_26.resolve(_2b);
});
return _26;
},getCompleteChangeSetConfirmationDialog:function __getCompleteChangeSetConfirmationDialog(_2c){
var _2d=new dojo.Deferred();
_5.getChangeSetsCache().get(_2c.uri).then(function __getChangeset(_2e){


dojo.addOnLoad(function __onLoadConfirmationDialogContent(){
_2c=dojo.mixin({uri:_2c.uri,primaryTitle:_3.completeConfirmationTitle,message:_3.completeConfirmationContent,okButtonText:_3.completeConfirmationOkButton,onClickOkCallback:function __onClickOk(){
var _2f=_6.completeChangeSet(_2c.uri);
_10.getWaitingDialog({operationDeferred:_2f,selfClosing:true});
if(_2c.okCallback){
_2f.then(_2c.okCallback);
}
}},_2c);
var _30=new com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent(_2c);
var _31=_10._makeDialog(_30,_2c);
_2d.resolve(_31);
});
});
return _2d;
},getDeliverStreamConfirmationDialog:function __getDeliverChangeSetConfirmationDialog(_32){
var _33=new dojo.Deferred();
var _34=_5.getConfigurationCache();
_34.get(_32.uri).then(function __getConf(_35){
_34.get(_35.parentStreamUri).then(function __getParentStream(_36){


dojo.addOnLoad(function __onLoadConfirmationDialogContent(){
_32=dojo.mixin({uri:_32.uri,primaryTitle:_3.deliverStreamConfirmationTitle,message:dojo.string.substitute(_3.deliverStreamConfirmationContent,{parentStreamTitle:_9.saveEncode(_8.talkDirectlyWithVvc?_36.title:_36.name)}),okButtonText:_3.deliverStreamConfirmationOkButton,onClickOkCallback:function __onClickOk(){
_7.startDeliver({sourceUri:_35.id,targetUri:_35.parentStreamUri}).then(dojo.hitch(this,function __onSuccess(){
if(_32.okCallback){
_32.okCallback();
}
}),dojo.hitch(this,function __onFail(_37){
_10.getErrorDialog(_37,{message:_3.deliverStreamError});
}));
}},_32);
var _38=new com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent(_32);
var _39=_10._makeDialog(_38,_32);
_33.resolve(_39);
});
});
});
return _33;
},getAcceptStreamConfirmationDialog:function __getAcceptStreamConfirmationDialog(_3a){
var _3b=new dojo.Deferred();
var _3c=_5.getConfigurationCache();
_3c.get(_3a.uri).then(function __getConf(_3d){
_3c.get(_3d.parentStreamUri).then(function __getParentStream(_3e){


dojo.addOnLoad(function __onLoadConfirmationDialogContent(){
_3a=dojo.mixin({uri:_3a.uri,primaryTitle:_3.acceptStreamConfirmationTitle,message:dojo.string.substitute(_3.acceptStreamConfirmationContent,{parentStreamTitle:_9.saveEncode(_8.talkDirectlyWithVvc?_3e.title:_3e.name)}),okButtonText:_3.acceptStreamConfirmationOkButton,onClickOkCallback:function __onClickOk(){
_7.startDeliver({sourceUri:_3d.parentStreamUri,targetUri:_3d.id}).then(dojo.hitch(this,function __onSuccess(){
if(_3a.okCallback){
_3a.okCallback();
}
}),dojo.hitch(this,function __onFail(_3f){
_10.getErrorDialog(_3f,{message:_3.acceptStreamError});
}));
}},_3a);
var _40=new com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent(_3a);
var _41=_10._makeDialog(_40,_3a);
_3b.resolve(_41);
});
});
});
return _3b;
},getDeliverChangeSetConfirmationDialog:function __getDeliverChangeSetConfirmationDialog(_42){
var _43=new dojo.Deferred();
_5.getChangeSetsCache().get(_42.sourceUri).then(function __getChangeset(_44){


dojo.addOnLoad(function __onLoadConfirmationDialogContent(){
_42=dojo.mixin({uri:_42.uri,primaryTitle:_3.deliverConfirmationTitle,message:dojo.string.substitute(_3.deliverConfirmationContent,{changesetTitle:_9.saveEncode(_8.talkDirectlyWithVvc?_44.title:_44.name)}),okButtonText:_3.deliverConfirmationOkButton,onClickOkCallback:function __onClickOk(){
if(_8.talkDirectlyWithVvc){
_6.deliverChangeSet({changeSetUri:_44.uri});
}else{
_7.startDeliver({sourceUri:_44.id,targetUri:_44.parentStreamUri}).then(dojo.hitch(this,function __onSuccess(){
if(_42.okCallback){
_42.okCallback();
}
}),dojo.hitch(this,function __onFail(_45){
if(_42.errorCallback){
_42.errorCallback(_45);
}else{
_10.getErrorDialog(_45,{message:_3.deliverChangeSetError});
}
}));
}
}},_42);
console.info("DIALOG");
try{
var _46=new com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent(_42);
var _47=_10._makeDialog(_46,_42);
}
catch(e){
console.debug(e);
}
_43.resolve(_47);
});
});
return _43;
},getDiscardChangeSetConfirmationDialog:function __getDiscardChangeSetConfirmationDialog(_48){
var _49=new dojo.Deferred();
_5.getChangeSetsCache().get(_48.uri).then(function __getChangeset(_4a){


dojo.addOnLoad(function __onLoadConfirmationDialogContent(){
_48=dojo.mixin({uri:_48.uri,primaryTitle:_3.discardConfirmationTitle,message:dojo.string.substitute(_3.discardConfirmationContent,{changesetTitle:_9.saveEncode(_8.talkDirectlyWithVvc?_4a.title:_4a.name)}),okButtonText:_3.discardConfirmationOkButton,okButtonClass:"j-button-danger",onClickOkCallback:function __onClickOk(){
var _4b=_6.discardChangeSet(_48.uri,_48.skipResetContext);
_10.getWaitingDialog({operationDeferred:_4b,selfClosing:true});
if(_48.okCallback){
_4b.then(_48.okCallback,_48.errorCallback);
}
}},_48);
var _4c=new com.ibm.team.repository.web.configurationManagement.dialogs.ConfirmationDialogContent(_48);
var _4d=_10._makeDialog(_4c,_48);
_49.resolve(_4d);
});
});
return _49;
},getWaitingDialog:function __getWaitingDialog(_4e){
var _4f=new dojo.Deferred();


dojo.addOnLoad(function __onLoadConfirmationDialogContent(){
var _50=new com.ibm.team.repository.web.configurationManagement.dialogs.WaitingDialogContent(_4e);
var _51=_10._makeDialog(_50,_4e);
_4f.resolve(_51);
});
return _4f;
},getErrorDialog:function __getErrorDialog(_52,_53){
var _54=new dojo.Deferred();


dojo.addOnLoad(function __onLoadErrorDialogContent(){
_53=dojo.mixin({error:_52},_53?_53:{});
var _55=new com.ibm.team.repository.web.configurationManagement.dialogs.ErrorDialogContent(_53);
var _56=_10._makeDialog(_55,_53);
_54.resolve(_56);
});
return _54;
},_makeDialog:function __makedialog(_57,_58){
if(!_57.args.width){
_57.args.width="450px";
}
_57.args.footerNode=_57.footerNode;
var _59=new _1(_57.args);
if(_57.onClose){
var _5a=dojo.connect(_57,"onClose",function __onClose(){
_59.close();
dojo.disconnect(_5a);
});
}
return _59;
}};
var _10=com.ibm.team.repository.web.configurationManagement.dialogs.CmDialogFactory;
})();


;dojo.provide("com.ibm.team.configuration.web.internal.closest");
com.ibm.team.configuration.web.internal.closest=function closest(_1,_2){
while(_1){
var _3=(_1.matches&&_1.matches(_2))||(_1.matchesSelector&&_1.matchesSelector(_2))||(_1.msMatchesSelector&&_1.msMatchesSelector(_2));
if(_3){
return _1;
}
_1=_1.parentNode;
}
return null;
};


;dojo.provide("com.ibm.team.configuration.web.context.ProjectAreaUtils");




(function(){
var _1=0;
var _2=1;
var _3=2;
var _4=3;
var _5="configuration-contributes-to";
var _6="configuration-contributed-from";
var _7=com.ibm.team.configuration.web.context.internal.GcRootServices;
var _8=com.ibm.team.configuration.web.context.ContextAPI;
var _9="http://jazz.net/xmlns/prod/jazz/process/0.6/";
var _a="com.ibm.team.process.service.IProcessServerService";
var _b=com.ibm.team.configuration.web.context.ProjectAreaUtils;
dojo.mixin(com.ibm.team.configuration.web.context.ProjectAreaUtils,{cmModeCache:{},projectAreaUriCache:{},CONTRIBUTES_TO_LINK:_5,CONTRIBUTED_FROM_LINK:_6,isProjectAreaCmEnabled:function __isProjectAreaCmEnabled(_c){
var _d=new dojo.Deferred();
var _e=this.getProjectAreaUri(_c);
_e.then(function(_f){
var _10=_f.substring(_f.lastIndexOf("/")+1);
if(typeof _b.cmModeCache[_10]==="string"){
_d.callback(_b.cmModeCache[_10]!=="OPTOUT");
}else{
var _11={"projectAreaItemId":_10};
jazz.client.xhrGet({url:net.jazz.ajax._contextRoot+"/service/com.ibm.team.process.internal.service.configurationmanagement.IProcessConfigurationManagementRestService/checkEnabled",handleAs:"json",headers:{"Accept":"application/json"},content:_11,load:function(_12){
var _13=(_12.status===_3);
_b.cmModeCache[_10]=_b._getCmModeFromResult(_12);
_d.callback(_13);
},error:function(_14,_15){
_d.errback(_14,_15);
}});
}
},function(_16,_17){
_d.errback(_16,_17);
});
return _d;
},isProjectAreaFullCmEnabled:function __isProjectAreaFullCmEnabled(_18){
var _19=new dojo.Deferred();
var _1a=_b.getProjectAreaCmMode(_18);
_1a.then(function(_1b){
if(_1b==="FULL"){
_19.callback(true);
}else{
_19.callback(false);
}
},function(_1c){
_19.errback(_1c);
});
return _19;
},_getCmModeFromResult:function __getCmModeFromResult(_1d){
if(_1d.cmMode){
return _1d.cmMode;
}else{
if(_1d.status===_3){
return "FULL";
}else{
return "OPTOUT";
}
}
},getProjectAreaCmMode:function __getProjectAreaCmMode(_1e){
var _1f=new dojo.Deferred();
var _20=this.getProjectAreaUri(_1e);
_20.then(function(_21){
var _22=_21.substring(_21.lastIndexOf("/")+1);
if(typeof _b.cmModeCache[_22]==="string"){
_1f.callback(_b.cmModeCache[_22]);
}else{
var _23={"projectAreaItemId":_22};
jazz.client.xhrGet({url:net.jazz.ajax._contextRoot+"/service/com.ibm.team.process.internal.service.configurationmanagement.IProcessConfigurationManagementRestService/checkEnabled",handleAs:"json",headers:{"Accept":"application/json"},content:_23,load:function(_24){
var _25=_b._getCmModeFromResult(_24);
_b.cmModeCache[_22]=_25;
_1f.callback(_25);
},error:function(_26,_27){
_1f.errback(_26,_27);
}});
}
},function(_28,_29){
_1f.errback(_28,_29);
});
return _1f;
},getProjectAreaUri:function _getProjectAreaUri(_2a){
var _2b=new dojo.Deferred();
var _2c=_2a.indexOf("/")!==-1;
var _2d=_2c?_2a.substring(_2a.lastIndexOf("/")+1):_2a;
var _2e={processAreaId:_2d};
if(typeof _b.projectAreaUriCache[_2d]==="string"){
_2b.callback(_b.projectAreaUriCache[_2d]);
}else{
var _2f=this;
jazz.client.xhrGet({url:net.jazz.ajax._contextRoot+"/projectAreaResolutionService",handleAs:"json",headers:{"Accept":"application/json"},content:_2e,load:function(_30){
var _31=_30["projectAreaId"];
var _32=net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL+"/process/project-areas/"+_31;
_b.projectAreaUriCache[_2d]=_32;
_2b.callback(_32);
},error:function(_33,_34){
_2b.errback(_33,_34);
}});
}
return _2b;
},getContributingProjectAreasForContextProjectArea:function _getContributingProjectAreasForContextProjectArea(){
var _35=new dojo.Deferred();
if(!this.enforceContributingProjectAreaAssociations()){
_35.errback("Project area associations is not turned on. Should not call this method when association enforcement is not on.");
}else{
var _36=location.search.replace(/^\?/,"");
var _37=dojo.queryToObject(_36);
if(!_37[_8.JAZZ_CONFIG_CONTEXT_PROJECT_AREA_URL_PARAMETER]){
_35.errback("Missing JAZZ_CONFIG_CONTEXT_PROJECT_AREA_URL_PARAMETER when project area associations turned on. It's possible some cached server setting is not up to date. Please restart servers and try again.");
}else{
var _38=unescape(_37[_8.JAZZ_CONFIG_CONTEXT_PROJECT_AREA_URL_PARAMETER]);
this.getContributingProjectAreas(_38).then(function(_39){
_35.callback(_39);
},function(_3a){
_35.errback(_3a);
});
}
}
return _35;
},getContributingProjectAreas:function _getContributingProjectAreas(_3b){
return this._getProjectAreaAssociations(_5,null,_3b);
},getContributingProjectAreasToServer:function _getContributingProjectAreasToServer(_3c,_3d){
var _3e=_3d?_3d:jazz.app.context.getProjectAreaUri();
return this._getProjectAreaAssociations(_5,_3e,null,_3c);
},getProjectAreasContributedFrom:function _getProjectAreasContributedFrom(_3f){
return this._getProjectAreaAssociations(_6,null,_3f);
},enforceContributingProjectAreaAssociations:function _enforceContributingProjectAreaAssociations(){
return _7.getProjectAreaAssociationsRequiredForContributions();
},_getProjectAreaAssociations:function __getProjectAreaAssociations(_40,_41,_42,_43){
var _44=new dojo.Deferred();
var _45={sourceProjectAreaUrl:_41,linkType:_40};
if(_42){
_45["targetProjectAreaUrl"]=_42;
}else{
if(_43){
_45["serverUrl"]=_43;
}
}
var _46=this;
jazz.client.xhrGet({url:net.jazz.ajax._contextRoot+"/getProjectAreaAssociations",handleAs:"json",headers:{"Accept":"application/json"},content:_45,load:function(_47){
_44.callback(_47);
},error:function(_48,_49){
_44.errback(_48,_49);
}});
return _44;
}});
})();

dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.nls.CmMenuEntryMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.nls.CmMenuEntryMessages.en_us");
com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.nls.CmMenuEntryMessages.en_us={"resourceIdWithTitle":"{0}: {1}","linkToChangeRequest":"Link to a Change Request...","editConfiguration":"Edit \'${configurationTitle}\'","manageChangeSetsSection":"Change Set","configurationContext":"Configuration Context","none":"None","addToConfiguration":"Add to Configuration","createBaseline":"Create Baseline...","mustLoginToView":"Log in to view","quickAccessFavoritesSection":"Favorite Global Configurations","quickAccessRecentsSection":"Recently Used","openConfigurationManagement":"Open Configuration Management","completeChangeSet":"Complete Change Set...","createStream":"Create Stream...","changesetSection":"Change Set:","clearButtonText":"Clear","discardChangeSet":"Discard Change Set...","acceptChanges":"Accept Changes...","createSection":"Local Configuration","createChangeSet":"Create Change Set...","selectConfiguration":"Switch Configuration...","exploreChangeset":"Explore Change Sets...","quickAccessMenuTooltip":"Quickly switch to recently used configurations","deliverChanges":"Deliver Changes...","globalConfigurationSection":"Global Configuration:","loading":"Loading...","currentContextSection":"Configuration Context","projectAreaConfigurationSection":"Local Configuration:","recentConfigurationsSection":"Recent Configurations (${recentlyUsedConfigurationsCount})","deliverChangeSet":"Deliver Change Set...","switchButtonText":"Switch"};

;dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.QuickSwitchButton");


dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");








(function(){
var _1=dojo.require("com.ibm.team.configuration.web.internal.closest");
var _2=dojo.require("com.ibm.team.configuration.web.context.ContextAPI");
var _3=jazz.ui.internal.resourceLinkAggreagtor();
var _4=dojo.require("com.ibm.team.repository.web.configurationManagement.CmTools");
var _5=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");
var _6=dojo.require("com.ibm.team.configuration.web.context.internal.GcRootServices");
var _7=dojo.require("com.ibm.team.configuration.web.context.ProjectAreaUtils");
var _8=dojo.require("jazz.util.html");
function _9(e){
dojo.stopEvent(e);
var _a={};
if(this.isGlobal){
_a.globalConfigurationUri=this.uri;
}else{
if(this.rdfType==="changeset"){
_a.changeSetUri=this.uri;
}else{
_a.localConfigurationUri=this.uri;
}
}
_4.userRequestedContextChange(_a);
};
function _b(_c,_d){
this._menu=_c;
this._items=[];
this._label=new jazz.ui.menu.NodeMenuItem({label:_d,isTitle:true});
this._menu.addChild(this._label);
this._loading=new jazz.ui.menu.NodeMenuItem({label:_5.loading,isInfo:true,"class":"jazz-ui-menu-NodeMenuItem--indented"});
this._menu.addChild(this._loading);
};
_b.prototype.destroyMenuItems=function destroyMenuItems(){
if(this._menu._destroyed){
return;
}
if(this._loading){
this._items.push(this._loading);
delete this._loading;
}
for(var i=0;i<this._items.length;i++){
var _e=this._items[i];
this._menu.removeChild(_e);
_e.destroyRecursive();
}
};
_b.prototype.setMenuItems=function setMenuItems(_f){
if(this._menu._destroyed){
return;
}
this.destroyMenuItems();
var _10=this._menu.getIndexOfChild(this._label)+1;
for(var i=0;i<_f.length;i++){
var _11=_f[i];
this._menu.addChild(_11,_10++);
}
if(_f.length===0){
this._menu.addChild(new jazz.ui.menu.NodeMenuItem({isInfo:true,label:_5.none,"class":"jazz-ui-menu-NodeMenuItem--indented"}),_10++);
}
};
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.QuickSwitchButton",[dijit._Widget,dijit._Templated],{templateString:"<button class=\"fauxButton quickSwitchButton\"><span class=\"caret jazz-ui-MenuPopup-caret\"></span></button>",widgetsInTemplate:false,postCreate:function(){
this.inherited(arguments);
this.domNode.title=_5.quickAccessMenuTooltip;
this.connect(this.domNode,"click",this._checkCmStatusAndOpenMenu);
},_getFavoriteGcs:function(){
var _12=new dojo.Deferred();
jazz.client.xhrGet({url:_6.getGcAppUri()+"/gc.favorites/getAllProjectFavoriteConfigurations",handleAs:"json",content:{max:25},load:function(_13){
_12.callback(_13);
},error:function(_14,_15){
console.warn("Failed to load favorites configurations: "+_14);
_12.callback([]);
}});
return _12;
},_loadMenu:function(){
var _16=this;
var _17=_4.getContext();
var _18=_17.globalConfigurationUri||_17.changeSetUri||_17.localConfigurationUri;
var _19={};
var _1a=false;
if(this._favSection){
this._getFavoriteGcs().then(function(_1b){
var _1c=[];
for(var i=0;i<_1b.length;i++){
var _1d=_1b[i];
_19[_1d.uri]=true;
var _1e=new jazz.ui.menu.MenuItem({label:_8.escape(dojo.replace(_5.resourceIdWithTitle,[_1d.shortId,_1d.title])),icon:_1d.icon,uri:_1d.uri,href:_1d.uri,selected:_1d.uri===_18,isGlobal:true,onClick:_9});
delete _1e.href;
_1c.push(_1e);
}
_16._favSection.setMenuItems(_1c);
if(!_1a&&_1c.length>0){
_16._favSection._menu.focus();
_1a=true;
}
},function(_1f){
console.warn(_1f);
_16._favSection.setMenuItems([]);
});
}
var _20=jazz.app.context.getComponentUri();
_2.getRecentlyUsedContexts(100).then(function(_21){
var _22=[];
for(var i=0;i<_21.length;i++){
var _23=_21[i];
if((_23.uri in _19)||(!_23.isGlobal&&_23.componentUri!==_20)){
continue;
}
_22.push(_23);
if(_22.length>=10){
continue;
}
}
if(_22.length===0){
_16._recentSection.setMenuItems([]);
return;
}
var _24=_22.length;
var _25=[];
for(var i=0;i<_22.length;i++){
var _23=_22[i];
_3.register(_23.uri,(function(_26){
return function(_27){
if(_27.oslcCompact&&!(_26.uri in _19)){
_19[_26.uri]=true;
if(_27.oslcCompact.icon.indexOf("changeSetCommitted")===-1){
var _28=new jazz.ui.menu.MenuItem({label:_27.oslcCompact.title,icon:_27.oslcCompact.icon,uri:_26.uri,href:_26.uri,selected:_26.uri===_18,isGlobal:_26.isGlobal,rdfType:_26.rdfType,onClick:_9});
delete _28.href;
_25.push(_28);
}
}
if(--_24<1){
_16._recentSection.setMenuItems(_25);
if(!_1a&&_25.length>0){
_16._recentSection._menu.focus();
_1a=true;
}
}
};
})(_23),function(_29){
console.warn(_29);
if(--_24<1){
_16._recentSection.setMenuItems([]);
}
});
}
},function(_2a){
console.warn("Failed to get recent configurations: "+_2a);
_16._recentSection.setMenuItems([]);
});
},_checkCmStatusAndOpenMenu:function(){
if(!_6.isAvailable()){
this._openMenu(false);
return;
}
var _2b=jazz.app.context.getProjectAreaUri()||jazz.app.context.get().itemId;
var _2c=this;
_7.isProjectAreaFullCmEnabled(_2b).then(function(_2d){
_2c._openMenu(_2d);
},function(_2e){
_2c._openMenu(false);
});
},_openMenu:function(_2f){
if(this._menu){
dijit.popup.close(this._menu);
return;
}
var _30=new jazz.ui.Menu({selectable:true});
if(_2f){
this._favSection=new _b(_30,_5.quickAccessFavoritesSection);
}
this._recentSection=new _b(_30,_5.quickAccessRecentsSection);
dojo.addClass(_30.domNode,"com-ibm-team-repository-CurrentContextMenuEntry-quickAccessMenu");
var _31=["mousedown","click"];
_31.forEach(function(_32){
_30.connect(_30.domNode,_32,function(e){
if(dojo.hasClass(e.target,"com-ibm-team-repository-CurrentContextMenuEntry-quickAccessMenu")){
dojo.stopEvent(e);
_33.domNode.focus();
}
});
});
function _34(e){
if(e.keyCode!==dojo.keys.ESCAPE){
return;
}
dojo.stopEvent(e);
_33.domNode.focus();
};
document.addEventListener("keydown",_34,true);
this._menu=_30;
var _35=dijit.byNode(_1(this.domNode,".dijitMenuItem"));
var _33=this;
dijit.popup.open({popup:_30,parent:_35,around:this.domNode,orient:["below"],onClose:function(){
document.removeEventListener("keydown",_34,true);
if(_33.domNode){
dojo.removeClass(_33.domNode,"menu-open");
}
_33._menu.destroyRecursive();
_33._menu=null;
},onCancel:function(){
dijit.popup.close(_30);
},onExecute:function(e){
dijit.popup.close(_30);
}});
dojo.addClass(this.domNode,"menu-open");
_30.connect(_30,"onBlur",function(){
dijit.popup.close(_30);
});
_30.focus();
this._loadMenu();
}});
})();


;define("dojox/html/entities",["dojo/_base/lang"],function(_1){
var _2=_1.getObject("dojox.html.entities",true);
var _3=function(_4,_5){
var _6,_7;
if(_5._encCache&&_5._encCache.regexp&&_5._encCache.mapper&&_5.length==_5._encCache.length){
_6=_5._encCache.mapper;
_7=_5._encCache.regexp;
}else{
_6={};
_7=["["];
var i;
for(i=0;i<_5.length;i++){
_6[_5[i][0]]="&"+_5[i][1]+";";
_7.push(_5[i][0]);
}
_7.push("]");
_7=new RegExp(_7.join(""),"g");
_5._encCache={mapper:_6,regexp:_7,length:_5.length};
}
_4=_4.replace(_7,function(c){
return _6[c];
});
return _4;
};
var _8=function(_9,_a){
var _b,_c;
if(_a._decCache&&_a._decCache.regexp&&_a._decCache.mapper&&_a.length==_a._decCache.length){
_b=_a._decCache.mapper;
_c=_a._decCache.regexp;
}else{
_b={};
_c=["("];
var i;
for(i=0;i<_a.length;i++){
var e="&"+_a[i][1]+";";
if(i){
_c.push("|");
}
_b[e]=_a[i][0];
_c.push(e);
}
_c.push(")");
_c=new RegExp(_c.join(""),"g");
_a._decCache={mapper:_b,regexp:_c,length:_a.length};
}
_9=_9.replace(_c,function(c){
return _b[c];
});
return _9;
};
_2.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["\xa0","nbsp"]];
_2.latin=[["\xa1","iexcl"],["\xa2","cent"],["\xa3","pound"],["\u20ac","euro"],["\xa4","curren"],["\xa5","yen"],["\xa6","brvbar"],["\xa7","sect"],["\xa8","uml"],["\xa9","copy"],["\xaa","ordf"],["\xab","laquo"],["\xac","not"],["\xad","shy"],["\xae","reg"],["\xaf","macr"],["\xb0","deg"],["\xb1","plusmn"],["\xb2","sup2"],["\xb3","sup3"],["\xb4","acute"],["\xb5","micro"],["\xb6","para"],["\xb7","middot"],["\xb8","cedil"],["\xb9","sup1"],["\xba","ordm"],["\xbb","raquo"],["\xbc","frac14"],["\xbd","frac12"],["\xbe","frac34"],["\xbf","iquest"],["\xc0","Agrave"],["\xc1","Aacute"],["\xc2","Acirc"],["\xc3","Atilde"],["\xc4","Auml"],["\xc5","Aring"],["\xc6","AElig"],["\xc7","Ccedil"],["\xc8","Egrave"],["\xc9","Eacute"],["\xca","Ecirc"],["\xcb","Euml"],["\xcc","Igrave"],["\xcd","Iacute"],["\xce","Icirc"],["\xcf","Iuml"],["\xd0","ETH"],["\xd1","Ntilde"],["\xd2","Ograve"],["\xd3","Oacute"],["\xd4","Ocirc"],["\xd5","Otilde"],["\xd6","Ouml"],["\xd7","times"],["\xd8","Oslash"],["\xd9","Ugrave"],["\xda","Uacute"],["\xdb","Ucirc"],["\xdc","Uuml"],["\xdd","Yacute"],["\xde","THORN"],["\xdf","szlig"],["\xe0","agrave"],["\xe1","aacute"],["\xe2","acirc"],["\xe3","atilde"],["\xe4","auml"],["\xe5","aring"],["\xe6","aelig"],["\xe7","ccedil"],["\xe8","egrave"],["\xe9","eacute"],["\xea","ecirc"],["\xeb","euml"],["\xec","igrave"],["\xed","iacute"],["\xee","icirc"],["\xef","iuml"],["\xf0","eth"],["\xf1","ntilde"],["\xf2","ograve"],["\xf3","oacute"],["\xf4","ocirc"],["\xf5","otilde"],["\xf6","ouml"],["\xf7","divide"],["\xf8","oslash"],["\xf9","ugrave"],["\xfa","uacute"],["\xfb","ucirc"],["\xfc","uuml"],["\xfd","yacute"],["\xfe","thorn"],["\xff","yuml"],["\u0192","fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4","delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5","perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013","ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];
_2.encode=function(_d,m){
if(_d){
if(!m){
_d=_3(_d,_2.html);
_d=_3(_d,_2.latin);
}else{
_d=_3(_d,m);
}
}
return _d;
};
_2.decode=function(_e,m){
if(_e){
if(!m){
_e=_8(_e,_2.html);
_e=_8(_e,_2.latin);
}else{
_e=_8(_e,m);
}
}
return _e;
};
return _2;
});

dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.nls.ConfigurationUiNodeMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.nls.ConfigurationUiNodeMessages.en_us");
com.ibm.team.repository.web.configurationManagement.uiNodes.nls.ConfigurationUiNodeMessages.en_us={"http://jazz.net/ns/vvc#timeOrder":"Time order","http://jazz.net/ns/vvc/ootb#changeSet":"Change set","error404":"The configuration does not exist or you do not have permission to view it.","clickHereToRefreshNodeTitle":"Click to try again. If the problem continues, contact your system administrator.","error":"An error occurred loading the configuration. Contact your system administrator.","loading":"Loading...","invalidDate":"Invalid date","http://jazz.net/ns/vvc/ootb#purpose":"Purpose","unknown":"unknown"};

;(function ConfigurationUiNode(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode");










var _1=jazz.ui.HoverPopup;


var _2=com.ibm.team.repository.web.configurationManagement.CmTools;


var _3=jazz.ui.ResourceLink;


var _4=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var GC=com.ibm.team.repository.web.configurationManagement._utils.CmGarbageCollector;
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.uiNodes","ConfigurationUiNodeMessages");
var _5=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.uiNodes","ConfigurationUiNodeMessages");


var _6=jazz.util.html;
dojo.declare("com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode",[dijit._Widget],{messages:_5,_uri:null,_cache:null,_includeLink:null,_includeHover:null,_isTitle:null,_parentDomNode:null,_highlightSequences:null,_gc:null,constructor:function __ConfigurationUiNode(_7,_8){
if(!_7){
throw new Error("ConfigurationUiNode missing arguments!");
}
this._gc=new GC();
this._uri=_7.uri;
this._includeLink=_7.includeLink!==undefined?_7.includeLink:true;
this._includeHover=!!_7.includeHover;
this._isTitle=_7.isTitle!==undefined?_7.isTitle:false;
this._highlightCharacters=_7.highlightCharacters!==undefined?_7.highlightCharacters:[];
if(_8){
this._parentDomNode=_8;
}
},destroy:function __destroy(){
this.inherited(arguments);
this._parentDomNode=null;
this._uri=null;
this._cache=null;
this._includeLink=null;
this._includeHover=null;
this._isTitle=null;
this._parentDomNode=null;
this._highlightSequences=null;
this.domNode=null;
this.messages=null;
this._removeStopClick();
this._gc.destroy();
this._gc=null;
},_getCache:function __getCache(){
return _4.getConfigurationCache();
},postCreate:function __postCreate(){
this._cache=this._getCache();
this.domNode=dojo.create("a",{title:this.messages.loading,"class":"configurationUiNode"});
if(this._isTitle){
dojo.addClass(this.domNode,"titleNode");
}
if(this._includeHover){
dojo.addClass(this.domNode,"configurationUiNode--resourceLink");
}
this.refresh();
if(this._parentDomNode){
this._parentDomNode.appendChild(this.domNode);
}
this._gc.destroys(this.domNode);
},refresh:function __refresh(){
var _9=this._buildLoadingNode();
dojo.empty(this.domNode);
this.domNode.appendChild(_9);
dojo.setAttr(this.domNode,"disabled","true");
this._removeStopClick();
this._setStopClick();
this._getContent().then(dojo.hitch(this,function ___getContent(){
dojo.removeAttr(this.domNode,"disabled");
if(this._includeLink){
this._removeStopClick();
}
}),dojo.hitch(this,function __errorHandler(_a){
dojo.removeAttr(this.domNode,"disabled");
this._buildErrorNode(_a);
dojo.destroy(_9);
}));
},_setStopClick:function(){
var _b=dojo.connect(this.domNode,"onclick",dojo.hitch(this,function __setStopClick(_c){
dojo.stopEvent(_c);
if(this.onclick){
this.onclick();
}
}));
var _d=dojo.connect(this,"_removeStopClick",dojo.hitch(this,function __removeStopClick(){
dojo.disconnect(_b);
dojo.disconnect(_d);
}));
return _b;
},_removeStopClick:function __removeStopClick(){
},_buildLoadingNode:function __buildLoadingNode(){
var _e=dojo.create("span");
var _f=dojo.create("img",{src:this._blankGif,className:"carbon-loading",alt:this.messages.loading});
var _10=dojo.create("span",{"class":"titleNode",innerHTML:this.messages.loading});
_e.appendChild(_f);
_e.appendChild(_10);
return _e;
},_buildErrorNode:function __buildErrorNode(_11){
dojo.empty(this.domNode);
dojo.removeAttr(this.domNode,"title");
var _12=dojo.create("span",{"class":"error"});
this._gc.destroys(_12);
var _13=dojo.create("span",{"class":"iconNode"});
this._gc.destroys(_13);
var _14=[401,403,404,410].indexOf(_11.status)!==-1?this.messages.error404:this.messages.error;
var _15=dojo.create("span",{"class":"titleNode",innerHTML:_14});
this._gc.destroys(_15);
_12.appendChild(_13);
_12.appendChild(_15);
var _16=dojo.connect(this.domNode,"onclick",this,function __onClickHandler(_17){
dojo.stopEvent(_17);
dojo.disconnect(_16);
this.refresh();
});
this._gc.disconnects(_16);
var _18=dojo.create("div",{innerHTML:this.messages.clickHereToRefreshNodeTitle});
this._gc.destroys(_18);
var _19=new _1({around:_12,createContents:dojo.hitch(this,function __createMessageNode(){
return _18;
})});
this._gc.destroys(_19);
this.domNode.appendChild(_12);
},_getContent:function __getContent(){
var _1a=this._cache.get(this._uri);
_1a.then(dojo.hitch(this,function __cacheDefThen(_1b){
var _1c=this._buildContentNode(_1b);
dojo.empty(this.domNode);
dojo.removeAttr(this.domNode,"title");
var _1d=_2.talkDirectlyWithVvc?_1b.archive:_1b.archived;
if(_1d){
dojo.addClass(this.domNode,"archived");
this._includeLink=false;
}
if(this._includeLink){
dojo.attr(this.domNode,"href",this._uri);
}else{
dojo.addClass(this.domNode,"hideLink");
}
this.domNode.appendChild(_1c);
}));
return _1a;
},_buildContentNode:function __buildContentNode(_1e){
var _1f=dojo.create("span",{"class":_1e.type,archived:_2.talkDirectlyWithVvc?_1e.archive:_1e.archived});
this._gc.destroys(_1f);
var _20=dojo.create("span",{"class":"iconNode"});
this._gc.destroys(_20);
var _21=_2.talkDirectlyWithVvc?_1e.title:_1e.name;
var _22=dojo.create("span",{"class":"titleNode","id":"configurationTitleNode",innerHTML:this.buildTitleNode(_21)});
this._gc.destroys(_22);
var _23=_2.talkDirectlyWithVvc?_1e.archive:_1e.archived;
if(_23){
this._includeHover=false;
dojo.addClass(_20,"archived");
}
if(this._includeHover){
this.getHover(_1e,this.domNode);
}
_1f.appendChild(_20);
_1f.appendChild(_22);
return _1f;
},getHover:function __getHover(_24,_25){
var _26=new _3({uri:_2.talkDirectlyWithVvc?_24.uri:_24.id,label:_2.talkDirectlyWithVvc?_24.title:_24.name,around:_25,lazyFetch:true});
this._gc.destroys(_26);
return _26;
},buildTitleNode:function __buildTitleNode(_27){
if(!_27||_27.length===0){
return "";
}
if(this._highlightCharacters.length<1){
return _6.escape(_27);
}
var _28=_27.toLocaleLowerCase().indexOf(this._highlightCharacters.toLocaleLowerCase());
var end=_28+this._highlightCharacters.length;
if(_28===-1){
return _6.escape(_27);
}
return dojo.string.substitute("${0}><b>${1}</b>${2}",[_27.substring(0,_28),_27.substring(_28,end),_27.substring(end)],_6.escape);
},updateTitleNode:function __updateTitleNode(_29){
var _2a=dojo.byId("configurationTitleNode");
if(_2a!==null){
var _2b=_2a.innerHTML;
if(_2b!==_29){
dojo.attr("configurationTitleNode",{innerHTML:this.buildTitleNode(_29)});
}
}
}});
com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode.iconClassForConfig=function iconClassForConfig(_2c){
var _2d=_2.talkDirectlyWithVvc?_2c.archive:_2c.archived;
switch(_2c.type){
case "stream":
return _2d?"lcm-icon-streamArchived":"lcm-icon-stream";
case "baseline":
return _2d?"lcm-icon-baselineArchived":"lcm-icon-baseline";
case "changeset":
default:
return "lcm-icon-changeSet";
}
};
})();


;(function ChangesetUiNode(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.ChangesetUiNode");




var _1=jazz.ui.ResourceLink;


var _2=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var _3=com.ibm.team.repository.web.configurationManagement.CmTools;
dojo.declare("com.ibm.team.repository.web.configurationManagement.uiNodes.ChangesetUiNode",com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode,{_parentDomNode:null,constructor:function __changesetUiNode(_4,_5){
if(_5){
this._parentDomNode=_5;
}
},_getCache:function __getCache(){
return _2.getChangeSetsCache();
},_getContent:function ___getContent(){
var _6=this._cache.get(this._uri);
_6.then(dojo.hitch(this,function __buildNodes(_7){
var _8=_3.talkDirectlyWithVvc;
var _9=dojox.html.entities.encode(_8?_7.title:_7.name);
var _a=_7.state;
var _b="changeset"+(_a?"-"+_a.toLowerCase():"");
dojo.removeAttr(this.domNode,"title");
dojo.attr(this.domNode,"href",(_8?_7.uri:_7.id));
var _c=dojo.create("span",{"class":_b});
var _d=dojo.create("span",{"class":"iconNode"});
var _e=dojo.create("span",{"class":"titleNode",innerHTML:_9});
_c.appendChild(_d);
_c.appendChild(_e);
if(this._includeHover){
this.getHover(_7.uri||_7.id,_9,this.domNode);
}
dojo.empty(this.domNode);
this.domNode.appendChild(_c);
if(this._parentDomNode){
this._parentDomNode.appendChild(this.domNode);
}
}));
return _6;
},getHover:function __getHover(_f,_10,_11){
return new _1({uri:_f,label:_10,around:_11});
}});
})();


;(function GlobalConfigurationUiNode(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.GlobalConfigurationUiNode");






var _1="http://purl.org/dc/terms/";
var _2="http://www.w3.org/1999/02/22-rdf-syntax-ns#";
var _3="http://open-services.net/ns/core#";
var _4="http://jazz.net/ns/gc#";
var _5=com.ibm.team.configuration.web.internal.closest;
dojo.declare("com.ibm.team.repository.web.configurationManagement.uiNodes.GlobalConfigurationUiNode",com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode,{constructor:function __GlobalConfigurationUiNode(_6,_7){
this.inherited(arguments);
},_getContent:function ___getContent(){
var _8=jazz.client.xhrGet({url:this._uri,headers:{"Accept":"application/x-oslc-compact+xml"},handleAs:"xml"});
_8.then(dojo.hitch(this,function __startBuildContent(_9){
var _a=this.parseOslcCompactXML(_9);
var _b=this._buildContentNode(_a);
dojo.empty(this.domNode);
dojo.removeAttr(this.domNode,"title");
this.domNode.appendChild(_b);
}));
if(this._includeLink){
dojo.attr(this.domNode,"href",this._uri);
}else{
dojo.addClass(this.domNode,"hideLink");
}
return _8;
},parseOslcCompactXML:function(_c){
var _d={},_e,_f=_c.getElementsByTagNameNS(_1,"title"),_10=_c.getElementsByTagNameNS(_3,"shortTitle"),_11=_c.getElementsByTagNameNS(_3,"icon"),_12=_c.getElementsByTagNameNS(_4,"icon24");
if(_f.length>0&&_f[0].childNodes.length>0){
_d.title=jazz.util.html.unescape(_f[0].childNodes[0].nodeValue);
}
if(_10.length>0&&_10[0].childNodes.length>0){
_d.shortTitle=jazz.util.html.unescape(_10[0].childNodes[0].nodeValue);
}
if(_11.length>0){
_d.icon=_11[0].getAttributeNS(_2,"resource");
}
if(_12.length>0){
_d.icon24=_12[0].getAttributeNS(_2,"resource");
}
return _d;
},_buildContentNode:function __buildContentNode(_13){
var _14=dojo.create("span",{});
var _15;
if(this._useLargeIcon()){
_15=_13.icon24;
}else{
_15=_13.icon;
}
this._iconNode=dojo.create("img",{alt:"",src:_15,"class":"iconNode globalConfigurationNode"});
var _16=dojo.create("span",{"class":"titleNode",innerHTML:this.buildTitleNode(_13.title)});
_14.appendChild(this._iconNode);
_14.appendChild(_16);
return _14;
},_useLargeIcon:function __useLargeIcon(){
var _17=_5(this.domNode,".com-ibm-team-repository-configurationManagement-contextBannerButton");
if(_17){
return true;
}
return false;
}});
})();

dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.nls.UiDefinitionNodeMessages")._built=true;
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.nls.UiDefinitionNodeMessages.en_us");
com.ibm.team.repository.web.configurationManagement.uiNodes.nls.UiDefinitionNodeMessages.en_us={"streamDefinition":"A modifiable collection of artifacts. You can deliver change sets to a stream when you want to make your changes available to other team members.","completeChangeSetDescription":"A change set where development has finished, but the changes have not yet been delivered to the stream.","activeChangeSetTitle":"Active","completeChangeSetTitle":"Complete","changesetDefinition":"A temporary collection of artifacts","activeChangeSetDescription":"A change set under active development. Changes have not yet been delivered to the stream","sharedChangeSetDescription":"A change set has been delivered to the stream","sharedChangeSetTitle":"Delivered","baselineTitle":"Baseline","streamTitle":"Stream","changeSetTitle":"Change Set","baselineDefinition":"A collection of artifacts frozen at a point in time. Team members can use a baseline to start a new stream of work, or to capture a milestone."};

;(function UserUiNode(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.UserUiNode");




var _1=jazz.ui.ResourceLink;


dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.uiNodes","UiDefinitionNodeMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.uiNodes","ConfigurationUiNodeMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.uiNodes.UserUiNode",com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode,{_getContent:function __getContent(){
var _3=new dojo.Deferred();
var _4;
if(this._uri){
_4=this._uri.substring(this._uri.lastIndexOf("/")+1);
_4=unescape(_4);
}else{
_4=_2.unknown;
this._includeHover=false;
this._includeLink=false;
}
dojo.attr(this.domNode,"title","");
dojo.attr(this.domNode,"href",this._uri);
var _5="user";
var _6=dojo.create("span",{"class":_5});
var _7=dojo.create("span",{"class":"iconNode"});
var _8=dojo.create("span",{"class":"titleNode",innerHTML:_4});
_6.appendChild(_7);
_6.appendChild(_8);
if(this._includeHover){
this.getHover(this._uri,_4,this.domNode);
}
dojo.empty(this.domNode);
this.domNode.appendChild(_6);
_3.resolve();
return _3;
},getHover:function __getHover(_9,_a,_b){
var _c=new _1({uri:_9,label:_a,around:_b,lazyFetch:true});
}});
})();


;(function UiNodeFactory(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.uiNodes.UiNodeFactory");


var _1=com.ibm.team.repository.web.configurationManagement.uiNodes.ConfigurationUiNode;


var _2=com.ibm.team.repository.web.configurationManagement.uiNodes.ChangesetUiNode;


var _3=com.ibm.team.repository.web.configurationManagement.uiNodes.GlobalConfigurationUiNode;


var _4=com.ibm.team.repository.web.configurationManagement.uiNodes.UserUiNode;
com.ibm.team.repository.web.configurationManagement.uiNodes.UiNodeFactory={getConfigurationUiNode:function __getConfigurationUiNode(_5,_6){
return this._getNode(_1,_5,_6);
},getChangeSetUiNode:function __getConfigurationUiNode(_7,_8){
return this._getNode(_2,_7,_8);
},getGlobalConfigurationUiNode:function __getConfigurationUiNode(_9,_a){
return this._getNode(_3,_9,_a);
},getUserUiNode:function __getUserUiNode(_b,_c){
return this._getNode(_4,_b,_c);
},_getNode:function __getNode(_d,_e,_f){
if(djConfig.isDebug){
try{
var _10=new _d(_e,_f);
return _10;
}
catch(error){
console.error(error.stack);
throw error;
}
}
return new _d(_e,_f);
}};
})();


;(function(){
dojo.provide("com.ibm.team.process.web.common.internal.ProcessConstants");






var _1=com.ibm.team.process.web.common.internal.ProcessConstants;
_1.ROOTSERVICESXML=net.jazz.ajax.contextRoot()+"/rootservices";
_1.NAMESPACE_RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#";
_1.NAMESPACE_DC="http://purl.org/dc/terms/";
_1.NAMESPACE_OSLC="http://open-services.net/xmlns/discovery/1.0/";
_1.NAMESPACE_OSLC_CM="http://open-services.net/xmlns/cm/1.0/";
_1.NAMESPACE_OSLC_QM="http://open-services.net/xmlns/qm/1.0/";
_1.NAMESPACE_OSLC_RM="http://open-services.net/xmlns/rm/1.0/";
_1.NAMESPACE_OSLC_SCM="http://open-services.net/xmlns/scm/1.0/";
_1.NAMESPACE_JP="http://jazz.net/xmlns/prod/jazz/process/1.0/";
_1.NAMESPACE_JP06="http://jazz.net/xmlns/prod/jazz/process/0.6/";
_1.NAMESPACE_JD="http://jazz.net/xmlns/prod/jazz/discovery/1.0/";
_1.NAMESPACE_JFS="http://jazz.net/xmlns/prod/jazz/jfs/1.0/";
_1.CONTENT_TYPE_APPLICATION_XML="application/xml";
_1.PERMISSION_PATH_SEPARATOR="~#_~#";
_1.PERMISSION_PATH_DELIMITER=":~_:~";
_1.BEHAVIOR_PATH_SEPARATOR=_1.PERMISSION_PATH_SEPARATOR;
_1.NONE="none";
_1.BLOCK="block";
_1.FLEX="flex";
_1.DIV="div";
_1.EMPTY="";
_1.INLINE="inline";
_1.VISIBLE="visible";
_1.HIDDEN="hidden";
_1.BR="br";
_1.STALE_DATA_EXCEPTION="com.ibm.team.repository.common.StaleDataException";
_1.TEAM_OPERATION_CANCELED_EXCEPTION="com.ibm.team.process.common.advice.TeamOperationCanceledException";
_1.PERMISSION_DENIED_EXCEPTION="com.ibm.team.repository.common.PermissionDeniedException";
_1.PROCESS_DATA_VALIDATION_EXCEPTION="com.ibm.team.process.common.service.ProcessDataValidationException";
_1.MAIL_SERVICE_NOT_CONFIGURED_EXCEPTION="com.ibm.team.process.internal.service.exceptions.MailServiceNotConfiguredException";
_1.LICENSE_NOT_GRANTED_EXCEPTION="com.ibm.team.repository.common.LicenseNotGrantedException";
_1.SC_FORBIDDEN=403;
_1.PREFIX="com.ibm.team.process.";
_1.ERROR_PRIORITY_HIGH=100;
_1.ERROR_PRIORITY_LOW=-500;
_1.ERROR_PRIORITY_WARNING=-999;
_1.ERROR_PRIORITY_WARNING_LOW=-1999;
_1.DEFAULT_ROLE_ID="default";
_1.SERVICE_PROVIDER_ERROR_TYPE="error";
_1.SERVICE_PROVIDER_NOT_LOADED_TYPE="notLoaded";
_1.SERVICE_PROVIDER_TYPE="serviceProvider";
_1.SERVICE_PROVIDER_CATALOG_TYPE="serviceProviderCatalog";
_1.ITERATION_TYPE_NONE="com.ibm.team.process.internal.iteration.type.none";
_1.PARAM_OWNING_APP_KEY="owningApplicationKey";
_1.JTS_OWNING_APPLICATION_KEY="JTS-Sentinel-Id";
_1.PRECONDITIONS="preconditions";
_1.FOLLOWUP_ACTIONS="followup-actions";
_1.PRECONDITION="precondition";
_1.FOLLOWUP_ACTION="followup-action";
_1.OPERATION_ADVISORS="operationAdvisors";
_1.OPERATION_PARTICIPANTS="operationParticipants";
_1.ITEM_TYPE={PROJECT_AREA:1,TEAM_AREA:2};
_1.IterationTypeDTO={ID:"id",ITEM_ID:"itemId",STATE_ID:"stateId",LABEL:"label"};
_1.ExtensionDTO={ID:"id",NAME:"name",ITEMS:"items",DESCRIPTION:"description",CONTEXT:"context",HAS_XML_CONVERTER:"hasXMLConverter",ICON_URL:"imageUrl",DEPRECATED:"deprecated"};
_1.BehaviorConfigurationDTO={CONFIGURED:"configured",FINAL_OP:"finalOp",NOT_OPTIONAL:"notOptional",NAMESPACE:"namespace",CONTENT:"content",CONTEXT:"context",CONTEXT_ID:"contextId",ROLE_ID:"roleId"};
_1.ProcessRoleDTO={DESCRIPTION:"description",ID:"id",LABEL:"label",CARDINALITY:"cardinality",DEFINED:"defined"};
_1.PermissionConfigurationDTO={SELECTED:"selected",CONFIGURED:"configured",FINAL_OP:"finalOp",DENIAL_EXPLANATION:"denialExplanation"};
_1.PermissionsScopeContext={PROJECT:"project",TEAM:"team",DEV_LINES:"devLines",ITERATION_TYPES:"iterationTypes",ITERATIONS:"iterations"};
_1.ExtensionContext={PROJECT:1,TEAM:2,ALL:3};
_1.PermissionContext={PROJECT:1,TEAM:2,DEV_LINE:3,ITERATION_TYPE:4,ITERATION:5,ALL:6};
_1.BehaviorContext=_1.PermissionContext;
_1.EditorContext={PROJECT:1,TEAM:2};
_1.TabEnum={OVERVIEW:"com.ibm.team.process.web.Overview",PERMISSIONS:"com.ibm.team.process.web.Permissions",ROLES:"com.ibm.team.process.web.Roles",ACCESS_CONTROL:"com.ibm.team.process.web.AccessControl",TIMELINE:"com.ibm.team.process.web.Timelines",ITERATION_TYPES:"com.ibm.team.process.web.IterationTypes",OPERATION_BEHAVIOR:"com.ibm.team.process.web.OperationBehavior",CONFIGURATION_MANAGEMENT:"com.ibm.team.process.web.ConfigurationManagement",HISTORY:"com.ibm.team.process.web.History"};
_1.EditorMode={PREVIEW:"Preview",EDIT:"Edit",NEW:"new"};
_1.RoleCardinality={MANY:0,SINGLE:1};
_1.EditOperationBehaviorConfigurationEnum={ROLE:"role",CONTEXT:"context"};
_1.LinkTypes={IMPLEMENTS:"implements",IMPLEMENTED_BY:"implemented-by",VALIDATES:"validates",VALIDATED_BY:"validated-by",TESTS:"tests",TESTED_BY:"tested-by",RELATED_TO:"related-to",TRACKS:"tracks",TRACKED_BY:"tracked-by",TRACKS_CHANGES:"tracks-changes",CHANGES_TRACKED_BY:"changes-tracked-by",TRACKS_RM:"tracks-rm",TRACKED_BY_CM:"tracked-by-cm",ELABORATES:"elaborates",ELABORATED_BY:"elaborated-by",ARCHITECTS:"architects",ARCHITECTED_BY:"architected-by",VALIDATED_BY_AM:"validated-by-am",VALIDATES_AM:"validates-am",VALIDATED_BY_ARCHITECTURE_ELEMENTS:"validated-by-architecture-elements",VALIDATES_ARCHITECTURE_ELEMENTS:"validates-architecture-elements",RELATED_TO_RM:"related-to-rm",RELATED_TO_AM:"related-to-am",AUTOMATES:"automates",AUTOMATED_BY:"automated-by",CONFIGURATION_CONTRIBUTES_TO:"configuration-contributes-to",CONFIGURATION_CONTRIBUTED_FROM:"configuration-contributed-from",UNSUPPORTED_LINK_TYPE:"unsupported-link-type"};
_1.AllLinkTypes=[_1.LinkTypes.IMPLEMENTS,_1.LinkTypes.IMPLEMENTED_BY,_1.LinkTypes.VALIDATES,_1.LinkTypes.VALIDATED_BY,_1.LinkTypes.TESTS,_1.LinkTypes.TESTED_BY,_1.LinkTypes.RELATED_TO,_1.LinkTypes.TRACKS,_1.LinkTypes.TRACKED_BY,_1.LinkTypes.TRACKS_CHANGES,_1.LinkTypes.CHANGES_TRACKED_BY,_1.LinkTypes.TRACKS_RM,_1.LinkTypes.TRACKED_BY_CM,_1.LinkTypes.ELABORATES,_1.LinkTypes.ELABORATED_BY,_1.LinkTypes.ARCHITECTS,_1.LinkTypes.ARCHITECTED_BY,_1.LinkTypes.VALIDATED_BY_AM,_1.LinkTypes.VALIDATES_AM,_1.LinkTypes.RELATED_TO_AM,_1.LinkTypes.RELATED_TO_RM,_1.LinkTypes.AUTOMATES,_1.LinkTypes.AUTOMATED_BY,_1.LinkTypes.CONFIGURATION_CONTRIBUTES_TO,_1.LinkTypes.CONFIGURATION_CONTRIBUTED_FROM,_1.LinkTypes.VALIDATES_ARCHITECTURE_ELEMENTS,_1.LinkTypes.VALIDATED_BY_ARCHITECTURE_ELEMENTS];
_1.UsesLinkTypes=[_1.LinkTypes.IMPLEMENTED_BY,_1.LinkTypes.VALIDATES,_1.LinkTypes.TESTS,_1.LinkTypes.TRACKED_BY,_1.LinkTypes.TRACKED_BY_CM,_1.LinkTypes.CHANGES_TRACKED_BY,_1.LinkTypes.ELABORATES,_1.LinkTypes.ARCHITECTS,_1.LinkTypes.VALIDATED_BY_AM,_1.LinkTypes.AUTOMATED_BY,_1.LinkTypes.CONFIGURATION_CONTRIBUTED_FROM,_1.LinkTypes.VALIDATES_ARCHITECTURE_ELEMENTS];
_1.ServiceProviderTypes={CM:"cmServiceProviders",RM:"rmServiceProviders",QM:"qmServiceProviders",SCM:"scmServiceProviders",AM:"amServiceProviders",AUTO:"autoServiceProviders",CONFIG:"configServiceProviders",GLOBAL_CONFIG:"globalConfigServiceProviders"};
_1.AllServiceProviderTypes=[_1.ServiceProviderTypes.CM,_1.ServiceProviderTypes.RM,_1.ServiceProviderTypes.QM,_1.ServiceProviderTypes.SCM,_1.ServiceProviderTypes.AM,_1.ServiceProviderTypes.AUTO,_1.ServiceProviderTypes.CONFIG,_1.ServiceProviderTypes.GLOBAL_CONFIG];
_1.CSSClass={ACTION_COLUMN:"action-column",TOOLBAR_TABLE:"toolbar-table",TABLE_ROW_SELECTED:"selected"};
_1.ProjectSelectorContext={ADD:"jazz.app.events.contextSwitcher.addContext",DELETE:"jazz.app.events.contextSwitcher.deleteContext"};
_1.ProjectAreaExtensionPage={EXTENSION_POINT_PROFILE_PAGES:"com.ibm.team.process.web.projectAreaEditorPages",EXTENSION_POINT_SUPPRESSED_PROFILE_PAGES:"com.ibm.team.process.web.suppressedProjectAreaEditors",ELEMENT_PAGE:"page",ATTRIBUTE_ID:"id",ATTRIBUTE_TITLE:"title",ATTRIBUTE_WIDGET:"widget",ATTRIBUTE_TEAM_AREA_EDITOR:"teamAreaEditor",ATTRIBUTE_UA_KEY:"uaKey",ATTRIBUTE_UA_KEY_TEAM_AREA:"uaKeyForTeamAreaEditor",ATTRIBUTE_PRIORITY:"priority"};
_1.UAKey={OVERVIEW_TAB:"com.ibm.team.process.web.tab_overview",TIMELINES_TAB:"com.ibm.team.process.web.tab_timelines",ITERATION_TYPES_TAB:"com.ibm.team.process.web.tab_iterationtypes",ROLES_TAB:"com.ibm.team.process.web.tab_roles",PERMISSIONS_TAB:"com.ibm.team.process.web.tab_permissions",ACCESSCONTROL_TAB:"com.ibm.team.process.web.tab_accesscontrol",PROCESS_DESCRIPTION_TAB:"com.ibm.team.process.web.tab_process_description",OVERVIEW_TEAMAREA_TAB:"com.ibm.team.process.web.tab_overview_teamarea",ROLES_TEAMAREA_TAB:"com.ibm.team.process.web.tab_roles_teamarea",PERMISSIONS_TEAMAREA_TAB:"com.ibm.team.process.web.tab_permissions_teamarea",ARCHIVED_PROJECTAREAS_PAGE:"com.ibm.team.process.web.page_archived_project_areas",CREATE_PROJECTAREA_PAGE:"com.ibm.team.process.web.page_create_project_area",OPERATION_BEHAVIOR_TAB:"com.ibm.team.process.web.tab_operation_behavior",OPERATION_BEHAVIOR_TEAMAREA_TAB:"com.ibm.team.process.web.tab_operation_behavior_teamarea",CONFIGURATION_MANAGEMENT_TAB:"com.ibm.team.process.web.tab_configuration_management",CONFIGURATION_MANAGEMENT_SINGLE_OR_FULL_TAB:"com.ibm.team.process.web.tab_configuration_management_qm",HISTORY_TAB:"com.ibm.team.process.web.tab_history",HISTORY_TEAMAREA_TAB:"com.ibm.team.process.web.tab_history_teamarea",HISTORY_TAB_HELPER:"com.ibm.team.process.web.tab_history_helper",HISTORY_TEAMAREA_TAB_HELPER:"com.ibm.team.process.web.tab_history_teamarea_helper"};
_1.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,COMMENT:8,DOCUMENT:9};
_1.XMLATTRIBUTE_RESOURCE="resource";
_1.XMLATTRIBUTE_ABOUT="about";
_1.NAMESPACE_JTP="http://jazz.net/xmlns/prod/jazz/jtp/0.6/";
_1.XMLELEMENT_TITLE="title";
_1.XMLELEMENT_ID="id";
_1.XMLELEMENT_PROCESSNAME="processName";
_1.XMLELEMENT_AVAILABLELOCALE="available-locales";
_1.XMLELEMENT_LOCALE="locale";
_1.OSLC_VERSION_HEADER="OSLC-Core-Version";
_1.OSLC_CORE_VERSION="2.0";
_1.OSLC_PRE_CORE_VERSION="1.0";
_1.NAMESPACE_OSLC_CORE="http://open-services.net/ns/core#";
_1.NAMESPACE_OSLC_CORE_CM="http://open-services.net/ns/cm#";
_1.NAMESPACE_OSLC_CORE_RM="http://open-services.net/ns/rm#";
_1.NAMESPACE_OSLC_CORE_QM="http://open-services.net/ns/qm#";
_1.NAMESPACE_OSLC_CORE_SCM="http://open-services.net/ns/scm#";
_1.NAMESPACE_OSLC_AM="http://open-services.net/ns/am#";
_1.NAMESPACE_OSLC_AUTO="http://open-services.net/ns/auto#";
_1.NAMESPACE_OSLC_CONFIG="http://open-services.net/ns/config#";
_1.NAMESPACE_OSLC_GLOBAL_CONFIG="http://jazz.net/ns/globalconfig#";
_1.ELEM_OSLC_CATALOGS="oslcCatalogs";
_1.ELEM_SERVICE_PROVIDER_CATALOG="ServiceProviderCatalog";
_1.ELEM_DOMAIN="domain";
_1.PROJECT_AREA_RECENTLY_VIEWED="projectAreaRecentlyViewedEvent";
_1.TIMELINE_SELECTOR_EMPTY_OPTION_ID="timelineSelectorEmptyOptionId";
_1.ProjectAreaRecentlyViewedParams={APP_PROJECTAREA_QUERY_TYPE:"com.ibm.team.process.projectareas",JTS_PROJECTAREA_QUERY_TYPE:"com.ibm.team.process.projectareas&owningApplicationKey=",JTS_APP:jazz.app.internal.applicationAbout.findAboutUriFromContext(net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL)};
_1.ProjectAreaEditAction={SHORT_ID:"editProjectArea",ID:"com.ibm.team.process.editProjectArea",ACTIONPREFIX_ID_ITEMIDSUFFIX:"#action=com.ibm.team.process.editProjectArea&itemId=",ID_ITEMIDSUFFIX:"com.ibm.team.process.editProjectArea&itemId="};
_1.TeamAreaEditAction={SHORT_ID:"editTeamArea",ID:"com.ibm.team.process.editTeamArea",ACTIONPREFIX_ID_ITEMIDSUFFIX:"#action=com.ibm.team.process.editTeamArea&itemId="};
})();


;(function(){
dojo.provide("com.ibm.team.configuration.web.context.internal.RdfHelper");


var _1=com.ibm.team.process.web.common.internal.ProcessConstants;
com.ibm.team.configuration.web.context.internal.RdfHelper={getNode:function(_2,_3,_4){
var _5;
dojo.forEach(_2,function(_6){
if((_6.baseName===_3||_6.localName===_3)&&(_6.namespaceURI===_4||(_6.namespaceURI===""&&_4===null))){
_5=_6;
}
});
return _5;
},getAttributeNode:function(_7,_8,_9){
var _a;
if(dojo.isIE&&(typeof _7.attributes.getQualifiedItem!=="undefined")){
_a=_7.attributes.getQualifiedItem(_8,_9);
}else{
_a=_7.attributes.getNamedItemNS(_9,_8);
}
return _a;
},getAttributeNodeValue:function(_b,_c,_d){
var _e=this.getAttributeNode(_b,_c,_d);
if(_e){
return _e.value;
}else{
return null;
}
}};
})();


;dojo.provide("com.ibm.team.configuration.web.context.ContextUtils");




(function(){
var _1=com.ibm.team.repository.web.configurationManagement.CmTools;
var _2="Configuration-Context";
var _3="oslc_config.context";
dojo.mixin(com.ibm.team.configuration.web.context.ContextUtils,{addConfigurationContextToUri:function __addContextToUri(_4,_5){
return this._addParameterToUri(_4,_3,_5);
},extractConfigurationContextFromUri:function __extractConfigurationContextFromUri(_6){
var _7=null;
var _8=new dojo._Url(_6);
var _9=dojo.queryToObject(_8.query);
if(_9[_3]){
_7=_9[_3];
}
if(_8.fragment){
var _a=dojo.queryToObject(_8.fragment);
if(_a[_3]){
_7=_a[_3];
}
}
if(_7!=null){
var _b=_7.length;
if(_7.charAt(0)=="<"&&_7.charAt(_b-1)==">"){
var _c=_7.indexOf("<")+1;
var _d=_7.lastIndexOf(">");
_7=_7.substring(_c,_d);
}
}
return _7;
},extractProjectAreaIdFromUri:function(_e){
var _f=new dojo._Url(_e);
var _10=_f.path;
return _10.substring(_10.lastIndexOf("/")+1);
},_getUriFromContextObject:function __getUriFromContextObject(_11){
if(_11){
if(_11.globalConfigurationUri){
return _11.globalConfigurationUri;
}else{
if(_11.changeSetUri){
return _11.changeSetUri;
}else{
if(_11.localConfigurationUri){
return _11.localConfigurationUri;
}
}
}
}
return null;
},isCmToolsInitialized:function _isCmToolsInitialized(){
return _1.getContext()!==null;
},_convertOslcConfigurationObjectToCBBObject:function __convertOslcConfigurationObjectToCBBObject(_12){
var _13=_12.rdfType;
var _14={};
if(_13==="stream"||_13==="baseline"){
_14.localConfigurationUri=_12.uri;
}else{
if(_13==="changeSet"){
_14.changeSetUri=_12.uri;
}else{
if(_13==="globalConfiguration"){
_14.globalConfigurationUri=_12.uri;
}else{
throw new Error("Attempted to set a new context, but the type of the object could not be determined!");
}
}
}
return _14;
},_addParameterToUri:function __addParameterToUri(uri,_15,_16){
var _17=new dojo._Url(uri);
var _18=_17.query?dojo.queryToObject(_17.query):{};
_18[_15]=_16;
_17.query=dojo.objectToQuery(_18);
var _19=_17.scheme+"://"+_17.authority+_17.path+"?"+_17.query;
if(_17.fragment){
_19=_19+"#"+_17.fragment;
}
return _19;
}});
})();


;(function(){
dojo.provide("com.ibm.team.configuration.web.context.internal.OslcServiceCatalog");








dojo.requireLocalization("com.ibm.team.configuration.web","ConfigurationWebMessages");
var _1=com.ibm.team.configuration.web.context.internal.Namespaces.NAMESPACES;
var _2=com.ibm.team.configuration.web.context.internal.RdfHelper;
var _3="http://open-services.net/ns/config#Configuration";
var _4="http://open-services.net/ns/config#Component";
var _5=dojo.i18n.getLocalization("com.ibm.team.configuration.web","ConfigurationWebMessages");
var _6=com.ibm.team.configuration.web.context.internal.OslcServiceCatalog;
var _7=com.ibm.team.configuration.web.context.ContextUtils;
dojo.mixin(com.ibm.team.configuration.web.context.internal.OslcServiceCatalog,{cache:{},getConfigurationSelectionDialogArgs:function __getConfigurationSelectionDialogArgs(_8){
return this._getSelectionDialogArgs(_8);
},getComponentSelectionDialogArgs:function __getComponentSelectionDialogArgs(_9){
return this._getSelectionDialogArgs(_9,_4);
},_getSelectionDialogArgs:function __getSelectionDialogArgs(_a,_b){
var _c=new dojo.Deferred();
var _d=_7._addParameterToUri(_a,"resourceType",_b);
if(_6.cache[_d]){
_c.resolve(_6.cache[_d]);
}else{
jazz.client.xhrGet({url:net.jazz.ajax._contextRoot+"/oslcConfigSelectionDialog",handleAs:"json",content:{resourceType:_b},load:function(_e){
var _f={url:_e.dialogDialog,hintHeight:_e.dialogHintHeight,hintWidth:_e.dialogHintWidth};
_6.cache[_d]=_f;
_c.callback(_f);
},error:function(_10,_11){
_c.errback(_11.xhr);
}});
}
return _c;
}});
})();

dojo.provide("com.ibm.team.gc.sdk.web.resources.nls.SdkMessages")._built=true;
dojo.provide("com.ibm.team.gc.sdk.web.resources.nls.SdkMessages.en_us");
com.ibm.team.gc.sdk.web.resources.nls.SdkMessages.en_us={"typeToFilter":"Type to filter","filterOnColumn":"Filter on column","dragLocalConfigHint":"Drag between windows to add to a global configuration tree.","filterOnXColumn":"Filter on \"{0}\" column","configDragGripperTooltip":"To add this to a global configuration drag it into a global configuration tree in another window","noResults":"No Results","clear":"Clear","loading":"Loading...","selectRowCheckboxAriaLabel":"select row"};

;dojo.cache("com.ibm.team.gc.sdk.web.resources", "internal/templates/LoadingMessage.html", "<div>	<span dojoAttachPoint=\"_spinner\" aria-busy=\"true\">		<img alt=\"\" src=\"${_spinnerSrc}\" class=\"gc-sdk-valign-bottom\">		<span>${messages.loading}</span>	</span>	<div dojoAttachPoint=\"_placeholder\" style=\"display: none;\" class=\"gc-inline-block\">		${placeholder}	</div></div>");

;dojo.provide("com.ibm.team.gc.sdk.web.resources.internal.LoadingMessage");


dojo.requireLocalization("com.ibm.team.gc.sdk.web.resources","SdkMessages");






(function(){
var _1=jazz.util.html;
var _2=dojo.i18n.getLocalization("com.ibm.team.gc.sdk.web.resources","SdkMessages");
dojo.declare("com.ibm.team.gc.sdk.web.resources.internal.LoadingMessage",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.gc.sdk.web.resources","internal/templates/LoadingMessage.html"),_spinnerSrc:dojo.moduleUrl("com.ibm.team.gc.sdk.web.resources","images/spinner.gif?etag=d2KOcZC"),messages:_2,initiallyHidden:false,placeholder:_2.noResults,htmlPlaceholder:"",maxWidth:"",isSmall:false,constructor:function(){
this._delayTimeout=null;
},postCreate:function(){
this.inherited(arguments);
dojo.addClass(this.domNode,this.isSmall?"gc-sdk-small-no-results":"gc-sdk-no-results");
if(this.initiallyHidden){
this.hide();
}
},_setMaxWidthAttr:function(_3){
this._set("maxWidth",_3);
this.maxWidth=_3;
if(_3){
this._placeholder.style.maxWidth=_3;
}else{
this._placeholder.style.maxWidth="";
}
},hide:function(){
clearTimeout(this._delayTimeout);
if(this._placeholder){
this.domNode.style.display="none";
}
},_setPlaceholderAttr:function(_4){
dojo.empty(this._placeholder);
this._placeholder.innerHTML=_1.escape(_4);
},_setHtmlPlaceholderAttr:function(_5){
dojo.empty(this._placeholder);
this._placeholder.innerHTML=_5;
},showPlaceholder:function(){
this._placeholder.style.display="";
this._spinner.style.display="none";
this.domNode.style.display="";
},show:function(_6){
clearTimeout(this._delayTimeout);
if(!_6){
this._placeholder.style.display="none";
this._spinner.style.display="";
this.domNode.style.display="";
return;
}
var _7=this;
this._delayTimeout=setTimeout(function(){
if(!_7||!_7.domNode){
return;
}
_7._placeholder.style.display="none";
_7._spinner.style.display="";
_7.domNode.style.display="";
_7._delayTimeout=null;
},_6);
}});
})();

dojo.provide("opensocial.internal.container.globals");

;gadgets=window.gadgets||{};shindig=window.shindig||{};osapi=window.osapi||{};
dojo.provide("opensocial.internal.container.domnode");

;var DOM_ELEMENT_NODE=1;var DOM_ATTRIBUTE_NODE=2;var DOM_TEXT_NODE=3;var DOM_CDATA_SECTION_NODE=4;var DOM_ENTITY_REFERENCE_NODE=5;var DOM_ENTITY_NODE=6;var DOM_PROCESSING_INSTRUCTION_NODE=7;var DOM_COMMENT_NODE=8;var DOM_DOCUMENT_NODE=9;var DOM_DOCUMENT_TYPE_NODE=10;var DOM_DOCUMENT_FRAGMENT_NODE=11;var DOM_NOTATION_NODE=12;
dojo.provide("opensocial.internal.container.core.config.base");

;window.gadgets.config||(gadgets.config=function(){function f(a,e){for(var l in e)e.hasOwnProperty(l)&&("object"===typeof a[l]&&"object"===typeof e[l]?f(a[l],e[l]):a[l]=e[l])}function g(){var a=(m["core.io"]||{}).jsPath||null;var e=[];var l=0;var b=document.scripts||document.getElementsByTagName("script");if(!b||0==b.length)return e;for(var c=0;c<b.length;++c){var d=b[c].src;var h=null!=a&&d&&d.indexOf(a)||-1;-1!=h&&/.*[.]js.*[?&]c=[01](#|&|$).*/.test(d.substring(h+a.length))&&(e[l++]=b[c])}if(!e.length){var f=
b[b.length-1];f.src&&(e[0]=f)}return e}function k(a){var e="";if(a.nodeType==DOM_TEXT_NODE||a.nodeType==DOM_CDATA_SECTION_NODE)e=a.nodeValue;else if(a.innerText)e=a.innerText;else if(a.innerHTML)e=a.innerHTML;else if(a.firstChild){var l=[];for(var b=a.firstChild;b;b=b.nextSibling)l.push(k(b));e=l.join("")}return e}function a(a){try{var e=(new Function("return ("+a+"\n)"))()}catch(l){}if("object"===typeof e)return e;try{e=(new Function("return ({"+a+"\n})"))()}catch(l){}return"object"===typeof e?e:
{}}function b(b){var e=g();if(e.length)for(var l=0;l<e.length;l++){var c=k(e[l]);var d=a(c);if(h.f&&1==h.f.length&&!d[h.f[0]]){var t={};t[h.f[0]]=d;d=t}f(b,d);var m=window.___cfg;m&&f(b,m)}}function c(a){for(var e in d)if(d.hasOwnProperty(e)){var b=d[e];var c=0;for(var h=b.length;c<h;++c)a(e,b[c])}}var h;var d={};var m={};var q=!1;return{register:function(a,b,c,h){var e=d[a];e||(e=[],d[a]=e);e.push({validators:b||{},callback:c,callOnUpdate:h});q&&c&&c(m)},get:function(a){return a?m[a]||{}:m},init:function(a,
e){h=window.___jsl||{};f(m,a);b(m);f(m,window.___config||{});c(function(a,b){var c=m[a];if(c&&!e){var l=b.validators;for(var d in l)if(l.hasOwnProperty(d)&&!l[d](c[d]))throw Error('Invalid config value "'+c[d]+'" for parameter "'+d+'" in component "'+a+'"');}b.callback&&b.callback(m)});q=!0},update:function(a,b){var e=[];c(function(c,d){(a.hasOwnProperty(c)||b&&m&&m[c])&&d.callback&&d.callOnUpdate&&e.push(d.callback)});m=b?{}:m||{};f(m,a);var d=0;for(var h=e.length;d<h;++d)e[d](m)},clear:function(){gadgets.warn("This method is for testing.");
h=void 0;m={};q=!1}}}());
dojo.provide("opensocial.internal.container.core.json");

;window.JSON&&window.JSON.parse&&window.JSON.stringify&&(gadgets.json=function(){function f(f,a){return this[f]}var g=/___$/;return{parse:function(f){try{return window.JSON.parse(f)}catch(a){return!1}},stringify:function(k){function a(a){return b.call(this,a,f)}var b=window.JSON.stringify;var c=Array.prototype.toJSON&&'"[{\\"x\\": 1}]"'===b([{x:1}])?a:b;try{return c(k,function(a,b){return g.test(a)?void 0:b})}catch(h){return null}}}}());

;window.JSON&&window.JSON.parse&&window.JSON.stringify||(gadgets.json=function(){function f(a){return 10>a?"0"+a:a}function g(a){var b;var c;var f=/["\\\x00-\x1f\x7f-\x9f]/g;switch(typeof a){case "string":return f.test(a)?'"'+a.replace(f,function(a){var b=k[a];if(b)return b;b=a.charCodeAt();return"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)})+'"':'"'+a+'"';case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);case "object":if(!a)return"null";var d=
[];if("number"===typeof a.length&&!a.propertyIsEnumerable("length")){var m=a.length;for(b=0;b<m;b+=1)d.push(g(a[b])||"null");return"["+d.join(",")+"]"}for(c in a)if(!/___$/.test(c)&&a.hasOwnProperty(c)&&"string"===typeof c){var q=g(a[c]);q&&d.push(g(c)+":"+q)}return"{"+d.join(",")+"}"}return""}Date.prototype.toJSON=function(){return[this.getUTCFullYear(),"-",f(this.getUTCMonth()+1),"-",f(this.getUTCDate()),"T",f(this.getUTCHours()),":",f(this.getUTCMinutes()),":",f(this.getUTCSeconds()),"Z"].join("")};
var k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return{stringify:g,parse:function(a){return/^[\],:{}\s]*$/.test(a.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?eval("("+a+")"):!1}}}());

;gadgets.json.flatten=function(f){var g={};if(null===f||"undefined"==typeof f)return g;for(var k in f)if(f.hasOwnProperty(k)){var a=f[k];null!==a&&"undefined"!=typeof a&&(g[k]="string"===typeof a?a:gadgets.json.stringify(a))}return g};
dojo.provide("opensocial.internal.container.core.util.urlparams");

;gadgets.util=gadgets.util||{};
(function(){function f(f){var a=f.indexOf("?");var b=f.indexOf("#");return(-1===b?f.substr(a+1):[f.substr(a+1,b-a-1),"\x26",f.substr(b+1)].join("")).split("\x26")}var g=null;gadgets.util.getUrlParameters=function(k){var a="undefined"===typeof k;if(null!==g&&a)return g;var b={};var c=f(k||document.location.href);var h=window.decodeURIComponent?decodeURIComponent:unescape;var d=0;for(var m=c.length;d<m;++d){var q=c[d].indexOf("\x3d");if(-1!==q){var p=c[d].substring(0,q);var e=c[d].substring(q+1);e=
e.replace(/\+/g," ");try{b[p]=h(e)}catch(l){}}}a&&(g=b);return b}})();gadgets.util.getUrlParameters();
dojo.provide("opensocial.internal.container.core.log");

;gadgets.log=function(){function f(b,c){"undefined"===typeof a&&(a=window.console?window.console:window.opera?window.opera.postError:null);b<k||!a||(2===b&&a.warn?a.warn(c):3===b&&a.error?a.error(c):a.log&&a.log(c))}var g=function(a){f(1,a)};gadgets.warn=function(a){f(2,a)};gadgets.error=function(a){f(3,a)};gadgets.setLogLevel=function(a){k=a};g.INFO=1;g.WARNING=2;g.NONE=4;var k=1;var a;return g}();
dojo.provide("opensocial.internal.container.core.util.event");

;gadgets.util=gadgets.util||{};gadgets.util.attachBrowserEvent=function(f,g,k,a){"undefined"!=typeof f.addEventListener?f.addEventListener(g,k,a):"undefined"!=typeof f.attachEvent?f.attachEvent("on"+g,k):gadgets.warn("cannot attachBrowserEvent: "+g)};gadgets.util.removeBrowserEvent=function(f,g,k,a){f.removeEventListener?f.removeEventListener(g,k,a):f.detachEvent?f.detachEvent("on"+g,k):gadgets.warn("cannot removeBrowserEvent: "+g)};
dojo.provide("opensocial.internal.container.core.util.onload");

;gadgets.util=gadgets.util||{};
(function(){var f=[];gadgets.util.registerOnLoadHandler=function(g){f.push(g)};gadgets.util.runOnLoadHandlers=function(){gadgets.util.registerOnLoadHandler=function(a){a()};if(f){var g=0;for(var k=f.length;g<k;++g)try{f[g]()}catch(a){gadgets.warn("Could not fire onloadhandler "+a.message)}f=void 0}};(function(){gadgets.util.attachBrowserEvent(document,"DOMContentLoaded",gadgets.util.runOnLoadHandlers,!1);var f=window.onload;window.onload=function(){f&&f();gadgets.util.runOnLoadHandlers()};var k="";
window&&window.location&&window.location.href&&(k=gadgets.util.getUrlParameters(window.location.href).libs);var a=/(?:js\/)([^&|\.]+)/g.exec(k);if(a){var b=decodeURIComponent(a[1]);var c=document.getElementsByTagName("script")||[];for(var h=0;h<c.length;h++){var d=c[h];var m=d.src;if(m&&b&&-1!==m.indexOf(b)){var q=d.onload;d.onload=function(){q&&q();gadgets.util.runOnLoadHandlers()}}}}})()})();
dojo.provide("opensocial.internal.container.rpc");

;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.wpm||(gadgets.rpctx.wpm=function(){function f(a,b,d){"undefined"!=typeof window.addEventListener?window.addEventListener(a,b,d):"undefined"!=typeof window.attachEvent&&window.attachEvent("on"+a,b)}function g(a){var c=gadgets.json.parse(a.data);if(c&&c.f){var d=gadgets.rpc.getTargetOrigin(c.f);b&&("undefined"!==typeof a.origin?a.origin!==d:a.domain!==/^.+:\/\/([^:]+).*/.exec(d)[1])||k(c,a.origin)}}var k;var a;var b=!0;return{getCode:function(){return"wpm"},isParentVerifiable:function(){return!0},
init:function(c,h){gadgets.config.register("rpc",null,function(a){"true"===String((a?a.rpc:{}).disableForceSecure)&&(b=!1)});k=c;a=h;f("message",g,!1);a("..",!0);return!0},setup:function(b,h){a(b,!0);return!0},call:function(a,b,d){var c=gadgets.rpc.getTargetOrigin(a);var h=gadgets.rpc._getTargetWin(a);c?window.setTimeout(function(){h.postMessage(gadgets.json.stringify(d),c)},0):gadgets.error("No relay set (used as window.postMessage targetOrigin), cannot send cross-domain message");return!0}}}());

;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.flash||(gadgets.rpctx.flash=function(){function f(a,b){G[b]=G[b]||function(){a.apply({},arguments)};return v+"."+b}function g(a){return".."===a?gadgets.rpc.RPC_ID:a}function k(a){return".."===a?"INNER":"OUTER"}function a(){if(null===t&&document.body&&e){var b=e+"?cb\x3d"+Math.random()+"\x26origin\x3d"+H+"\x26jsl\x3d1";var c=document.createElement("div");c.style.height="1px";c.style.width="1px";var d='\x3cobject height\x3d"1" width\x3d"1" id\x3d"___xpcswf" type\x3d"application/x-shockwave-flash"\x3e\x3cparam name\x3d"allowScriptAccess" value\x3d"always"\x3e\x3c/param\x3e\x3cparam name\x3d"movie" value\x3d"'+b+
'"\x3e\x3c/param\x3e\x3cembed type\x3d"application/x-shockwave-flash" allowScriptAccess\x3d"always" src\x3d"'+b+'" height\x3d"1" width\x3d"1"\x3e\x3c/embed\x3e\x3c/object\x3e';document.body.appendChild(c);c.innerHTML=d;t=c.firstChild}++E;null!==x&&(null!==t||50<=E)?window.clearTimeout(x):x=window.setTimeout(a,100)}function b(){F[".."]||(p(".."),B++,50<=B&&null!==r?(window.clearTimeout(r),r=null):r=window.setTimeout(b,100))}function c(){if(null!==t&&t.setup){for(;0<A.length;){var a=A.shift();var b=
a.targetId;t.setup(a.token,g(b),k(b))}null!==D&&(window.clearTimeout(D),D=null)}else null===D&&0<A.length&&(D=window.setTimeout(c,500))}function h(){c();null!==x&&window.clearTimeout(x);x=null}function d(){F[".."]||null!==r||(r=window.setTimeout(b,100))}function m(a,b,c){var e=gadgets.rpc.getTargetOrigin(a);var d=gadgets.rpc.getAuthToken(a);var l="sendMessage_"+g(a)+"_"+d+"_"+k(a);t[l].call(t,gadgets.json.stringify(c),e);return!0}function q(a,b,c){var e=gadgets.json.parse(a);var d=e._scr;d?(J(d,!0),
F[d]=!0,".."!==d&&p(d,!0)):window.setTimeout(function(){u(e,b)},0)}function p(a,b){var e=gadgets.rpc.RPC_ID;var c={};c._scr=b?"..":e;c._pnt=e;m(a,e,c)}var e=null;var l=!1;var u=null;var J=null;var t=null;var A=[];var D=null;var x=null;var E=0;var B=0;var r=null;var F={};var H=window.location.protocol+"//"+window.location.host;var v;var G=function(){window.___jsl=window.___jsl||{};var a=window.___jsl._fm={};v="___jsl._fm";return a}();gadgets.config.register("rpc",null,function(a){l&&(e=a.rpc.commSwf||
"//xpc.googleusercontent.com/gadgets/xpc.swf")});f(h,"ready");f(d,"setupDone");f(q,"receiveMessage");return{getCode:function(){return"flash"},isParentVerifiable:function(){return!0},init:function(a,b){u=a;J=b;l=!0;return!0},setup:function(b,e){A.push({token:e,targetId:b});null===t&&null===x&&(x=window.setTimeout(a,100));c();return!0},call:m,_receiveMessage:q,_ready:h,_setupDone:d}}());

;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.frameElement||(gadgets.rpctx.frameElement=function(){function f(a,b,c){try{if(".."!==b){var f=window.frameElement;if("function"===typeof f.__g2c_rpc)return"function"!==typeof f.__g2c_rpc.__c2g_rpc&&(f.__g2c_rpc.__c2g_rpc=function(a){g(gadgets.json.parse(a))}),f.__g2c_rpc(gadgets.json.stringify(c)),!0}else{var d=document.getElementById(a);if("function"===typeof d.__g2c_rpc&&"function"===typeof d.__g2c_rpc.__c2g_rpc)return d.__g2c_rpc.__c2g_rpc(gadgets.json.stringify(c)),!0}}catch(m){}return!1}
var g;var k;return{getCode:function(){return"fe"},isParentVerifiable:function(){return!1},init:function(a,b){g=a;k=b;return!0},setup:function(a,b){if(".."!==a)try{document.getElementById(a).__g2c_rpc=function(a){g(gadgets.json.parse(a))}}catch(c){return!1}".."===a&&(k("..",!0),gadgets.util.registerOnLoadHandler(function(){window.setTimeout(function(){gadgets.rpc.call(a,gadgets.rpc.ACK)},500)}));return!0},call:function(a,b,c){return f(a,b,c)}}}());

;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.nix||(gadgets.rpctx.nix=function(){function f(){var b=g[".."];if(!b)if(10<++a)gadgets.warn("Nix transport setup failed, falling back..."),k("..",!1);else{if(!b&&window.opener&&"GetAuthToken"in window.opener&&(b=window.opener,b.GetAuthToken()==gadgets.rpc.getAuthToken(".."))){var c=gadgets.rpc.getAuthToken("..");b.CreateChannel(window.GRPC____NIXVBS_get_wrapper("..",c),c);g[".."]=b;window.opener=null;k("..",!0);return}window.setTimeout(function(){f()},500)}}var g={};var k;var a=0;return{getCode:function(){return"nix"},
isParentVerifiable:function(){return!1},init:function(a,c){k=c;if("unknown"!==typeof window.GRPC____NIXVBS_get_wrapper){window.GRPC____NIXVBS_handle_message=function(b){window.setTimeout(function(){a(gadgets.json.parse(b))},0)};window.GRPC____NIXVBS_create_channel=function(a,b,c){gadgets.rpc.getAuthToken(a)===c&&(g[a]=b,k(a,!0))};try{window.execScript("Class GRPC____NIXVBS_wrapper\n Private m_Intended\nPrivate m_Auth\nPublic Sub SetIntendedName(name)\n If isEmpty(m_Intended) Then\nm_Intended \x3d name\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\n If isEmpty(m_Auth) Then\nm_Auth \x3d auth\nEnd If\nEnd Sub\nPublic Sub SendMessage(data)\n GRPC____NIXVBS_handle_message(data)\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken \x3d m_Auth\nEnd Function\nPublic Sub CreateChannel(channel, auth)\n Call GRPC____NIXVBS_create_channel(m_Intended, channel, auth)\nEnd Sub\nEnd Class\nFunction GRPC____NIXVBS_get_wrapper(name, auth)\nDim wrap\nSet wrap \x3d New GRPC____NIXVBS_wrapper\nwrap.SetIntendedName name\nwrap.SetAuth auth\nSet GRPC____NIXVBS_get_wrapper \x3d wrap\nEnd Function",
"vbscript")}catch(h){return!1}}return!0},setup:function(a,c){if(".."===a)return f(),!0;try{var b=document.getElementById(a);var d=window.GRPC____NIXVBS_get_wrapper(a,c);b.contentWindow.opener=d}catch(m){return!1}return!0},call:function(a,c,f){try{g[a]&&g[a].SendMessage(gadgets.json.stringify(f))}catch(d){return!1}return!0}}}());

;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.rmr||(gadgets.rpctx.rmr=function(){function f(a,b,d,f){var e=function(){document.body.appendChild(a);a.src="about:blank";f&&(a.onload=function(){c(f)});a.src=b+"#"+d};document.body?e():gadgets.util.registerOnLoadHandler(function(){e()})}function g(a){if("object"!==typeof d[a]){var c=document.createElement("iframe");var e=c.style;e.position="absolute";e.top="0px";e.border="0";e.opacity="0";e.width="10px";e.height="1px";c.id="rmrtransport-"+a;c.name=c.id;var g=gadgets.rpc.getRelayUrl(a);
var h=gadgets.rpc.getOrigin(m);g||(g=h+"/robots.txt");d[a]={frame:c,receiveWindow:null,relayUri:g,relayOrigin:h,searchCounter:0,width:10,waiting:!0,queue:[],sendId:0,recvId:0,verifySendToken:String(Math.random()),verifyRecvToken:null,originVerified:!1};".."!==a&&f(c,g,b(a));k(a)}}function k(a){var b=null;d[a].searchCounter++;try{var c=gadgets.rpc._getTargetWin(a);b=".."===a?c.frames["rmrtransport-"+gadgets.rpc.RPC_ID]:c.frames["rmrtransport-.."]}catch(t){}var e=!1;b&&(e=h(a,b));e||10<d[a].searchCounter||
window.setTimeout(function(){k(a)},500)}function a(a,c,f,g){var e=".."!==f?d[".."]:d[a];if(e){c!==gadgets.rpc.ACK&&e.queue.push(g);if(e.waiting||0===e.queue.length&&(c!==gadgets.rpc.ACK||!g||!0!==g.ackAlone))return!0;0<e.queue.length&&(e.waiting=!0);var l=e.relayUri+"#"+b(a);try{e.frame.contentWindow.location=l;var h=10==e.width?20:10;e.frame.style.width=h+"px";e.width=h}catch(x){return!1}}return!0}function b(a){var b=d[a];var c={id:b.sendId};if(b){c.d=Array.prototype.slice.call(b.queue,0);var e=
{s:gadgets.rpc.ACK,id:b.recvId};b.originVerified||(e.sendToken=b.verifySendToken);b.verifyRecvToken&&(e.recvToken=b.verifyRecvToken);c.d.push(e)}return gadgets.json.stringify(c)}function c(b){var c=d[b];var e=c.receiveWindow.location.hash.substring(1);var f=gadgets.json.parse(decodeURIComponent(e))||{};var g=f.d||[];var h=!1;var k=!1;var m=0;var E=c.recvId-f.id;for(var B=0;B<g.length;++B){var r=g[B];r.s===gadgets.rpc.ACK?(p(b,!0),c.verifyRecvToken=r.sendToken,!c.originVerified&&r.recvToken&&String(r.recvToken)==
String(c.verifySendToken)&&(c.originVerified=!0),c.waiting&&(k=!0),c.waiting=!1,c.queue.splice(0,Math.max(0,r.id-c.sendId)),c.sendId=Math.max(c.sendId,r.id||0)):(h=!0,++m<=E||(++c.recvId,q(r,c.originVerified?c.relayOrigin:void 0)))}(h||k&&0<c.queue.length)&&a(b,gadgets.rpc.ACK,".."===b?gadgets.rpc.RPC_ID:"..",{ackAlone:h})}function h(a,g){function e(){c(a)}var h=d[a];try{var k=!1;k="document"in g;if(!k)return!1;k="object"==typeof g.document;if(!k||"about:blank"===g.location.href)return!1}catch(A){return!1}h.receiveWindow=
g;"undefined"===typeof g.attachEvent?g.onresize=e:g.attachEvent("onresize",e);".."===a?f(h.frame,h.relayUri,b(a),a):c(a);return!0}var d={};var m=gadgets.util.getUrlParameters().parent;var q;var p;return{getCode:function(){return"rmr"},isParentVerifiable:function(){return!0},init:function(a,b){q=a;p=b;return!0},setup:function(a,b){try{g(a)}catch(u){return gadgets.warn("Caught exception setting up RMR: "+u),!1}return!0},call:function(b,c,d){return a(b,d.s,c,d)}}}());

;gadgets.rpctx=gadgets.rpctx||{};
gadgets.rpctx.ifpc||(gadgets.rpctx.ifpc=function(){function f(a){var b=[];var d=0;for(var p=a.length;d<p;++d)b.push(encodeURIComponent(gadgets.json.stringify(a[d])));return b.join("\x26")}function g(b){for(var d=a.length-1;0<=d;--d){var c=a[d];try{if(c&&(c.recyclable||"complete"===c.readyState))if(c.parentNode.removeChild(c),window.ActiveXObject)a[d]=c=null,a.splice(d,1);else{c.recyclable=!1;var p=c;break}}catch(e){}}p||(p=document.createElement("iframe"),p.style.border=p.style.width=p.style.height=
"0px",p.style.visibility="hidden",p.style.position="absolute",p.onload=function(){this.recyclable=!0},a.push(p));p.src=b;window.setTimeout(function(){document.body.appendChild(p)},0)}function k(a,b){for(var d=b-1;0<=d;--d)if("undefined"===typeof a[d])return!1;return!0}var a=[];var b=0;var c;var h={};return{getCode:function(){return"ifpc"},isParentVerifiable:function(){return!0},init:function(a,b){c=b;c("..",!0);return!0},setup:function(a,b){c(a,!0);return!0},call:function(a,c,h){var d=gadgets.rpc.getRelayUrl(a);
++b;if(!d)return gadgets.warn("No relay file assigned for IFPC"),!1;var e=[];if(h.l){var l=[d,"#",f([c,b,1,0,f([c,h.s,"","",c].concat(h.a))])].join("");e.push(l)}else{l=[d,"#",a,"\x26",c,"@",b,"\x26"].join("");var u=encodeURIComponent(gadgets.json.stringify(h));var k=2E3-l.length;var t=Math.ceil(u.length/k);var m=0;for(var q;0<u.length;)q=u.substring(0,k),u=u.substring(k),e.push([l,t,"\x26",m,"\x26",q].join("")),m+=1}do g(e.shift());while(0<e.length);return!0},_receiveMessage:function(a,b){var c=
a[1];var d=parseInt(a[2],10);var e=parseInt(a[3],10);var l=a[a.length-1];var u=1===d;1<d&&(h[c]||(h[c]=[]),h[c][e]=l,k(h[c],d)&&(l=h[c].join(""),delete h[c],u=!0));u&&b(gadgets.json.parse(decodeURIComponent(l)))}}}());

;window.gadgets.rpc||(gadgets.rpc=function(){function f(a,b){if(!I[a]){var n=w;b||(n=L);I[a]=n;var c=K[a]||[];for(var e=0;e<c.length;++e){var d=c[e];d.t=l(a);n.call(a,d.f,d)}K[a]=[]}}function g(){function a(){T=!0}U||("undefined"!=typeof window.addEventListener?window.addEventListener("unload",a,!1):"undefined"!=typeof window.attachEvent&&window.attachEvent("onunload",a),U=!0)}function k(a,b,c,e,d){v[b]&&v[b]===c||(gadgets.error("Invalid auth token. "+v[b]+" vs "+c),M(b,2));d.onunload=function(){z[b]&&
!T&&(M(b,1),gadgets.rpc.removeReceiver(b))};g();e=gadgets.json.parse(decodeURIComponent(e))}function a(a,c){if(a&&"string"===typeof a.s&&"string"===typeof a.f&&a.a instanceof Array&&("function"!==typeof arbitrate||arbitrate(a.s,a.f)))if(v[a.f]&&v[a.f]!==a.t&&(gadgets.error("Invalid auth token. "+v[a.f]+" vs "+a.t),M(a.f,2)),"__ack"===a.s)window.setTimeout(function(){f(a.f,!0)},0);else{a.c&&(a.callback=function(b){gadgets.rpc.call(a.f,"__cb",null,a.c,b)});if(c){var n=b(c);a.origin=c;var e=a.r;e&&b(e)==
n||(e=c);a.referer=e}var d=(r[a.s]||r[""]).apply(a,a.a);a.c&&"undefined"!==typeof d&&gadgets.rpc.call(a.f,"__cb",null,a.c,d)}}function b(a){if(!a)return"";a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);-1==a.indexOf("://")&&(a=window.location.protocol+"//"+a);var b=a.substring(a.indexOf("://")+3);var c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));var n=a.substring(0,a.indexOf("://"));var e="";var d=b.indexOf(":");if(-1!=d){var f=b.substring(d+1);b=b.substring(0,d);if("http"===
n&&"80"!==f||"https"===n&&"443"!==f)e=":"+f}return n+"://"+b+e}function c(a,b){return"/"+a+(b?"|"+b:"")}function h(a){if("/"==a.charAt(0)){var b=a.indexOf("|");var c=0<b?a.substring(1,b):a.substring(1);var n=0<b?a.substring(b+1):null;return{id:c,origin:n}}return null}function d(a){if("undefined"===typeof a||".."===a)return window.parent;var b=h(a);if(b){for(var c=window;!c.frames[b.id]&&c!==window.top;)c=c.parent;return c.frames[b.id]}a=String(a);var n=document.getElementById(a);if(n&&n.contentWindow)return n.contentWindow;
n=window.frames[a];return n&&!n.closed?n:null}function m(a,b){if(!0!==z[a]){"undefined"===typeof z[a]&&(z[a]=0);var c=d(a);".."!==a&&null==c||!0!==w.setup(a,b)?!0!==z[a]&&10>z[a]++?window.setTimeout(function(){m(a,b)},500):(I[a]=L,z[a]=!0):z[a]=!0}}function q(a,c){var e=d(a);if(!y[a]||y[a]!==N&&e.Function.prototype!==y[a].constructor.prototype){var n=p(a);if(b(n)!==b(window.location.href))return y[a]=N,!1;try{y[a]=e.gadgets.rpc.receiveSameDomain}catch(X){return y[a]=N,!1}}return y[a]&&y[a]!==N?(y[a](c),
!0):!1}function p(a){var b=F[a];b&&"/"===b.substring(0,1)&&(b="/"===b.substring(1,2)?document.location.protocol+b:document.location.protocol+"//"+document.location.host+b);return b}function e(a,b,c){/http(s)?:\/\/.+/.test(b)||(0==b.indexOf("//")?b=window.location.protocol+b:"/"==b.charAt(0)?b=window.location.protocol+"//"+window.location.host+b:-1==b.indexOf("://")&&(b=window.location.protocol+"//"+b));F[a]=b;"undefined"!==typeof c&&(H[a]=!!c)}function l(a){return v[a]}function u(a,b){b=b||"";v[a]=
String(b);m(a,b)}function J(a){var b=(a.passReferrer||"").split(":",2);O=b[0]||"none";Q=b[1]||"origin"}function t(b){A(b)&&(w=gadgets.rpctx.ifpc,w.init(a,f))}function A(a){return"true"===String(a.useLegacyProtocol)}function D(a,c){function d(d){var n=d?d.rpc:{};J(n);var f=n.parentRelayUrl||"";f=b(C.parent||c)+f;e("..",f,A(n));t(n);u("..",a)}!C.parent&&c?d({}):gadgets.config.register("rpc",null,d)}function x(a,b,c){var d=null;if("/"!=a.charAt(0)){if(!gadgets.util)return;d=document.getElementById(a);
if(!d)throw Error("Cannot set up gadgets.rpc receiver with ID: "+a+", element not found.");}var f=d&&d.src;var n=b||gadgets.rpc.getOrigin(f);e(a,n);var g=gadgets.util.getUrlParameters(f);u(a,c||g.rpctoken)}function E(a,b,c){".."===a?D(c||C.rpctoken||C.ifpctok||"",b):x(a,b,c)}function B(a){if("bidir"===O||"c2p"===O&&".."===a||"p2c"===O&&".."!==a){var b=window.location.href;var c="?";if("query"===Q)c="#";else if("hash"===Q)return b;var d=b.lastIndexOf(c);d=-1===d?b.length:d;return b.substring(0,d)}return null}
var r={};var F={};var H={};var v={};var G=0;var P={};var z={};var y={};var C={};var I={};var K={};var O=null;var Q=null;var W=!!gadgets.util.getUrlParameters().parent&&window.top!==window.self;var R=window.name;var M=function(){};var S=window.console;var V=S&&S.log?function(a){S.log(a)}:function(){};var L=function(){function a(a){return function(){V(a+": call ignored")}}return{getCode:function(){return"noop"},isParentVerifiable:function(){return!0},init:a("init"),setup:a("setup"),call:a("call")}}();
gadgets.util&&(C=gadgets.util.getUrlParameters());var T=!1;var U=!1;var w=function(){return"flash"==C.rpctx?gadgets.rpctx.flash:"rmr"==C.rpctx?gadgets.rpctx.rmr:"function"===typeof window.postMessage?gadgets.rpctx.wpm:"object"===typeof window.postMessage?gadgets.rpctx.wpm:window.ActiveXObject?gadgets.rpctx.flash?gadgets.rpctx.flash:gadgets.rpctx.nix:0<navigator.userAgent.indexOf("WebKit")?gadgets.rpctx.rmr:"Gecko"===navigator.product?gadgets.rpctx.frameElement:gadgets.rpctx.ifpc}();r[""]=function(){V("Unknown RPC service: "+
this.s)};r.__cb=function(a,b){var c=P[a];c&&(delete P[a],c.call(this,b))};var N={};return{config:function(a){"function"===typeof a.securityCallback&&(M=a.securityCallback);"function"===typeof a.arbitrator&&(arbitrate=a.arbitrator)},register:function(a,b){if("__cb"===a||"__ack"===a)throw Error("Cannot overwrite callback/ack service");if(""===a)throw Error("Cannot overwrite default service: use registerDefault");var c=r[a];r[a]=b;return c},unregister:function(a){if("__cb"===a||"__ack"===a)throw Error("Cannot delete callback/ack service");
if(""===a)throw Error("Cannot delete default service: use unregisterDefault");delete r[a]},registerDefault:function(a){r[""]=a},unregisterDefault:function(){delete r[""]},forceParentVerifiable:function(){w.isParentVerifiable()||(w=gadgets.rpctx.ifpc)},call:function(a,b,d,e){a=a||"..";var f="..";".."===a?f=R:"/"==a.charAt(0)&&(f=c(R,gadgets.rpc.getOrigin(window.location.href)));++G;d&&(P[G]=d);var g={s:b,f:f,c:d?G:0,a:Array.prototype.slice.call(arguments,3),t:v[a],l:!!H[a]};var k=B(a);k&&(g.r=k);if((".."===
a||null!=h(a)||document.getElementById(a))&&!q(a,g)){var n=I[a];n||null===h(a)||(n=w);n?(H[a]&&(n=gadgets.rpctx.ifpc),!1===n.call(a,f,g)&&(I[a]=L,w.call(a,f,g))):K[a]?K[a].push(g):K[a]=[g]}},getRelayUrl:p,setRelayUrl:e,setAuthToken:u,setupReceiver:E,getAuthToken:l,removeReceiver:function(a){delete F[a];delete H[a];delete v[a];delete z[a];delete y[a];delete I[a]},getRelayChannel:function(){return w.getCode()},receive:function(b,c){4<b.length?w._receiveMessage(b,a):k.apply(null,b.concat(c))},receiveSameDomain:function(b){b.a=
Array.prototype.slice.call(b.a);window.setTimeout(function(){a(b)},0)},getOrigin:b,getTargetOrigin:function(a){var c=p(a);if(c)var d=c;else{var e=h(a);d=e?e.origin:".."==a?C.parent:document.getElementById(a).src}return b(d)},init:function(){!1===w.init(a,f)&&(w=L);W?E(".."):gadgets.config.register("rpc",null,function(a){var b=a.rpc||{};J(b);t(b)})},_getTargetWin:d,_parseSiblingId:h,ACK:"__ack",RPC_ID:R||"..",SEC_ERROR_LOAD_TIMEOUT:0,SEC_ERROR_FRAME_PHISH:1,SEC_ERROR_FORGED_MSG:2}}(),gadgets.rpc.init());

;gadgets.jazz=gadgets.jazz||{};
gadgets.jazz.contextHandlers={};
(function(){
dojo.provide("com.ibm.team.configuration.web.context.internal.openSocialContext");






var _1=com.ibm.team.configuration.web.context.ContextUtils;
var _2=com.ibm.team.repository.web.configurationManagement.CmTools;
gadgets.rpc.register("getCurrentContext_jazzFramework",function _getCurrentContext_jazzFramework(){
var _3=null;
if(_1.isCmToolsInitialized()){
_3=com.ibm.team.repository.web.configurationManagement.CmTools.getContext();
}
return _3;
});
gadgets.rpc.register("addContextHandler_jazzFramework",function _addContextHandler_jazzFramework(_4){
gadgets.jazz.contextHandlers[_4]=true;
});
if(com.ibm.team.repository.web.configurationManagement.CmTools){
_2.addOnSetContextHandler(function _addOnSetContextHandler(_5){
for(var _6 in gadgets.jazz.contextHandlers){
if(_6){
gadgets.rpc.call(_6,"currentContextChanged_innerGadget",null,_5);
}
}
});
}
})();


;(function(){
dojo.provide("com.ibm.team.configuration.web.context.ContextPickerConfigurationFilterTypes");
com.ibm.team.configuration.web.context.ContextPickerConfigurationFilterTypes={filter:"filter",validTypes:"validTypes",invalidTypes:"invalidTypes",streams:"streams",baselines:"baselines",changeSets:"changeSets",globalConfigurations:"globalConfigurations",baselineStagingStreams:"baselineStagingStreams",personalGlobalConfigurations:"personalGlobalConfigurations"};
})();


;dojo.cache("com.ibm.team.configuration.web", "context/templates/ContextPicker.html", "<div data-dojo-attach-point=\"contentNode\" class=\"gc-ContextPicker--noHeader\">	<div data-dojo-attach-point=\"topFrame\" class=\"gc-ContextPicker-header\">		<div dojoAttachPoint=\"_messageBox\" class=\"gc-ContextPicker-padding\"></div>		<div class=\"gcsdk-contentswitcher\" role=\"radiogroup\" aria-labelledby=\"${_radioGroupLabelId}\" title=\"${messages.chooseType}\" dojoAttachPoint=\"_switcher\">			<input dojoAttachEvent=\"onchange:_loadGlobalPicker\" type=\"radio\" name=\"option\" value=\"gc\" checked=\"true\" class=\"inputSpacing\" id=\"${id}_global\">			<label class=\"gc-ContextPicker-inlineLabel\" for=\"${id}_global\">				${messages.globalConfiguration}</label>			<input dojoAttachEvent=\"onchange:_loadLocalPicker\" type=\"radio\" name=\"option\" value=\"lc\" class=\"inputSpacing\" dojoAttachPoint=\"_localRadio\" id=\"${id}_local\">			<label class=\"gc-ContextPicker-inlineLabel\" for=\"${id}_local\">				<span dojoAttachPoint=\"_localLabel\">${messages.localConfiguration}</span>			</label>		</div>	</div>	<div dojoAttachPoint=\"_iframeParent\" class=\"gc-ContextPicker-iframeParent gc-ContextPicker-emptyIframeParent\">		<div dojoAttachPoint=\"_loadingMessageBox\" class=\"gc-ContextPicker-padding j-hide\"></div>		<div dojoType=\"com.ibm.team.gc.sdk.web.resources.internal.LoadingMessage\" dojoAttachPoint=\"_loadingMessage\"></div>	</div></div>");

;(function(){
dojo.provide("com.ibm.team.configuration.web.context.ContextPicker");












dojo.requireLocalization("com.ibm.team.configuration.web","ConfigurationWebMessages");














var _1=com.ibm.team.configuration.web.context.internal.GcRootServices;
var _2=com.ibm.team.configuration.web.context.internal.LocalRootServices;
var _3=com.ibm.team.configuration.web.context.internal.OslcServiceCatalog;
var _4=jazz.app.internal.applicationAbout;
var _5=com.ibm.team.configuration.web.context.ContextAPI;
var _6=com.ibm.team.configuration.web.context.ContextUtils;
var _7=com.ibm.team.configuration.web.context.ProjectAreaUtils;
var _8=jazz.ui.MessageBox.STATUS_TYPES;
var _9="projectareaUri";
var _a="doCmProjectAreaFiltering";
var _b=dojo.i18n.getLocalization("com.ibm.team.configuration.web","ConfigurationWebMessages");
var _c=com.ibm.team.configuration.web.context.ContextPickerConfigurationFilterTypes;
var _d=false;
var _e=true;
var _f="gc.ContextPicker.lastState";
var _10="gc.ContextPicker.lastState.gcPicker";
var _11="gc.ContextPicker.lastState.lcPicker";
dojo.declare("com.ibm.team.configuration.web.context.ContextPicker",[dijit._Widget,dijit._Templated],{messages:_b,widgetsInTemplate:true,templatePath:dojo.moduleUrl("com.ibm.team.configuration.web","context/templates/ContextPicker.html"),filterObject:null,projectAreaUrl:null,componentUrl:null,heading:_b.selectAConfiguration,ignoreProjectArea:false,doCmProjectAreaFiltering:true,_iframe:null,_oslcMessagesMap:{"oslc-resize":"_handleOslcResize","oslc-response":"_handleOslcResponse"},_oslcResponseMap:{"oslc:results":"_handleOslcResults"},_dialog:null,constructor:function(){
this._radioGroupLabelId=dijit.getUniqueId("gc-ContextPicker");
this._localRootServices=null;
this._gcLoadTimeout=null;
},postCreate:function(){
this._msgHandler=new jazz.ui.MessageBox();
this.own(this._msgHandler);
this._messageBox.appendChild(this._msgHandler.domNode);
this._loadingMsgHandler=new jazz.ui.MessageBox();
this.own(this._loadingMsgHandler);
this._loadingMessageBox.appendChild(this._loadingMsgHandler.domNode);
this.connect(window,"onmessage",this._onWindowMessage);
_2.loadAsync().then(this._onLoadLocalRootServices.bind(this));
},_onLoadLocalRootServices:function(_12){
this._localRootServices=_12;
var _13=this._localRootServices.getPublisher();
this._localLabel.textContent=dojo.replace(this.messages.localConfigurationTitle,[_4.getDisplayName(_13)]);
this._loadInitialPicker();
this._createDialog();
},_loadInitialPicker:function(){
var _14=this;
var _15=false;
var _16=false;
if(this.filterObject&&this.filterObject.validTypes){
_15=this.filterObject.validTypes.indexOf(_c.globalConfigurations)<0;
var _17=[_c.streams,_c.baselines,_c.changeSets];
_16=true;
for(var i=0;i<_17.length;i++){
if(this.filterObject.validTypes.indexOf(_17[i])>=0){
_16=false;
break;
}
}
}
if(!_15&&_1.isAvailable()){
if(this.ignoreProjectArea){
this._attemptToLoadGlobalPicker(_15);
return;
}
var _18=(this.projectAreaUrl)?this.projectAreaUrl:jazz.app.context.getProjectAreaUri();
if(_18){
var _19=_6.extractProjectAreaIdFromUri(_18);
var _1a=_7.isProjectAreaCmEnabled(_19);
_1a.then(function(_1b){
if(_1b){
_14._verifyProjectAreaAssociations(_15);
}else{
_14._loadLocalPicker();
}
},function(_1c,_1d){
_14._showLoadingError(dojo.replace(_14.messages.failedToValidateProjectAreaOptIn,[_18]));
});
}
}else{
if(!_16){
this._loadLocalPicker();
}else{
throw "ContextPicker: Invalid state to not present GC or LC picker";
}
}
},_verifyProjectAreaAssociations:function(_1e){
var _1f=this;
if(!this.ignoreProjectArea&&_7.enforceContributingProjectAreaAssociations()){
var _20=(this.projectAreaUrl)?this.projectAreaUrl:jazz.app.context.getProjectAreaUri();
var _21=_7.getContributingProjectAreasToServer(_1.getGcAppUri(),_20);
_21.then(function(_22){
if(_22.length>0){
_1f._attemptToLoadGlobalPicker(_1e);
}else{
dojo.removeClass(_1f.domNode,"gc-ContextPicker--noHeader");
_1f._loadLocalPicker();
}
},function(_23,_24){
_1f._showLoadingError(dojo.replace(_1f.messages.failedToValidateProjectAreaOptIn,[_20]));
});
}else{
this._attemptToLoadGlobalPicker(_1e);
}
},_attemptToLoadGlobalPicker:function(_25){
var _26=this;
if(!_25){
dojo.removeClass(_26.domNode,"gc-ContextPicker--noHeader");
}
if(_d){
_26._loadLocalPicker();
_26._localRadio.checked=true;
_26._showMessage(_26.messages.globalServiceTimeOut,_8.WARNING,_26.messages.globalServiceTimeOut$explanation,_26.messages.globalServiceTimeOut$useraction);
}else{
if(window.localStorage[_f]&&window.localStorage[_f]===_11){
_26._localRadio.checked=true;
_26._loadLocalPicker();
}else{
_26._loadGlobalPicker();
}
}
},_loadGlobalPicker:function(){
this._hideMessage();
this._globalPickerOn=true;
var _27=_1.getGcSelectionDialogUri();
if(!_27){
this._showMessage(this.messages.noGlobalServiceFoundFor,_8.ERROR);
return;
}
this._loadPicker(_27,null,null,true);
},_showLoadingError:function __showLoadingError(_28){
dojo.removeClass(this._loadingMessageBox,"j-hide");
this._loadingMessage.hide();
this._loadingMsgHandler.showMessage({type:_8.ERROR,summary:_28,closable:false});
if(dojo.config.isDebug){
console.error(_28);
}
},_showMessage:function __showMessage(_29,_2a,_2b,_2c){
if(!_2a){
_2a=_8.ERROR;
}
var _2d=null;
if(_2b){
_2d=[{message:_2b,code:_8.WARNING}];
}
if(_2c){
_2d=_2d||[];
_2d.push({message:_2c,code:_8.WARNING});
}
dojo.removeClass(this._messageBox,"j-hide");
this._msgHandler.showMessage({type:_2a,summary:_29,details:_2d,closable:false});
if(dojo.config.isDebug){
console.error(_29);
}
},_hideMessage:function ___hideMessage(){
dojo.addClass(this._messageBox,"j-hide");
this._msgHandler.hideMessage();
},_loadLocalPicker:function(){
this._hideMessage();
this._globalPickerOn=false;
this._localRadio.checked=true;
var _2e=this._localRootServices.getServiceUrl(_2.NAMESPACES.oslc_config,_2.SERVICE_NAMES.CM_SERVICE_PROVIDERS);
if(!_2e){
this._showMessage(dojo.replace(this.messages.noLocalServiceFoundFor,[_2.NAMESPACES.oslc_config+_2.SERVICE_NAMES.CM_SERVICE_PROVIDERS]),_8.ERROR);
return;
}
var _2f=_3.getConfigurationSelectionDialogArgs(_2e);
var _30=this;
_2f.then(function(_31){
if(_31){
var _32=_31.url;
var _33=(_30.projectAreaUrl)?_30.projectAreaUrl:jazz.app.context.getProjectAreaUri();
if(_33){
_32=_6._addParameterToUri(_32,_9,_33);
}
if(!_30.doCmProjectAreaFiltering){
_32=_6._addParameterToUri(_32,_a,false);
}
_30._loadPicker(_32,_31.hintHeight,_31.hintWidth);
}
},function(_34){
_30._showMessage(_34,_8.ERROR);
});
},_loadPicker:function(_35,_36,_37,_38){
this._destroyIframe();
this._loadingMessage.show();
var _39=_35;
var _3a={};
if(djConfig.isDebug){
_3a.debug=true;
}
if(this.filterObject){
_3a.filter=dojo.toJson(this.filterObject);
}
var _3b=this.ignoreProjectArea?null:this.projectAreaUrl?this.projectAreaUrl:jazz.app.context.getProjectAreaUri();
if(_7.enforceContributingProjectAreaAssociations()&&_3b){
_3a[_5.JAZZ_CONFIG_CONTEXT_PROJECT_AREA_URL_PARAMETER]=_3b;
}
if(_38){
_3a[_5.JAZZ_CONFIG_PICKER]=true;
if(_e){
_3a[_5.JAZZ_CONFIG_PICKER_FIRST_LOAD]=true;
_e=false;
}
}
var _3c=(this.componentUrl)?this.componentUrl:jazz.app.context.getComponentUri();
if(_3c){
_3a[_5.JAZZ_CONFIG_COMPONENT_PARAMETER]=_3c;
}
if(_39.indexOf("?")===-1){
_39=_39+"?"+dojo.objectToQuery(_3a);
}else{
_39=_39+"&"+dojo.objectToQuery(_3a);
}
_39=_39+"#oslc-core-postMessage-1.0";
this._iframe=dojo.create("iframe",{frameBorder:0,src:_39,title:this.messages.configurationPickerIFrameTitle});
this._iframe.style.visibility="hidden";
var _3d=this;
clearTimeout(this._gcLoadTimeout);
if(_38){
window.localStorage[_f]=_10;
this._gcLoadTimeout=setTimeout(function(){
_d=true;
_3d._localRadio.click();
_3d._showMessage(_3d.messages.globalServiceTimeOut,_8.WARNING,_3d.messages.globalServiceTimeOut$explanation,_3d.messages.globalServiceTimeOut$useraction);
},30*1000);
}else{
window.localStorage[_f]=_11;
}
this.connect(this._iframe,"onload",function(e){
clearTimeout(_3d._gcLoadTimeout);
_d=false;
dojo.removeClass(_3d._iframeParent,"gc-ContextPicker-emptyIframeParent");
_3d._loadingMessage.hide();
_3d._iframe.style.visibility="visible";
_3d._iframe.contentWindow.focus();
});
this._iframeParent.appendChild(this._iframe);
if(_36&&_37){
var _3e={"oslc:hintHeight":_36,"oslc:hintWidth":_37};
this._handleOslcResize(_3e);
}
},_createDialog:function(){
var _3f={heading:this.heading,contentNode:this.domNode,destroyContents:true,width:"","class":"gc-ContextPicker-fullBleed",contentPadding:"none"};
this._dialog=new jazz.ui.Dialog(_3f);
},_onWindowMessage:function(_40){
var _41=_40.data;
for(var key in this._oslcMessagesMap){
if(_41.indexOf(key)===0){
var _42=_41.substring(key.length+1);
var _43=dojo.fromJson(_42);
var _44=this._oslcMessagesMap[key];
dojo.hitch(this,_44,_43)();
}
}
},_handleOslcResponse:function(_45){
for(var key in this._oslcResponseMap){
if(_45[key]){
var _46=_45[key];
var _47=this._oslcResponseMap[key];
dojo.hitch(this,_47,_46)();
}
}
},_handleOslcResize:function(_48){
var _49=_48["oslc:hintWidth"];
var _4a=_48["oslc:hintHeight"];
dojo.style(this._iframe,{height:_4a,minWidth:_49});
dojo.style(this._iframeParent,{height:_4a,minWidth:Math.max(800,_49)});
var _4b=this._dialog.domNode.getBoundingClientRect();
if(_4b.left+_4b.width>document.documentElement.clientWidth){
this._dialog.updatePosition();
}
},_handleOslcResults:function(_4c){
if(_4c&&_4c.length>0){
var _4d={"uri":_4c[0]["rdf:resource"],"isGlobal":this._globalPickerOn,"label":_4c[0]["oslc:label"]};
var _4e=_4c[0]["rdf:type"];
if(_4e){
_4d.rdfType=_4e;
}else{
if(this._globalPickerOn){
_4d.rdfType="globalConfiguration";
}
}
this.onOk(_4d);
}else{
this.onCancel();
}
this._dialog.close();
},onOk:function(_4f){
},onCancel:function(){
},_destroyIframe:function(){
if(this._iframe){
this._iframe.src="about:blank";
dojo.destroy(this._iframe);
this._iframe=null;
}
},uninitialize:function(){
this._destroyIframe();
clearTimeout(this._gcLoadTimeout);
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/contextBannerButton/menuProvider/templates/CurrentContextMenuEntry.html", "<div data-dojo-attach-point=\"containerNode\" class=\"com-ibm-team-repository-CurrentContextMenuEntry\">	<div class=\"areaHeaderNode hidden\" data-dojo-attach-point=\"areaHeaderNode\">		<span class=\"areaTitleNode\" data-dojo-attach-point=\"areaTitleNode\">			${areaTitle}		</span>		<span data-dojo-attach-point=\"buttonNode\" class=\"buttonNode\">			<!-- Buttons, if any, will go here -->		</span>	</div>	<div class=\"headerNode\">		<span class=\"sectionTitleNode\">			${sectionTitle}		</span>	</div>	<div data-dojo-attach-point=\"resourceDisplayNode\" class=\"resourceDisplayNode\">		<!-- Resource to show goes here -->		<img data-dojo-attach-point=\"resourceIconNode\"></img>		<a class=\"resourceDisplayNodeAnchor\" data-dojo-attach-point=\"resourceAnchorNode\"></a>	</div>		<div class=\"nothingToShowNode\">		${nothingToShow}	</div></div>");

;

(function CurrentContextMenuEntry(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CurrentContextMenuEntry");




var _1=com.ibm.team.configuration.web.context.internal.LocalRootServices;


var _2=jazz.app.internal.applicationAbout;


dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");
var _3=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");


var _4=com.ibm.team.repository.web.configurationManagement.CmTools;


var _5=com.ibm.team.repository.web.configurationManagement.uiNodes.UiNodeFactory;


var _6=com.ibm.team.configuration.web.context.ContextPicker;
var _7=com.ibm.team.configuration.web.context.ContextPickerConfigurationFilterTypes;


var _8=com.ibm.team.repository.web.configurationManagement.CmConstants;
var _9=_8.ConfigurationTypeLiterals;
function _a(_b){
var _c=new dojo.Deferred();
jazz.client.xhrGet({url:_b,load:function(_d){
_c.callback(_d);
},error:function(_e,_f){
_c.errback(_e);
}});
return _c;
};
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CurrentContextMenuEntry",[dijit._Widget,dijit._Templated],{messages:_3,areaTitle:"",sectionTitle:null,nothingToShow:_3.none,templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/contextBannerButton/menuProvider/templates/CurrentContextMenuEntry.html"),resourceNode:null,constructor:function __currentContextMenuEntry(_10){
},postCreate:function __postCreate(){
this.createContent();
this._onContextChangehandle=_4.addOnSetContextHandler(dojo.hitch(this,this.onContextChange));
},createContent:function __createContent(){
},onContextChange:function __onContextChange(_11){
},getSwitchButton:function __getSwitchButton(_12){
var _13=this._getColouredFauxButton(_12,_3.switchButtonText,"switchButton");
return _13;
},getClearButton:function __getSwitchButton(_14){
var _15=this._getColouredFauxButton(_14,_3.clearButtonText,"clearButton");
return _15;
},_getColouredFauxButton:function _getColouredFauxButton(_16,_17,_18){
var _19=dojo.create("button",{innerHTML:_17,"class":_18+" fauxButton",onclick:_16});
return _19;
},onClickHandler:function __onClickHander(uri,evt){
if(evt.ctrlKey){
window.open(uri,"_newtab"+Math.floor(Math.random()*999999));
}else{
if(evt.shiftKey){
window.open(uri,"_blank");
}else{
window.location.href=uri;
}
}
},uninitialize:function(){
dojo.unsubscribe(this._onContextChangehandle);
}});
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ConfigurationContextMenuEntry",com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CurrentContextMenuEntry,{areaTitle:_3.configurationContext,sectionTitle:_3.globalConfigurationSection,nothingToShow:_3.none,"class":"currentContextMenuEntry com-ibm-team-repository-CurrentContextMenuEntry-configurationContextMenuEntry",postCreate:function __postCreate(){
this.inherited(arguments);
dojo.removeClass(this.areaHeaderNode,"hidden");
this._switchButton=this.buttonNode.querySelector(".switchButton");
if(this._switchButton){
this._quickSwitchButton=new com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.QuickSwitchButton();
this._quickSwitchButton.placeAt(this.buttonNode);
this.connect(this.buttonNode,"keydown",this._onSwitchButtonKeyNav);
}
},_onSwitchButtonKeyNav:function(e){
var k=e.keyCode;
if(k===dojo.keys.LEFT_ARROW||k===dojo.keys.RIGHT_ARROW){
if(document.activeElement===this._switchButton){
this._quickSwitchButton.domNode.focus();
}else{
if(document.activeElement===this._quickSwitchButton.domNode){
this._switchButton.focus();
}
}
}
},createContent:function __createContent(){
this.buttonNode.appendChild(this.getSwitchButton(function __onSwitchConfigurationContext(){
var _1a=new _6({filterObject:{validTypes:[_7.streams,_7.baselines,_7.changeSets,_7.globalConfigurations]}});
var _1b=dojo.connect(_1a,"onOk",function __onOk(_1c){
dojo.disconnect(_1b);
var _1d=_1c.rdfType;
var _1e={};
switch(_1d){
case _8.CONFIGURATION_TYPES.STREAM:
_1e.localConfigurationUri=_1c.uri;
break;
case _8.CONFIGURATION_TYPES.BASELINE:
_1e.localConfigurationUri=_1c.uri;
break;
case _9.changeSet():
_1e.changeSetUri=_1c.uri;
break;
case _9.globalConfiguration():
_1e.globalConfigurationUri=_1c.uri;
break;
default:
throw new Error("Attempted to set a new context, but the type of the object could not be determined!");
break;
}
_4.userRequestedContextChange(_1e);
});
}));
},focus:function(){
var _1f=this.buttonNode.firstElementChild;
if(_1f){
_1f.focus();
}
},isFocusable:function(){
return true;
},onContextChange:function __onContextChange(_20){
dojo.addClass(this.domNode,"nothingToShow");
if(this.resourceNode){
this.resourceNode.destroy();
this.resourceNode=null;
}
if(_20.globalConfigurationUri){
_a(_20.globalConfigurationUri);
dojo.removeClass(this.domNode,"nothingToShow");
this.resourceAnchorNode.innerHTML=_3.mustLoginToView;
this.resourceNode=jazz.ui.ResourceLink({uri:_20.globalConfigurationUri,iconNode:this.resourceIconNode,alwaysShowLargePreview:true},this.resourceAnchorNode);
var _21=dojo.connect(this.resourceNode.domNode,"onclick",dojo.hitch(this,this.onClickHandler,_20.globalConfigurationUri));
var _22=dojo.connect(this.resourceNode.destroy,function __removeHandlers(){
dojo.disconnect(_21);
dojo.disconnect(_22);
});
}
}});
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ProjectAreaConfigurationMenuEntry",com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CurrentContextMenuEntry,{areaTitle:"",sectionTitle:_3.projectAreaConfigurationSection,"class":"com-ibm-team-repository-CurrentContextMenuEntry-subsection com-ibm-team-repository-CurrentContextMenuEntry-projectAreaConfigurationMenuEntry",postCreate:function __postCreate(){
this.inherited(arguments);
dojo.removeClass(this.areaHeaderNode,"hidden");
_1.loadAsync().then(this._onLoadLocalRootServices.bind(this));
},_onLoadLocalRootServices:function(_23){
this._localRootServices=_23;
var _24=this._localRootServices.getPublisher();
this.areaTitleNode.innerHTML=_2.getDisplayName(_24);
},onContextChange:function __onContextChange(_25){
dojo.addClass(this.domNode,"nothingToShow");
if(this.resourceNode){
this.resourceNode.destroy();
this.resourceNode=null;
}
if(_25.localConfigurationUri){
_a(_25.localConfigurationUri);
dojo.removeClass(this.domNode,"nothingToShow");
this.resourceAnchorNode.innerHTML=_3.mustLoginToView;
this.resourceNode=jazz.ui.ResourceLink({uri:_25.localConfigurationUri,iconNode:this.resourceIconNode,alwaysShowLargePreview:true},this.resourceAnchorNode);
var _26=dojo.connect(this.resourceNode.domNode,"onclick",dojo.hitch(this,this.onClickHandler,_25.localConfigurationUri));
var _27=dojo.connect(this.resourceNode.destroy,function __removeHandlers(){
dojo.disconnect(_26);
dojo.disconnect(_27);
});
}
}});
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ActiveChangeSetMenuEntry",com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CurrentContextMenuEntry,{sectionTitle:_3.changesetSection,"class":"com-ibm-team-repository-CurrentContextMenuEntry-subsection com-ibm-team-repository-CurrentContextMenuEntry-activeChangesetsMenuEntry",onContextChange:function __onContextChange(_28){
dojo.addClass(this.domNode,"nothingToShow");
if(this.resourceNode){
this.resourceNode.destroy();
this.resourceNode=null;
}
if(_28.changeSetUri){
dojo.removeClass(this.domNode,"nothingToShow");
this.resourceAnchorNode.innerHTML=_3.loading;
this.resourceNode=jazz.ui.ResourceLink({uri:_28.changeSetUri,iconNode:this.resourceIconNode,alwaysShowLargePreview:true},this.resourceAnchorNode);
var _29=dojo.connect(this.resourceNode.domNode,"onclick",dojo.hitch(this,this.onClickHandler,_28.changeSetUri));
var _2a=dojo.connect(this.resourceNode.destroy,function __removeHandlers(){
dojo.disconnect(_29);
dojo.disconnect(_2a);
});
}
}});
})();


;(function CmMenuEntries(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuEntries");


var _1=jazz.ui.menu.MenuItem;


var _2=jazz.ui.menu.NodeMenuItem;


dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _3=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");
var _4=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");


var _5=com.ibm.team.repository.web.configurationManagement.CmTools;


var _6=com.ibm.team.repository.web.configurationManagement._utils.ChangeSetUtils;


var _7=com.ibm.team.repository.web.configurationManagement.dialogs.CmDialogFactory;


var _8=com.ibm.team.repository.web.configurationManagement.cache.CmCacheFactory;


var _9=com.ibm.team.repository.web.configurationManagement.CmConstants;
var _a=_9.ChangeSetStateLiterals;
var _b=_9.ConfigurationTypeLiterals;


var _c=com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ConfigurationContextMenuEntry;
var _d=com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ProjectAreaConfigurationMenuEntry;
var _e=com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ActiveChangeSetMenuEntry;
com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuEntries={getConfigurationContextMenuEntry:function __getConfigurationContextMenuEntry(){
var _f=new _c({focusable:true});
var _10=this._makeNodeMenuEntry();
_10.focus=function(){
_f.focus();
};
_10.isFocusable=function(){
return _f.isFocusable();
};
_10.addChild(_f);
return _10;
},getProjectAreaConfigurationMenuEntry:function __getProjectAreaConfigurationMenuEntry(){
var _11=new _d();
var _12=this._makeNodeMenuEntry();
_12.addChild(_11);
return _12;
},getActiveChangeSetMenuEntry:function __getActiveChangeSetMenuEntry(){
var _13=new _e();
var _14=this._makeNodeMenuEntry();
_14.addChild(_13);
return _14;
},getCreateStreamEntry:function __getCreateStreamEntry(_15,_16){
var _17={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-stream",title:_4.createStream,onClick:dojo.hitch(this,function __onClick(){
_7.getCreateStreamDialog();
})};
var _18=dojo.mixin(_17,_16&&_16.args?_16.args:{});
var _19=this._makeMenuEntry(_18,_16);
_5.addOnSetContextHandler(function __setContextCallback(_1a){
_19.set("disabled",!_1a.localConfigurationUri);
});
return _19;
},getCreateBaselineEntry:function __getCreateBaselineEntry(_1b,_1c){
var _1d={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-baseline",title:_4.createBaseline,onClick:dojo.hitch(this,function __onClick(){
_7.getCreateBaselineDialog();
})};
var _1e=dojo.mixin(_1d,_1c&&_1c.args?_1c.args:{});
var _1f=this._makeMenuEntry(_1e,_1c);
_5.addOnSetContextHandler(function __setContextCallback(_20){
_1f.set("disabled",true);
if(_20.localConfigurationUri){
_8.getConfigurationCache().get(_20.localConfigurationUri).then(function __getConf(_21){
_1f.set("disabled",_21.type!==_b.stream());
});
}
});
return _1f;
},getAcceptMenuEntry:function __getAcceptMenuEntry(_22,_23){
var _24={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-baseline",title:_4.acceptChanges,onClick:dojo.hitch(this,function __onClick(){
_7.getAcceptStreamConfirmationDialog({uri:_5.getContext().localConfigurationUri});
})};
var _25=dojo.mixin(_24,_23&&_23.args?_23.args:{});
var _26=this._makeMenuEntry(_25,_23);
_5.addOnSetContextHandler(function __setContextCallback(_27){
_26.set("disabled",true);
if(_27.localConfigurationUri){
_8.getConfigurationCache().get(_27.localConfigurationUri).then(function __getConf(_28){
_26.set("disabled",_28.type!==_b.stream());
});
}
});
return _26;
},getDeliverMenuEntry:function __getDeliverMenuEntry(_29,_2a){
var _2b={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-baseline",title:_4.deliverChanges,onClick:dojo.hitch(this,function __onClick(){
_7.getDeliverStreamConfirmationDialog({uri:_5.getContext().localConfigurationUri});
})};
var _2c=dojo.mixin(_2b,_2a&&_2a.args?_2a.args:{});
var _2d=this._makeMenuEntry(_2c,_2a);
_5.addOnSetContextHandler(function __setContextCallback(_2e){
_2d.set("disabled",true);
if(_2e.localConfigurationUri){
_8.getConfigurationCache().get(_2e.localConfigurationUri).then(function __getConf(_2f){
_2d.set("disabled",_2f.type!==_b.stream());
});
}
});
return _2d;
},getCreateChangeSetEntry:function getCreateChangeSetEntry(_30,_31){
var _32={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-create-change-set",title:_4.createChangeSet,onClick:dojo.hitch(this,function(){
_7.getCreateChangeSetDialog().then(function __onCreateStreamOk(){
if(_31&&_31.actionCallback){
_31.actionCallback();
}
});
})};
var _33=dojo.mixin(_32,_31&&_31.args?_31.args:{});
var _34=this._makeMenuEntry(_33,_31);
_5.addOnSetContextHandler(function __setContextCallback(_35){
_34.set("disabled",true);
if(_35.localConfigurationUri){
_8.getConfigurationCache().get(_35.localConfigurationUri).then(function __getConf(_36){
_34.set("disabled",_36.type!==_b.stream());
});
}
});
return _34;
},getCompleteChangesetEntry:function __getCompleteChangesetEntry(_37,_38){
var _39={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-complete-change-set",title:_4.completeChangeSet,onClick:dojo.hitch(this,function __onClick(){
_7.getCompleteChangeSetConfirmationDialog({uri:_37&&_37.id?_37.id:_5.getContext().changeSetUri});
})};
var _3a=dojo.mixin(_39,_38&&_38.args?_38.args:{});
var _3b=this._makeMenuEntry(_3a,_38);
_5.addOnSetContextHandler(function __setContextCallback(_3c){
_3b.set("disabled",true);
if(_3c.changeSetUri){
_8.getChangeSetsCache().get(_3c.changeSetUri).then(function __getConf(_3d){
_3b.set("disabled",_a.open()!=_5.talkDirectlyWithVvc?_3d.state:_3d.incomplete);
});
}
});
return _3b;
},getDeliverChangesetEntry:function __getDeliverChangesetEntry(_3e,_3f){
var _40={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-deliver-change-set",title:_4.deliverChangeSet,onClick:dojo.hitch(this,function __onClickDeliver(){
_7.getDeliverChangeSetConfirmationDialog({sourceUri:_5.getContext().changeSetUri});
})};
var _41=dojo.mixin(_40,_3f&&_3f.args?_3f.args:{});
var _42=this._makeMenuEntry(_41,_3f);
_5.addOnSetContextHandler(function __setContextCallback(_43){
_42.set("disabled",!_43.changeSetUri);
});
return _42;
},getDiscardChangesetEntry:function __getDiscardChangesetEntry(_44,_45){
var _46={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-discard-change-set",title:_4.discardChangeSet,onClick:dojo.hitch(this,function __onClickDiscard(){
_7.getDiscardChangeSetConfirmationDialog({uri:_44&&_44.uri?_44.uri:_5.getContext().changeSetUri,okCallback:function __onDiscardCallback(_47){
_5.userRequestedContextChange({localConfigurationUri:_47});
}});
if(_45&&_45.actionCallback){
_45.actionCallback();
}
})};
var _48=dojo.mixin(_46,_45&&_45.args?_45.args:{});
var _49=this._makeMenuEntry(_48,_45);
_5.addOnSetContextHandler(function __setContextCallback(_4a){
_49.set("disabled",!_4a.changeSetUri);
});
return _49;
},getLinkToChangeSetEntry:function __getLinkToChangeSetEntry(_4b,_4c){
var _4d={disabled:true,iconClass:"com-ibm-team-repository-configurationManagement-icons-link-to-change-set",title:_4.linkToChangeRequest};
var _4e=dojo.mixin(_4d,_4c&&_4c.args?_4c.args:{});
var _4f=this._makeMenuEntry(_4e,_4c);
_5.addOnSetContextHandler(function __setContextCallback(_50){
if(_50.changeSetUri){
_8.getConfigurationCache().get(_50).then(function __getConf(_51){
var _52=true;
if(_51.type==="changeset"){
_52=false;
}
dojo.set(_4f,"disabled",_52);
});
}
});
return _4f;
},_makeMenuEntry:function __makeMenuEntry(_53,_54){
if(!_53){
console.error("Could not create a menu item without the required 'args' parameter!");
return;
}
var _55=_54&&_54.makeFlush;
if(_55){
if(_53.imgClass){
delete _53.imgClass;
}
if(_53.iconClass){
delete _53.iconClass;
}
}
if(_53.title&&!_53.label){
_53.label=_53.title;
}
if(_53.imgClass&&!_53.iconClass){
_53.iconClass=_53.imgClass;
}
var _56=new _1(_53);
if(_55){
dojo.addClass(_56.domNode,"com-ibm-team-repository-configurationManagement-menuItem-make-flush");
}
if(_53.disabled){
_56.set("disabled",true);
}
return _56;
},_makeNodeMenuEntry:function __makeNodeMenuEntry(_57,_58){
var _59=new _2(_57);
return _59;
}};
})();


;(function CmMenuProvider(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuProvider");




var _1=com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuEntries;
dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");
var _2=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider","CmMenuEntryMessages");
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuProvider",com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.MenuProvider,{getBuilders:function __getBuilders(){
var _3=this.inherited(arguments);
this.getCurrentContextDetailsColumnBuilders(_3);
this.getMainColumnBuilders(_3);
return _3;
},getCurrentContextDetailsColumnBuilders:function __getCurrentContextDetailsColumnBuilders(_4){
_4.push({entries:[_1.getConfigurationContextMenuEntry()]});
_4.push({entries:[_1.getProjectAreaConfigurationMenuEntry()]});
_4.push({entries:[_1.getActiveChangeSetMenuEntry()]});
},getMainColumnBuilders:function __getMainColumnBuilders(_5){
this.getCreateConfigsSection(_5);
this.getManageChangesetsSection(_5);
},getCreateConfigsSection:function __getCreateConfigsSection(_6){
var _7=[];
_7.push(_1.getCreateStreamEntry(null,{makeFlush:true}));
_7.push(_1.getCreateBaselineEntry(null,{makeFlush:true}));
_7.push(_1.getAcceptMenuEntry(null,{makeFlush:true}));
_7.push(_1.getDeliverMenuEntry(null,{makeFlush:true}));
var _8={title:_2.createSection,entries:_7,newColumn:true};
_6.push(_8);
},getManageChangesetsSection:function __getManageChangesetsSection(_9){
var _a=[];
_a.push(_1.getCreateChangeSetEntry(null,{makeFlush:true}));
_a.push(_1.getCompleteChangesetEntry(null,{makeFlush:true}));
_a.push(_1.getDeliverChangesetEntry(null,{makeFlush:true}));
_a.push(_1.getDiscardChangesetEntry(null,{makeFlush:true}));
var _b={title:_2.manageChangeSetsSection,entries:_a};
_9.push(_b);
}});
})();


;dojo.cache("com.ibm.team.repository.web", "configurationManagement/contextBannerButton/templates/ContextBannerButton.html", "<div data-dojo-attach-point=\"contextManagementMenuContainer\" class=\"com.ibm.team.repository.configurationManagement.contextManagementMenu 	com-ibm-team-repository-configurationManagement-contextBannerButton\"	title=\"${messages.currentConfiguration}\">	<a href=\"#\" data-dojo-attach-point=\"contextManagementMenuNode\" class=\"titleNode\">		<span data-dojo-attach-point=\"contextManagementMenuTitleNode\" class=\"titleNode\">			</span>	</a></div>");

;(function ContextBannerButton(){
dojo.provide("com.ibm.team.repository.web.configurationManagement.contextBannerButton.ContextBannerButton");


dojo.requireLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");
var _1=dojo.i18n.getLocalization("com.ibm.team.repository.web.configurationManagement.contextBannerButton","CmCommonMessages");


var _2=jazz.ui.MenuPopup;


var _3=com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuProvider;


var _4=com.ibm.team.repository.web.configurationManagement.CmTools;


var _5=com.ibm.team.repository.web.configurationManagement.uiNodes.UiNodeFactory;
var _6=dojo.require("jazz.util.html");
var _7;
var _8;
dojo.declare("com.ibm.team.repository.web.configurationManagement.contextBannerButton.ContextBannerButton",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/contextBannerButton/templates/ContextBannerButton.html"),resourceLink:null,titleNode:null,menuPopup:null,_menuProvider:null,messages:_1,postCreate:function __postCreate(){
this.setLoadingNode();
this.menuPopup=new _2({menuProvider:dojo.hitch(this,this.getMenuProvider),label:_1.currentConfiguration,cacheMenu:false,injectCaret:true,align:"right",group:"jazz-app-BannerButtons"},this.contextManagementMenuNode);
var _9=this.menuPopup.domNode.querySelector(".caret");
dojo.place(_9,this.menuPopup.domNode);
var _a=this;
_4.addOnSetContextHandler(dojo.hitch(this,function __onSetContext(_b){
try{
this.setResourceNode(_b);
}
catch(error){
this.setErrorNode(error);
}
_a.menuPopup&&_a.menuPopup.close();
}));
this.subscribe(_4.BACKGROUND_ERRORS_EVENT,this._showBackgroundErrors);
},_clearBackgroundErrors:function(){
if(_7){
dojo.destroy(_7);
_7=null;
}
if(_8){
_8.destroyRecursive();
_8=null;
}
},_showBackgroundErrors:function(_c){
if(_c.length===0){
this._clearBackgroundErrors();
return;
}
if(!_7){
var _d=document.querySelector("[dojoattachpoint=\"_bannerRight\"] .jazz-app-BannerButtons");
if(!_d){
console.warn(_c);
if(dojo.config.isDebug){
alert("Failed to find banner area to add GCM background errors.");
}
return;
}
_7=dojo.create("img",{src:dojo.moduleUrl("com.ibm.team.repository.web","configurationManagement/graphics/carbon-warning.svg"),className:"config-warning",alt:"",tabIndex:"0",role:"button","aria-label":this.messages.configurationCacheErrorsAriaLabel},_d,"first");
var _e=this;
this.connect(_7,"ondijitclick",function(e){
if(_e.errorHoverPopup){
_e.errorHoverPopup.open();
}
});
dojo.style(_7,{verticalAlign:"middle",cursor:"pointer"});
}
if(_8){
_8.destroyRecursive();
}
_8=new jazz.ui.HoverPopup({around:_7,orientation:"V",createContents:this._createBackgroundErrorPopupContent.bind(this,_c)});
},_createBackgroundErrorPopupContent:function(_f){
var _10=dojo.create("div");
var _11=dojo.create("p",{},_10);
_11.innerHTML=this._asHtmlMessageWithId(this.messages.staleCacheGlobalConfigurationWarning);
var _12=dojo.create("ul",{className:"j-hint"},_10);
for(var i=0;i<_f.length;i++){
var _13=_f[i];
dojo.create("li",{innerHTML:this._asHtmlMessageWithId(_13)},_12);
}
return _10;
},_asHtmlMessageWithId:function(_14){
_14=_14.trim();
var m=/(CRJAZ....[EIW]) (.+)/.exec(_14);
if(!m){
return _6.escape(_14);
}else{
return dojo.replace("{0} <span class=\"j-hint\">{1}</span>",[m[2],m[1]]);
}
},getMenuProvider:function __getMenuProvider(){
if(!this._menuProvider){
this._menuProvider=new _3();
this._menuProvider._currentMenu=null;
}
if(this.menuPopup){
this.menuPopup.cacheMenu=true;
}
this._menuProvider.build();
return this._menuProvider;
},setMenuProvider:function __setMenuProvider(_15){
if(this._menuProvider){
this._menuProvider.destroyRecursive();
}
if(this.menuPopup){
this.menuPopup.cacheMenu=false;
}
this._menuProvider=_15;
},setLoadingNode:function __setLoadingNode(){
this._removeDisplayNode();
var _16=dojo.create("span",{innerHTML:_1.loading});
dojo.place(_16,this.contextManagementMenuTitleNode,"only");
},setErrorNode:function __setErrorNode(_17){
this._removeDisplayNode();
var _18=dojo.create("span",{innerHTML:_17.toString()});
dojo.place(_18,this.contextManagementMenuTitleNode,"only");
},setResourceNode:function __setResourceNode(_19){
this._removeDisplayNode();
var _1a;
if(_19.globalConfigurationUri){
_1a=_5.getGlobalConfigurationUiNode({uri:_19.globalConfigurationUri,includeLink:false});
}else{
if(_19.changeSetUri){
_1a=_5.getChangeSetUiNode({uri:_19.changeSetUri,includeLink:false});
}else{
if(_19.localConfigurationUri){
_1a=_5.getConfigurationUiNode({uri:_19.localConfigurationUri,includeLink:false});
}else{
console.error("Unrecognized context in ContextBannerButton.setResourceNode:",_19);
throw new Error("An unrecognized configuration was provided");
}
}
}
var _1b=dojo.connect(_1a,"onClick",dojo.hitch(this,function __onClickOpenBannerButton(_1c){
dojo.stopEvent(_1c);
this.menuPopup.open();
}));
var _1d=dojo.connect(this,"_removeDisplayNode",function(){
dojo.disconnect(_1b);
dojo.disconnect(_1d);
});
dojo.place(_1a.domNode?_1a.domNode:_1a,this.contextManagementMenuTitleNode,"only");
},_removeDisplayNode:function __removeDisplayNode(){
}});
})();

dojo.provide("com.ibm.team.rtc.web.ui.internal.widgets.nls.Messages")._built=true;
dojo.provide("com.ibm.team.rtc.web.ui.internal.widgets.nls.Messages.en_us");
com.ibm.team.rtc.web.ui.internal.widgets.nls.Messages.en_us={"EwmContextBannerButton_No_GC_Selected_Indicator":"\x3cDefault configurations\x3e","EwmContextBannerButton_No_GC_Selected":"\x3cNo Configuration\x3e","EwmContextBannerButton_No_GC_Selected_title":"A global configuration is inferred by the system based on work item attribute values and the OSLC attribute mappings and release associations to global configurations of the project area. You may select another global configuration using the dropdown."};

;dojo.provide("com.ibm.team.rtc.web.ui.internal.widgets.EwmContextBannerButton");




dojo.requireLocalization("com.ibm.team.rtc.web.ui.internal.widgets","Messages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.rtc.web.ui.internal.widgets","Messages");
var _2=com.ibm.team.repository.web.configurationManagement.contextBannerButton.ContextBannerButton;
dojo.declare("com.ibm.team.rtc.web.ui.internal.widgets.EwmContextBannerButton",_2,{setResourceNode:function(_3){
if(_3.globalConfigurationUri==null||_3.globalConfigurationUri.length===0){
this._removeDisplayNode();
var _4=dojo.create("span");
_4.textContent=_1.EwmContextBannerButton_No_GC_Selected_Indicator;
_4.title=_1.EwmContextBannerButton_No_GC_Selected_title;
dojo.place(_4,this.contextManagementMenuTitleNode,"only");
return;
}
this.inherited("setResourceNode",arguments,[_3]);
}});
})();


;(function(){
dojo.provide("com.ibm.team.configuration.web.context.GcPicker");




var _1=com.ibm.team.configuration.web.context.internal.GcRootServices;
dojo.declare("com.ibm.team.configuration.web.context.GcPicker",[com.ibm.team.configuration.web.context.ContextPicker],{_loadInitialPicker:function(){
if(!_1.isAvailable()){
this._showLoadingError(this.messages.noGlobalServiceFound);
return;
}
this._loadGlobalPicker();
}});
})();


;dojo.provide("com.ibm.team.rtc.web.ui.internal.widgets.EwmConfigurationContextMenuEntry");


(function(){










var _1=com.ibm.team.repository.web.configurationManagement.contextBannerButton.menuProvider.ConfigurationContextMenuEntry;
var _2=com.ibm.team.repository.web.configurationManagement.CmTools;
var _3=com.ibm.team.configuration.web.context.ContextPickerConfigurationFilterTypes;
var _4=com.ibm.team.configuration.web.context.GcPicker;
var _5=com.ibm.team.repository.web.configurationManagement.CmConstants;
var _6=_5.ConfigurationTypeLiterals;
dojo.declare("com.ibm.team.rtc.web.ui.internal.widgets.EwmConfigurationContextMenuEntry",_1,{createContent:function __createContent(){
this._createPicker();
this.clearButton=this.getClearButton(function __onClearConfiguration(){
var _7=_2.getContext();
if(_7.globalConfigurationUri){
delete _7.globalConfigurationUri;
}
_2.userRequestedContextChange(_7);
});
this.containerNode.appendChild(this.clearButton);
},onContextChange:function __onContextChange(_8){
this.inherited(arguments,[_8]);
if(_8.globalConfigurationUri){
dojo.style(this.clearButton,"display","");
dojo.style(this.resourceDisplayNode,"display","");
if(this.resourceAnchorNode!=null&&this.resourceAnchorNode.parentNode==null){
dojo.place(this.resourceAnchorNode,this.resourceIconNode,"after");
}
}else{
dojo.style(this.clearButton,"display","none");
dojo.style(this.resourceDisplayNode,"display","none");
}
},_createPicker:function __createPicker(){
this.buttonNode.appendChild(this.getSwitchButton(function __onSwitchConfigurationContext(){
var _9=new _4({filterObject:{validTypes:[_3.globalConfigurations]}});
var _a=dojo.connect(_9,"onOk",function __onOk(_b){
dojo.disconnect(_a);
var _c=_b.rdfType;
var _d={};
switch(_c){
case _6.globalConfiguration():
_d.globalConfigurationUri=_b.uri;
break;
default:
throw new Error("Attempted to set a new context, but the type of the object could not be determined!");
break;
}
_2.userRequestedContextChange(_d);
});
}));
}});
})();


;dojo.provide("com.ibm.team.rtc.web.ui.internal.widgets.EwmMenuProvider");






(function(){
var _1=com.ibm.team;
var _2=_1.repository.web.configurationManagement.contextBannerButton.menuProvider.CmMenuProvider;
var _3=_1.rtc.web.ui.internal.widgets.EwmConfigurationContextMenuEntry;
var _4=jazz.ui.menu.NodeMenuItem;
dojo.declare("com.ibm.team.rtc.web.ui.internal.widgets.EwmMenuProvider",_2,{getCurrentContextDetailsColumnBuilders:function(_5){
var _6={};
_6.entries=[this.createContextMenuEntry()];
_5.push(_6);
},getMainColumnBuilders:function(_7){
},createContextMenuEntry:function(){
var _8=new _3();
var _9=this._makeNodeMenuEntry();
_9.focus=function(){
_8.focus();
};
_9.isFocusable=function(){
return _8.isFocusable();
};
_9.addChild(_8);
return _9;
},_makeNodeMenuEntry:function(){
var _a={label:""};
return new _4(_a);
}});
})();


;dojo.provide("com.ibm.team.calm.foundation.web.client.linktypes.ProjectLinkTypes");
(function(){
dojo.declare("com.ibm.team.calm.foundation.web.client.linktypes.ProjectLinkTypes",null,{"-chains-":{constructor:"manual"},isManagedLocally:function(){
return this.managedLocally;
},setManagedLocally:function(_1){
this.managedLocally=_1;
},getLinkTypes:function(){
return this.linkTypes;
},setLinkTypes:function(_2){
this.linkTypes=_2;
},constructor:function(_3,_4){
this.managedLocally=_3;
this.linkTypes=_4;
}});
})();


;dojo.provide("com.ibm.team.calm.foundation.web.client.linktypes.ArtifactType");
(function(){
dojo.declare("com.ibm.team.calm.foundation.web.client.linktypes.ArtifactType",null,{"-chains-":{constructor:"manual"},constructor:function(_1,id,_2,_3){
this.label=_1;
this.id=id;
this.filterWidgetClass=_2;
this.validTargets=_3;
},getLabel:function(){
return this.label;
},setLabel:function(_4){
this.label=_4;
},getId:function(){
return this.id;
},setArtifactTypeId:function(id){
this.id=id;
},getFilterWidgetClass:function(){
return this.filterWidgetClass;
},setFilterWidgetClass:function(_5){
this.filterWidgetClass=_5;
},getValidTargets:function(){
return this.validTargets;
},setValidTargets:function(_6){
this.validTargets=_6;
}});
})();


;dojo.provide("com.ibm.team.calm.foundation.web.client.linktypes.ArtifactTypeDescriptor");
(function(){
dojo.declare("com.ibm.team.calm.foundation.web.client.linktypes.ArtifactTypeDescriptor",null,{"-chains-":{constructor:"manual"},constructor:function(id,_1){
this.id=id;
this.filter=_1;
},getId:function(){
return this.id;
},setArtifactTypeId:function(id){
this.id=id;
},getFilter:function(){
return this.filter;
},setFilter:function(_2){
this.filter=_2;
}});
})();


;dojo.provide("com.ibm.team.calm.foundation.web.client.linktypes.LinkType");
(function(){
dojo.declare("com.ibm.team.calm.foundation.web.client.linktypes.LinkType",null,{"-chains-":{constructor:"manual"},constructor:function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){
this.label=_1;
this.iconUri=_2;
this.reverseLabel=_3;
this.reverseIconUri=_4;
this.propertyUri=_5;
this.linkTypeOwner=_7;
this.description=_6;
this.source=_8;
this.target=_9;
this.internalId=_a;
this.includedInProject=_b;
this.modifiable=_c;
},getLinkTypeOwner:function(){
return this.linkTypeOwner;
},getLabel:function(){
return this.label;
},setLabel:function(_d){
this.label=_d;
},getIconUri:function(){
return this.iconUri;
},setIconUri:function(_e){
this.iconUri=_e;
},getReverseLabel:function(){
return this.reverseLabel;
},setReverseLinkLabel:function(_f){
this.reverseLabel=_f;
},getReverseIconUri:function(){
return this.reverseIconUri;
},setReverseIconUri:function(_10){
this.reverseIconUri=_10;
},getPropertyUri:function(){
return this.propertyUri;
},setPropertyUri:function(_11){
this.propertyUri=_11;
},getDescription:function(){
return this.description;
},setDescription:function(_12){
this.description=_12;
},getSource:function(){
return this.source;
},setSource:function(_13){
this.source=_13;
},getTarget:function(){
return this.target;
},setTarget:function(_14){
this.target=_14;
},getInternalId:function(){
return this.internalId;
},setInternalId:function(_15){
this.internalId=_15;
},isModifiable:function(){
return this.modifiable;
},isIncludedInProject:function(){
return this.includedInProject;
},setIncludedInProject:function(_16){
this.includedInProject=_16;
}});
})();


;dojo.provide("com.ibm.team.calm.foundation.web.linktypes.internal.LinkTypesUtil");








(function(){
var _1=com.ibm.team.calm.foundation.web.client.linktypes;
var _2=_1.ArtifactType;
var _3=_1.ArtifactTypeDescriptor;
var _4=_1.LinkType;
var _5=_1.ProjectLinkTypes;
var _6=dojo.declare("com.ibm.team.calm.foundation.web.linktypes.internal.LinkTypesUtil",null,{"-chains-":{constructor:"manual"}});
_6.createArtifactTypeDescriptorFromDTO=function(_7){
if(_7===undefined||_7==null){
return undefined;
}
return new _3(_7.id,_7.filter);
};
_6.createLinkArtifactTypeFromDTO=function(_8){
return new _2(_8.label,_8.id,_8.filterWidgetClass,dojo.map(_8.validTargets,function(_9,_a,_b){
return new _3(_9.id,_9.filter);
}));
};
_6.createLinkTypeFromDTO=function(_c){
return new _4(_c.label,_c.iconUri,_c.reverseLabel,_c.reverseIconUri,_c.propertyUri,_c.description,_c.linkTypeOwner,_6.createArtifactTypeDescriptorFromDTO(_c.source),_6.createArtifactTypeDescriptorFromDTO(_c.target),_c.internalId,_c.includedInProject,_c.isModifiable);
};
_6.createProjectLinkTypesFromDTO=function(_d){
var _e=[];
var _f=_d.linkTypes;
var _10=_f.length;
for(var _11=0;_11<_10;_11++){
var _12=_f[_11];
_e.push(_6.createLinkTypeFromDTO(_12));
}
var _13=new _5(_d.manageIncludedProjects,dojo.map(_d.linkTypes,function(_14,_15,_16){
return _6.createLinkTypeFromDTO(_14);
}));
return _13;
};
})();


;dojo.provide("com.ibm.team.calm.foundation.web.client.CALMFoundationClient");










(function(){
var _1=com.ibm.team;
var _2=_1.calm.foundation.web;
var _3=_2.client.linktypes.ProjectLinkTypes;
var _4=_2.linktypes.internal.LinkTypesUtil;
var _5=_1.repository.web.transport;
var _6=_5.ServiceRequest;
var _7=_5.ServiceResponseHandler;
var _8=_5.TeamServerClient;
var _9=dojo.declare("com.ibm.team.calm.foundation.web.client.CALMFoundationClient",null,{"-chains-":{constructor:"manual"}});
_9.SERVICE_INTERFACE="com.ibm.team.calm.foundation.server.internal.rest.ICALMFoundationRestService";
_9.SERVICE_INTERFACE_LINKTYPES="com.ibm.team.calm.foundation.common.internal.rest.ILinkTypeRestService";
_9.getPickerDescription=function(_a,_b){
_9.invokeService("getPickerDescription",_a,_b);
};
_9.getAllPickerDescriptions=function(_c,_d){
_9.invokeService("getAllPickerDescriptions",_c,_d);
};
_9.getServiceProviders=function(_e,_f){
_9.invokeService("getServiceProviders",_e,_f);
};
_9.getRDFResource=function(_10,_11){
_9.invokeService("getRDFResource",_10,_11);
};
_9.getResource=function(_12,_13){
_9.invokeService("getResource",_12,_13);
};
_9.postResource=function(_14,_15){
_9.invokeService("postResource",_14,_15);
};
_9.invokeService=function(_16,_17,_18){
var _19=new _6(_9.SERVICE_INTERFACE,_16,_18);
_8.invokeService(_19,_17);
};
_9.invokeLinkTypeService=function(_1a,_1b,_1c){
var _1d=new _6(_9.SERVICE_INTERFACE_LINKTYPES,_1a,_1c);
_8.invokeService(_1d,_1b);
};
_9.getAssertLicense=function(_1e,_1f){
_9.invokeService("getAssertLicense",_1e,_1f);
};
_9.postBackLinks=function(_20,_21){
_9.invokeService("postBackLinks",_20,_21);
};
_9.getResourceTestResults=function(_22,_23){
_9.invokeService("getResourceTestResults",_22,_23);
};
_9.postLinkTypes=function(_24,_25){
var _26={};
_26.projectAreaItemId=_25.projectAreaItemId;
_26.isManagedLocally=_25.isManagedLocally;
_26.localProjectLinkTypeIds=_25.localProjectLinkTypeIds;
_26.contentModifiedLinkTypes=dojo.toJson(_25.contentModifiedLinkTypes,false);
_26.addedLinkTypes=dojo.toJson(_25.addedLinkTypes,false);
_26.deletedLinkTypeIds=_25.deletedLinkTypeIds;
_9.invokeLinkTypeService("postLinkTypes",_24,_26);
};
_9.getLinkArtifactTypes=function(_27){
var _28=function(_29){
var _2a=dojo.map(_29,function(_2b,_2c,_2d){
return _4.createLinkArtifactTypeFromDTO(_2b);
});
_27.doCallback(_2a);
};
var _2e=function(_2f){
_27.doErrorCallback(_2f);
};
var _30=new _7({"onSuccess":_28,"onFailure":_2e},"onSuccess","onFailure");
_9.invokeLinkTypeService("getAllArtifactTypes",_30,undefined);
};
_9.postGetProjectLinkTypes=function(_31,_32){
_9.invokeLinkTypeService("getAllLinkTypes",_31,_32);
};
_9.postGetAllLinkTypes=function(_33,_34){
var _35=function(_36){
var _37=false;
var _38=[];
if(_36!==undefined&&_36!=null){
if(_36.linkTypes!==undefined){
var _39=_36.linkTypes;
var _3a=_39.length;
for(var _3b=0;_3b<_3a;_3b++){
var dto=_39[_3b];
_38.push(_4.createLinkTypeFromDTO(dto));
}
}
_37=_36.manageIncludedProjects;
}
var _3c=new _3(_37,_38);
_33.doCallback(_3c);
};
var _3d=function(_3e){
_33.doErrorCallback(_3e);
};
var _3f=new _7({"onSuccess":_35,"onFailure":_3d},"onSuccess","onFailure");
_9.postGetProjectLinkTypes(_3f,_34);
};
})();

dojo.provide("com.ibm.team.scm.web.internal.nls.Messages")._built=true;
dojo.provide("com.ibm.team.scm.web.internal.nls.Messages.en_us");
com.ibm.team.scm.web.internal.nls.Messages.en_us={"Component_Menu_CodeReviews":"Code Reviews","QueryLookup_Baseline_Title":"Select a Baseline query","Search_result_components_with_search_criteria":"Components that match the search criteria","ChangeSetDiffView_file_version_after":"After: Version ID ${0}","LocateChangeSetView_SearchTargetResultText":"${0} of ${1} change sets included","ContextView_labelName":"Name","CodeReviewPage_Title":"Code Review: Work Item ${0}","util_iconGitWelcomeDescription":"Git","ReadAccessPermissionDialog_PrivateDescription":"Only you will have access to the repository workspace. The repository workspace won\'t show up in searches. However change sets in the public components will be visible to others.","ContextView_RepositoryFilesView":"Repository Files","CompareContextsView_tabIncoming":"Only in \"${0}\"","FileDiffView_sideBySideCompareTooltip":"Show a side by side comparison of the change to ${0}","ResourcesEditor_titleUploadSingleFile":"Upload new content","Scm_extended_attribute_definition_attribute_applyto_changeset_label":"Change Sets","GraphicalBaselines_TagFilterType_Tag":"Tags","Search_result_baseline_with_search_criteria":"Baselines that match the search criteria","ContextView_projectMismatchForSreams":"This stream belongs to ${0} project. Click here to open the stream in that context.","ContextView_labelNoSnapshots":"No snapshots.","WorkspaceHistory_Rollback_Component":"Rollback Component","Search_result_components":"Search results for components","WorkspaceHistory_ChangesAcceptedFromStream":"Changes were accepted from stream ","Search_page_change_addKind_label":"Add","Links_validity_hist_date":"Set on","ScmPageView_checking_license":"Checking license...","ContextView_Select":"\x3cselect\x3e","Links_Report_NoLinks_Found":"No files with a link to an artifact were found.","ContextView_ExcludedComponentsInHierarchy":"Components that are part of a component hierarchy are excluded from the snapshot even though they might have baselines automatically created for them.\n\nDo you want to continue?","SelectBaselineWidget_FilterMode_Heading":"Filter baselines by: ","ContextView_labelNoCustomAttributes":"No custom attributes.","ContextView_labelDescription":"Description: ","UserSelectionWidget_SelectAllUsers":"All Users","BaselineHistoryGraphViewHandler_BaselineComponentRemoved":"The component was removed by ${0} on ${1}.","UploadItem_labelAction":"Action","Search_items_per_page_label":"Items Per Page:","ScmPageController_file_content_loading":"Loading","LocateChangeSetView_AddWorkitemsLabel":"Add work items...","SelectBaselineWidget_ContextFilter_Title":"Showing baselines ","CreateSnapshotDialog_SelectAll":"Select All","AddComponentWizard_InaccessibleSubcomponentsInWorkspaceDialogMessage":"The component hierarchy could not be added or replaced because there are inaccessible subcomponents that exist in the source repository workspace.","ContextView_tabOverview":"Overview","WorkspaceHistory_CreatedSnapshotUnknown":"Created snapshot","Links_validated_links":"Valid links","ContextView_ReplaceOrSkipComponentInWorkspace":"The selected component \'${0}\' is already in this repository workspace. Do you want to add all the components and replace any components that already exist, or skip the components that already exist and add only the new components?","ContextView_CompareWithSnapshotHover":"Compare with Snapshot","UploadItem_labelLastModifiedBy":"Last modified by:","FileFolderContentView_contentNotDisplayable":"Can not display file content. Reason: ${0}","Links_suspect_label":"suspect","Search_workspaces_text":"Search Workspaces","SimpleTextInputDialog_labelOk":"OK","AddComponentWizard_InaccessibleSubcomponentsNotInWorkspaceDialogMessage":"The component hierarchy that is being added or replaced has inaccessible subcomponents that do not exist in the source repository workspace.\n\nDo you want to skip these inaccessible subcomponents and add or replace the remaining components in the hierarchy?","WorkspaceHistory_DiscardedBasisInComponentsSummary":"Suspended or discarded changes from ${0} components","CheckInHistoryViewer_stateType_final":"Final - ${0}","Links_save_error":"CRRTC5160E The link validity could not be set for the artifact: ${0}","Search_result_workspaces":"Search results for workspaces","Search_page_process_area_input_label":"Owning Project or Team Area:","WorkspaceHistory_ChangeSetsRemoved":"Removed content","ResourcesEditor_titleAddSingleFolder":"New folder","ContextView_SnapshotHover":"Create Snapshot","ResourcesEditor_progressRemoveWorkItem":"Removing work item...","SimpleHistoryGraphView_RemoveWorkspace_label":"Remove Workspace","ContextView_labelBaselines":"Baselines","UploadItem_labelAddFile":"Add file:","SelectBaselineWidget_ShowMore_Link_Label":"Show More","ContextView_labelFlowTargets":"Flow Targets","util_iconBinaryDescription":"Binary file","Component_menu_group_max":"${0}, maximum","FilesFoldersView_FileLocked_CannotBeDeleted":"This file cannot be deleted as it is locked by ${0}.","GraphicalBaselines_CompareMenuItem":"Compare","Scm_welcome_page_manage_work1":"Use the \x3cb\x3enavigation bar drop-down menu\x3c/b\x3e to create resources or to access existing resources.","util_iconHistoryDescription":"History view","BaselineHistoryGraphViewHandler_BaselineReleasesLabel":"Releases:","Scm_extended_attribute_definition_deletedescription":"Delete Attribute.","WorkitemAndChangeRequestViewer_WorkItem_labelRemove":"Remove work item","Scm_welcome_page_manage_work3":"Track resources available from \x3cb\x3enavigation bar drop-down menu\x3c/b\x3e and ${0} ${1}.","ContextView_CompareComponentWithCurrentBaseline":"Current Baseline","Scm_welcome_page_manage_work2":"Search for resources with \x3cb\x3equick search\x3c/b\x3e.","LocateChangeSetView_CsNotIncludedText":"Change Sets Not Included","Context_Compare_BaselineIdAndName":"${0}: ${1}","util_iconUnlockDescription":"Unlock","Search_advanced":"Advanced...","ContextView_DeleteStreamWithBackup":"Create a backup snapshot associated with a different repository workspace or stream.","LocateChangeSetView_SelectChangeSetText":"Select the change sets you would like to search for.","FileFolderProp_VersionId":"Version","ContextView_ReplaceComponentsInStream":"All of the selected components are already in this stream. Continue with replacing the components?","Search_snapshots_text":"Search Snapshots","SelectComponentSourceWizard_Snapshot":"Components from a snapshot","AddComponentWizard_InaccessibleSubcomponentNotInWorkspaceDialogMessage":"The component hierarchy that is being added or replaced has an inaccessible subcomponent that does not exist in the source repository workspace.\n\nThe UUID of the inaccessible subcomponent is: ${0}.\n\nDo you want to skip this inaccessible subcomponent and add or replace the remaining components in the hierarchy?","ContextView_labelNewComponent":"${0} (to add)","ResourcesEditor_titleDeleteSingleFolder":"Click Save to confirm delete.","OwnerSelectionDialog_ProcessAreaNotSelected":"\x3cNo process area selected\x3e","SelectOrCreateWorkitemDialog_OK":"OK","ContextView_tabBaselines":"Baselines","Search_page_beforeDate_input_label":"Created Before:","Search_items_per_page_25":"25","Search_page_component_input_label_ForStreams":"Has Component:","FileDiffView_Renamed":"renamed from ${0}","FilesFoldersView_DefaultTabTitleOverview":"Overview","ConfigurationManagementPage_ConfigurationManagementInprogress":"This project area is in the process of enabling configuration management.","Search_result_streams":"Search results for streams","CheckInHistoryViewer_stateType_rename":"Rename","DateRangeWidget_SelectCustom":"Range","ReadAccessPermissionDialog_SearchProcessAreaLabel":"Enter a name to find the project areas. Use * and ? as wild card characters.","Search_result_progress":"Searching for ${0}...","ContextView_Snapshot":"snapshot","Scm_extended_attribute_definition_attribute_addattribute_button_label":"Add..","BaselineHistoryGraphViewHandler_BaselineTagsLabel":"Tags:","CheckInHistoryViewer_tableTitle":"Check-in History: ${0}","ContextView_NewStreamName":"New Stream Name","GraphicalBaselines_TagFilterType_BLNAME_Description":"Specify the first few letters of a baseline name. Only baselines that start with that text are displayed.","ReadAccessPermissionDialog_AccessGroupNotSelected":"\x3cNo access group selected\x3e","Scm_welcome_page_show_me":"Show me \x3e","UploadItem_labelModifiedByAndWhen":"${0}  on  ${1}","FileFolderPropName_NotExecutable":"Executable: false","Scm_extended_attribute_definition_attribute_applyto_file_label":"Files","ContextView_MissingProjectAreaMsg":"Custom Attributes: The project area is missing.","ContributorSelector_cancel":"Cancel","BaselineHistoryGraphViewHandler_BaselineIterations":"The baseline is contained in snapshots associated with the following iterations: ","CheckInHistoryViewer_versionIdColumnTitle":"Version","contextView_saveBaselineStatusMsg":"Saving Baseline..","Search_page_change_modifyKind_label":"Modify","ControlView_Pending":"Pending...","FileSizeUnit_Bytes":"${0} Bytes","CheckInHistoryViewer_stateType_undo":"Undo","Scm_extended_attribute_definition_table_edit_attribute_summary":"Use the following form to edit a custom attribute.","StreamWorkspaceView_file_size_too_big":"This file is ${0} in size and has ${1} lines.  It is too large to be displayed in its entirety on a single page; the last line displayed may be truncated.  To see the content in its entirety, please consider \x3ca href=\"${2}\"\x3edownloading\x3c/a\x3e the file.","Search_page_custom_attributes_add_citeria_button_label":"Add","GraphicalBaselines_TagFilterType_BLNAME":"Name","UploadItem_labelLineDelimiter":"Line Delimiter:","GraphicalBaselines_TagFilter_Tag_Placeholder":"Type your filter here.","ContextView_labelReplaceComponentFromWorkspace":"${0} (to replace from ${1})","UploadItem_labelBusyUploading":"Uploading...","WorkspaceHistory_UnableToCreateWorkspace":"Unable to create repository workspace.","ReadAccessPermissionDialog_labelOk":"OK","GraphicalBaselines_TagFilterType_Release":"Release","ReplaceComponentWizard_ComponentInMultipleHierarchies":"The component \'${0}\' that will be replaced exists in multiple hierarchies. Do you want to continue?","ResourcesEditor_PromptTooBig":"The size of this resource is ${0}. Loading the content in the text editor may take a long time. Click OK to continue, or Cancel to leave the resource unchanged.","BaselineHistoryGraphViewHandler_BaselineReceivedFromLabel":"Received from:","util_iconStreamsDescription":"Streams","LocateChangeSetView_AddSnpshotsText":"Add Snapshots...","GraphicalBaselines_TagFilterType_Release_Description":"Specify a release. Only baselines associated with the release are displayed.","SelectBaselineWidget_3":"Start typing to filter by baseline name.","SelectBaselineWidget_2":"Baselines:","SelectBaselineWidget_4":"Replace with baseline hierarchy","FileDiffView_final_content_deleted":"Cannot display text comparison because final content is deleted.","ChangeSetsViewer_noComment":"\x3cNo Comment\x3e","WorkspaceHistory_AllUsers":"All Users","Search_items_per_page_50":"50","ComponentHistoryView_ShowBaselines":"Show Baselines","AutoMatchInputBox_Item_With_Owner":"${0}\xa0\xa0(${1})","Search_result_column_owner":"Owner","SelectBaselineWidget_1":"for component \"${0}\" ","Links_validity_status_menu_label":"Link is ${0}","ContextView_DeleteStream_Dialog_Title":"Confirm Delete","FileFolderPropName_ContentType":"Content Type: ${0}","Scm_landing_page_no_workspaces":"No workspace found.","ShowBaselineHierarchyWidget_DisplayString":"${0} (${1}: ${2})","ContextView_visibility_projectAreaName":"Project Scoped (${0})","util_iconDownloadDescription":"Download","ComponentHistoryView_UserColumn":"Creator","util_iconRemoveDescription":"Remove","ContextView_Component":"component","Scm_extended_attribute_definition_edit_confirm":"Existing artifacts that have the \'${0}\' attribute will not be updated. The changes you make will only be applied to new artifacts. \x3cbr\x3eDo you want to continue?","WorkspaceHistory_SuspendNComponents":"Suspended changes from ${0} components","CreateSnapshotDialog_ForceCreateBaselineLabel":"Create new baselines, even for unchanged components","Search_type_tooltip":"Search ${0} by Name","WorkspaceHistory_OpenChangeSummary":"Open Change Summary","ConfigurationManagementPage_EnableConfigurationManagementConfirmDialogText":"After you enable configuration management, you cannot disable it. Before you continue, ensure that you have a backup.\n\nDo you want to continue?","Scm_welcome_page_search":"Advanced search","GraphicalBaselines_labels_BaselineTags":"Baseline tags","Scm_extended_attribute_definition_attributeslabel":"Attributes","ScmPageView_No_Read_Access_With_Args":"You do not have a license that grants you read access to the Source Control web user interface:${0} - Error code ${1}","ContextView_LabelDefaultFlow":"Default Flow","WorkspaceHistory_CommitChangeSet":"Checked-in changes to component \'${0}\'","ReadAccessPermissionDialog_ComponentAccessGroupDescription":"Every member of the access group, or member of a project or team area in the access group, will be able to see the files, folders and change sets in this component.","Context_Compare_retrieving":"Retrieving Comparison...","CreateSnapshotDialog_Note":"Note:","FileDiffView_hide_comparison":"[Hide Comparison]","util_iconGitBrowseDescription":"Browse Git repositories","GC_not_selected_message":"\x3cNo global configuration is selected.\x3e","BaselineHistoryGraphViewHandler_BaselineBuildResults":"The baseline is associated with the following build results: ","WorkItemLinksItem_labelLinks":"Associate work item...","ResourcesEditor_progressDelivering":"Delivering...","ReplaceComponentWizard_ComponentHierarchyReplace":"The component \'${0}\' that will be replaced is part of a component hierarchy. Backup baselines will not be created for components that have subcomponents.\n\nTo preserve your changes before performing the replace: check-in any pending changes, resolve any outstanding conflicts and manually create a baseline.\n\nDo you want to continue the replace knowing that backup baselines will not be taken?","SelectSnapshotWidget_Title":"Snapshots:","ControlView_NotLoggedIn":"Not logged in","BaselineHistoryGraphViewHandler_BaselineDeliveredOnLabel":"Delivered on:","ContextLabel_CompareWith":"Compare two snapshots","WorkspaceHistory_ReplacedWorkspace":"Replaced workspace","ContextView_CustomAttributesRemoveTitle":"Remove","BaselineHistoryGraphViewHandler_BaselineBuildResult":"The baseline is associated with this build result: ","newBaselineDialog_lblBaselineDesc":"Description:","Component_Menu_Stream":"Stream","ContextView_FlowTargetScopeComponentsTitle":"Scope Components","ResourcesEditor_labelSave":"Save","OwnerSelectionDialog_labelBrowse":"Browse","ScopeComponentsDialog_WorkspaceDescription":"Choose which components are flowed to/from the \'${0}\' repository workspace.","newBaselineDialog_baselineLabel_Format_Str":"${0} : ${1} (${2})","Search_result_column_versionId":"VersionId","WorkspaceHistory_PortAbortNComponents":"Discarded merge change sets for gaps in ${0} components.","ContextView_FlowTargetRemoveTitle":"Remove","Search_page_search_for":"Search For","util_iconDocDescription":"Word document file","Scm_landing_page_select_owner_title":"Select Owner","LocateChangeSetView_TogglerTitle":"+/-","Search_paging_1OfXWithActual":"\x3cb\x3e1\x3c/b\x3e of \x3cb\x3e${0}\x3c/b\x3e (${1})","Scm_extended_attribute_definition_add_builtinattribute":"The \'${0}\' attribute is a built-in attribute for the selected artifacts. A custom attribute cannot have the same name as a built-in attribute. Choose a different name for the new attribute.","LocateChangeSetView_ActionLabel":"Actions","FilesFoldersView_LastModifiedBy_Who_When":"Last modified by ${0} at ${1}","LocateChangeSetView_CsIncludedDirectlyText":"Change Sets Included Directly","ReadAccessPermissionDialog_ProjectArea":"Project Area","CodeReviewLoadMessage":"Loading Code Review...","WorkspaceHistory_CreatedBaselineNComponents":"Created baselines on ${0} components","util_iconGitAuthorizeDescription":"Git authorize","ContextView_visibility_projectArea":"Project Scoped","Search_page_baseline_input_tooltip":"Enter a baseline name","WorkitemAndChangeRequestViewer_ChangeRequest_labelRemove":"Remove change request","ContextView_NewStream":"New Stream","UploadItem_cbCmtPng":"PNG image (image/png)","LocateChangeSetView_labelIncludedIndirectly":"Included Indirectly","BaselineHistoryGraphViewHandler_BaselineBasisDiscard":"Some change sets were discarded by ${0} on ${1}. This action caused a rollback to a previous baseline.","Links_validity_set_date":"Set on:  ${0}","AddComponentWizard_9":"First pick the repository workspace or stream from which to pick components.","AddComponentWizard_8":"Repository workspace or streams","MessageDialog_labelCancel":"Cancel","ContextView_emptyBaselineMessage":"Baseline is empty","ContextView_DeleteStreamWithBackupWorkspace":"Create a backup snapshot associated with \'${0}\'.","Links_tab_UnresolvedLink":"(Unresolved Link)","ContextView_CustomAttributeValueColTitle":"Value","ContextView_progressWorkspace":"Retrieving workspace","Links_undefined_label":"undefined","Links_save_server_error.useraction":"Ask the server administrator to investigate and resolve the issue.","util_iconRestoreDescription":"Restore","UploadItem_labelChooseFiles":"Choose Files","Search_streams_tooltip":"Search streams","Scm_landing_page_all_team_areas":"All Team Areas","FilesFoldersView_FileLocked_Warning_Tooltip":"${0} (@${1})","ContextView_DeleteStream_label_No":"No","WorkspaceHistory_InaccessibleBaseline":"&lt;Inaccessible baseline&gt;","ContextView_ComponentUnlock":"The component is locked by ${0}. Do you want to force unlock?","WorkspaceHistory_CreatedChangeSet":"Created change set in component \'${0}\'","Scm_welcome_page_show_locks_warning":"The locks have changed since the page was populated. To see the updated results, refresh the page.","FilesFoldersView_FileLocked_Warning":"This file is locked by ${0}.","OwnerSelectionDialog_UserNotSelected":"\x3cNo user selected\x3e","Links_save_server_error":"CRRTC5161E The link validity cannot be set for the artifact because the server cannot be contacted.","Search_page_baseline_select_input_label":"Component at Baseline:","FileDiffView_application_unknown":"[Show Anyway]","SimpleHistoryGraphView_ShowProperty_label":"Show Baseline Properties","Search_scope_files":"Files","Search_page_search_hasComponent":"Has Component","util_iconUploadDescription":"Upload","SelectOrCreateWorkitemDialog_LINK_EXISTING":"Link to existing work items","ContextView_StreamLocked":"The stream is locked by ${0}.","ContextView_CustomAttributesEditTitle":"Edit Value","ResourcesEditor_labelAddComment":"Add comment:","FilesFoldersView_FileLocked_Warning_MailSubject":"Do you still need the lock on file ${0} in component ${1}%3F","CreateSnapshotDialog_Description":"Description:","ContextView_visibility_private":"Private","Component_Menu_Advanced_Search":"Advanced Search","BaselineHistoryGraphViewHandler_BaselineDeliveredByLabel":"Delivered by:","UserSelectionWidget_SelectCurrent":"Current User","LocateChangeSetView_ChangeSetComment":"${0} - ${1} - ${2} - ${3}","BaselineHistoryGraphViewHandler_BaselineIteration":"The baseline is contained in a snapshot associated with this iteration:\x3cbr\x3e${0}","Scm_extended_attribute_definition_attribute_copyfrompreviousversion_label":"Copy the attribute value from the previous version","FilesFoldersView_TabTitleLinks":"Links","LocateChangeSetView_ChangeSetSectionHeading":"Change Sets","ContextView_Baseline":"baseline","Search_streams_text":"Search Streams","SelectOrCreateWorkitemDialog_Secondary_Title_Label":"Specify whether you want to link to an existing work item or create a new work item.","OwnerSelectionDialog_labelOk":"OK","FetchingItem":"Fetching Item...","util_iconXlsDescription":"Excel spreadsheet file","BaselineHistoryGraphViewHandler_BaselineLabel":"Baseline:","ContextView_ReplaceComponentInStream":"The selected component \'${0}\' is already in this stream. Continue with replacing the component?","Links_Report_Files_Column":"Files","WorkspaceHistory_ComponentReplacedFromWorkspace":"Components were replaced based on content from workspace ","Links_validity_not_supported":"CRRTC5162I Validity is not supported for this link.","ChangeSetsViewer_changeNotDisplayable":"Can not display changes. Reason: \"${0}\"","util_iconBaselineDescription":"Baseline","BaselineHistoryGraphViewHandler_BaselineComponentReplacedDirty":"The component was replaced with a baseline and some additional change sets by ${0} on ${1}.","Scm_landing_page_no_streams":"No stream found.","Scm_extended_attribute_definition_attributename_label":"Name:","GraphicalBaselines_NoContent":"There is no content to display.","WorkspaceHistory_CombineChangeSets":"Combined change sets in component \'${0}\'","Links_links_header":"Artifact Links","ContextView_CompareComponentWithBaseline":"Baseline...","ScopeComponentsDialog_DeselectAll":"Deselect All","ContextView_DeleteSnapshotHover":"Delete Snapshot","Search_result_locks_with_owner":"Locks owned by \"${0}\"","QueryLookup_Snapshot_Title":"Select a Snapshot query","util_iconStreamDescription":"Stream","ContextView_CustomAttribute_Section_Label":"Custom Attributes","ContextView_StreamNameError":"Stream must have a name.","ResourcesEditor_labelSaving":"Saving","ContextView_LockHover":"Lock","ContextView_CustomAttributeNameColTitle":"Name","OwnerSelectionDialog_Description":"Select the owner of the component.","Links_tab_message_outgoing_links_header":"Outgoing Links:","ContextView_ChangeVisibilityHover":"Change Visibility","ResourcesEditor_notUploaded":"Uploading is not complete.","FileDiffView_ItemWasChanged":"${0} was ${1}","StreamWorkspaceView_70":"Edit text file","StreamWorkspaceView_71":"Rename","util_iconJavaDescription":"Java source file","StreamWorkspaceView_65":"Unlock","StreamWorkspaceView_66":"Locking...","StreamWorkspaceView_67":"Unlocking...","StreamWorkspaceView_68":"Lock and download","Scm_extended_attribute_definition_confirm_dialog_title":"Warning:","StreamWorkspaceView_61":"Delete","Links_tab_message_nogcontext_warning":"Warning: ","StreamWorkspaceView_62":"Add Files","Search_result_changeSets_no_reason":"\x3cno work item associated\x3e","StreamWorkspaceView_63":"Create Folder","StreamWorkspaceView_64":"Lock","StreamWorkspaceView_69":"Create and edit a new text file","ContributorSelector_wildcard":"(Use \"*\" and \"?\" for wildcard searches)","GraphicalBaselines_CopyUrlTooltip":"Copy URL","FileDiffView_CollapseAll":"Collapse All","TextEditorItem_labelEditContent_error":"Can not show content.  Reason: ${0}","Search_page_snapshot_owning_workspace_input_label":"Owning Stream or Workspace:","LocateChangeSetView_FetchStreamsFromProjectAreasMessage":"Fetching streams from project areas","ReadAccessPermissionDialog_StreamProjectAreaDescription":"Everyone with read access to the selected project area will be able to see the files, folders and change sets in the public components in this stream.","StreamBrowse_2":"No streams","StreamBrowse_1":"Error fetching streams","Search_page_suspendedBy_input_label":"Suspended By:","StreamBrowse_3":"No streams in team areas","contextView_NewBaselineDialog_Title":"New Baseline for Component \'${0}\'","ScopeComponentsDialog_FlowSelected":"Flow only components checked below:","StreamBrowse_0":"Filter by My Project and Team Areas","ComponentHistoryView_AddedByColumn":"Added By","StreamWorkspaceView_76":"\xab\xab Newest","StreamWorkspaceView_77":"(Merged)","StreamWorkspaceView_78":"Save","Scm_extended_attribute_definition_attributemodifiable_label":"Modifiable:","StreamWorkspaceView_79":"Undo","LocateChangeSetView_LocateChangeSetMessage":"Locating change sets","StreamWorkspaceView_72":"Change Set","StreamWorkspaceView_73":"Empty Comment","SelectOrCreateWorkitemDialog_Label_Project_Area":"Project Area","StreamWorkspaceView_74":"More...","StreamWorkspaceView_75":"File Links","LocateChangeSetView_FetchChildWorkitemMessage":"Retrieving child work items","ReadAccessPermissionDialog_ProcessAreaDescription":"Everyone with read access to the selected project area, or with both read access and membership in the selected team area, will be able to see the files, folders and change sets in the public components in this stream.","GraphicalBaselines_ShowBaselinesInReleasedSnapshots":"Show only releases","ConfigurationManagementPage_Inactivated":"To enable configuration management, you must specify the activation key in the advanced server property.","ResourcesEditor_progressWorkItem":"Associating work item...","Scm_extended_attribute_definition_add_alreadyexists":"The \'${0}\' attribute already exists.","util_iconDeleteDescription":"Delete","Scm_extended_attribute_definition_confirm_yesbutton_label":"Yes","ContextView_titleCompareWithSnapshot":"Select a snapshot to compare with","FileSizeUnit_KB":"${0} KB","ControlView_NoWorkspacesOrStreams":"The graph does not contain any repository workspaces or streams. To add some, click the Add Streams icon on the toolbar.","ContextView_tabOperationHistory":"Operation History","BrowseCodeReviews_PageTitle":"Code Reviews","Search_paging_1OfX":"\x3cb\x3e1\x3c/b\x3e of \x3cb\x3e${0}\x3c/b\x3e","ContextView_LoadingLabel":"Loading...","ResourcesEditor_editorOpen":"A resource editor is open. Are you sure you want to leave the page?","ContextView_progressRetrieveStream":"Retrieving stream","StreamWorkspaceView_labelExpandRow":"See comparison and history","ContextView_visibility_public":"Public","ConfigurationManagementPage_EnableFullConfigurationManagementText":"Enable full configuration management for this project area to allow streams, baselines and snapshots to be published to the EWM SCM Configuration Resources (TRS 2.0) feed.  After you enable configuration management, you cannot disable it.","ContextView_RemoteFlowTarget":"\x3cremote flow target #${0}\x3e","ComponentHistoryView_HideBaselines":"Hide Baselines","ContextView_tabSnapshots":"Snapshots","ContextView_labelComponentOwner":"${0} (${1})","SelectComponentSourceWizard_WorkspaceOrStream":"Component in another repository workspace or stream","Search_page_creator_input_label":"Creator:","Search_result_files":"Search results for files","ControlView_FetchingContent":"Retrieving content...","CreateSnapshotDialog_NoComponentSelected":"Select at least one component to include","Search_page_change_renameKind_label":"Rename","ContextView_FlowTargetScoped":"${0} (scoped)","LocateChangeSetView_ShowResultDetails":"Show Result Details","LockedByOtherDecorator":"(Locked by ${0})","WorkitemAndChangeRequestViewer_WorkItem_Table_Header":"Work items","LocateChangeSetView_AddStreamsFromMyProjectAreas":"Add streams from project and team areas that I am member of","Component_menu_Create":"Create","Breadcrumb_separator":" \x3e ","WorkspaceHistory_ReplacedNComponents":"Replaced ${0} components","ScmClient_1":"Your account does not belong to the groups that are authorized to access the Web UI.  Please contact your server administrator","StreamWorkspaceView_FetchChangeMessage":"Fetching changes...","ScmClient_0":"Authentication is required to access the requested resource.  Please refresh the page to attempt authentication again","SelectBaselineWidget_labelOk":"OK","DateRangeWidget_DateMustBeAfter":"Date must be less than or equal to the before date","WorkspaceHistory_SelectUser":"Select User...","WorkspaceHistory_CommitSubComponentChanges":"Modified hierarchy in component \'${0}\'","ComponentHistoryView_DateColumn":"Date Modified","ContextView_AutoLockFilesDescription":"Enter file name patterns separated by commas (for example, *.rpy, *.sbs, *.emx) for files that should be automatically locked when edited.","ContextView_AddSkipButtonLabel":"Add and Skip Existing","FileSizeUnit_MB":"${0} MB","LocateChangeSetView_FetchAssociatedWorkItems":"Fetching associated work items for the change set.","AddComponentWizard_resultStatus":"${0} Results","Scm_extended_attribute_definition_attributename_header":"Name","ContextView_Add_CustomAttribute":"Add","WorkspaceHistory_DeliveredChanges":"Delivered changes into component \'${0}\'","Scm_breadcrumb_streams_tooltip":"Show Streams","BaselineHistoryGraphViewHandler_ExpandSource_label":"Add Source","SelectOrCreateWorkitemDialog_Error_Loading_Project_Areas":"Error loading project areas. Option ignored.","WorkspaceHistoryView_OperationColumn":"Operation","GraphicalBaselines_ShowRepositoryFilesMenuItem":"Show Repository Files","LocateChangeSetView_RepositoryWorkspaceResultDetailsText":"Locate change set search result for repository workspace \"${0}\"","ReadAccessPermissionDialog_ComponentPrivateDescription":"Only the owner will have read access to the files, folders and change sets in this component.","UploadItem_labelUploadWrongFile":"File to upload has different name ${0} than current version. OK to continue?","Search_page_creation_date":"Enter date","ContextView_DuplicateWorkspaceName":"Duplicate of ${0}","Search_result_changeSets_with_filename":"Change sets with file name that begins with \"${0}\"","WorkitemAndChangeRequestViewer_labelServiceProviderDialog":"Related Change Request","HistoryView_open_full_changeSet":"Open Full Change Set","Search_items_per_page_showAll":"Show All","Scm_extended_attribute_definition_attributetcategory_header":"Artifacts","LocateChangeSetView_RefreshTitle":"Refresh results","ReadAccessPermissionDialog_ComponentProjectAreaDescription":"Everyone with read access to the selected project area will be able to see the files, folders and change sets in this component.","Scm_landing_page_no_locks":"No locks found.","util_iconChangeSetDescription":"Change set","Links_Report_Components_Column":"Components","CheckInHistoryViewer_stateType_merge":"Merge","SelectBaselineWidget_Browse_Button_Label":"Browse...","WorkspaceHistory_DiscardedBasisSummary":"Suspended or discarded changes from component \'${0}\'","ContextView_labelComponent":"Component: ","BaselinesInComponentEntryView_Tbl_Col_name":"Name","ResourcesEditor_titleNewTextFile":"New text file","AddComponentWizard_busySearching":"Searching...","WorkspaceHistory_OpenChangeExplorer":"Open Change Explorer","ChangeSetsViewer_noChanges":"\x3cno change found\x3e","util_iconComponentPersonalDescription":"Personal","ContextView_ReplaceComponentsInWorkspace":"All of the selected components are already in this repository workspace. Continue with replacing the components?","LockedByMeDecorator":"(Locked by me)","Search_result_workspaces_with_name":"Workspaces name begins with \"${0}\"","StreamWorkspaceView_9":"&lt;None&gt;","Component_Menu_Locate_Change_Set":"Locate Change Sets","StreamWorkspaceView_6":"Comment: ","NewFolderItem_labelFolderName":"Name:","StreamWorkspaceView_5":"Author: ","StreamWorkspaceView_8":"Related Artifacts","SelectOrCreateWorkitemDialog_CREATE_NEW":"Create a new work item","newBaselineDialog_msgBlankBaselineName":"Name cannot be left blank","StreamWorkspaceView_7":"&lt;No Comment&gt;","FileDiffView_show_comparison":"[Show Comparison]","util_iconComponentDescription":"Component","Scm_extended_attribute_definition_attribute_usedefaultvalue_label":"Reset the attribute value to the default value","ControlView_InaccessibleStream":"\x3cInaccessible context : \"${0}\"\x3e","BaselinesViewer_BaselineIdAndName":"${0}: ${1}","WorkspaceHistory_CompletePortNComponents":"Completed merge change sets for gaps in ${0} components.","ContextView_DuplicateStreamHover":"Duplicate Stream","ContextView_progressRetrieveWorkspace":"Retrieving workspace","StreamWorkspaceView_2":"Stream / Workspace","StreamWorkspaceView_1":"Select a stream or workspace for browsing.","StreamWorkspaceView_4":"Modified on: ","StreamWorkspaceView_3":"No Stream or Workspace Selected.","ResourcesEditor_progressDeleteResource":"Deleting...","LocateChangeSetView_RemoveWorkitem":"Remove","Git_welcome_page_title":"Work with Git","ContextView_CompareComponentWithHover":"Compare with","Search_result_streams_with_search_criteria":"Streams that match the search criteria","UploadItem_labelSize":"Size","WorkspaceHistory_AddedComponent":"Added component \'${0}\'","Scm_extended_attribute_definition_editdescription":"Edit Attribute.","WorkspaceHistory_ComponentReplacedFromStream":"Components were replaced based on content from stream ","ResourcesEditor_titleUploadSingleFileAdd":"New file","FilesFoldersView_TabTitleHistory":"History","FileFolderProp_ContentType":"Content Type","StreamWorkspaceView_expandAllChanges":"Expand all","Search_page_change_deleteKind_label":"Delete","Search_workspaces_tooltip":"Search workspaces","Search_page_or_label":"Or,","Search_result_files_with_name_pattern":"Files matching the name pattern \"${0}\"","CheckInHistoryViewer_stateType_addition":"Addition","Scm_welcome_page_browse_workspace_description":"You can view your repository workspaces and the resources in them.","ContextView_DeleteStream_label_Yes":"Yes","SelectSnapshotWizard_Title":"Select a Snapshot","ContextView_AddComponentHover":"Add","Links_no_history_found.explanation":"No links with a validity status set to Valid were found for this relationship.","ResourcesEditor_UnknownContentType":"\x3cunknown\x3e","SelectSnapshotWidget_SelectFromWorkspace":"Select snapshot in the \"${0}\" workspace","ReadAccessPermissionDialog_ProcessArea":"Project Area or Team Area","GraphicalBaselineUtils_Exception":"Exception:","UploadItem_cbLdLFUnix":"LF (Unix)","Component_Menu_Workspace":"Repository Workspace","LocateChangeSetView_ShowChildWorkItemLabel":"Show child work items","BaselineHistoryGraphViewHandler_ExpandSources_warning":"${0} streams or repository workspaces will be added to the diagram, do you want to continue?","ContextView_CustomAttributeDialogMsg_1":"No more custom attributes are available to add.","Scm_landing_page_my_team_areas":"My Team Areas","Scm_extended_attribute_definition_attributetype_header":"Type","Scm_extended_attribute_definition_attributeinitialvalue_header":"New Version Behavior (Files only)","CheckInHistoryViewer_stateType_modify":"Modify","util_iconDatePickerDescription":"Date picker","GraphicalBaselines_TagFilter":"Show baselines by a specific filter","Scm_welcome_page_show_locks_description":"You can view locked resources in streams or repository workspaces.","ChangeSetsViewer_labelExpandRow":"Expand row","WorkspaceHistory_PostImportBaseline":"Create post import baseline on component \'${0}\'","UserSelectionWidget_SelectUser":"Select User...","LocateChangeSetView_SearchTargetLabel":"Search Target","util_iconLoadRuleDescription":"RTC load rule","LocateChangeSetView_ResultDetailsInfoText":"Click on \'Show Result Details\' action for a search target to view detailed results.","OslcLink_NotInContext.useraction":"Be aware that references are resolved in the current global configuration whose members may be in conflict with this item.","Scm_welcome_page_create_stream_tooltip":"Create a stream.","WorkspaceHistory_AnotherWorkspace":"Compare With Another Repository Workspace or Stream...","Search_page_change_allKinds_label":"All","BaselineHistoryGraphViewHandler_BaselineComponentReplacedOnLabel":"Component replaced on:","Search_page_stream_input_tooltip":"Enter a stream name","LocateChangeSetView_SearchTargetsRemoveText":"Remove","Scm_landing_page_title_locks":"Locks","Search_scope_changeSets":"Change Sets","Search_scope_components":"Components","WorkspaceHistory_ReplacedComponent":"Replaced component \'${0}\'","util_iconPptDescription":"PowerPoint presentation file","WorkspaceHistory_RollbackToDate":"Rollback to ${0}","FileFolderProp_Actions":"Actions","GraphicalBaselines_HideAcceptedBaselines":"Hide accepted baselines","GraphicalBaselines_TagFilterType_Tag_Description":"Enter a list of tags separated by spaces. Only baselines that contain all the tags are displayed.","WorkspaceHistory_DiscardedBasis":"Component basis was rolled back to: ","ContextView_ComponentFilterHint":"Filter list by component name prefix or pattern (*, ?)","ResourcesEditor_PromptNoEncoding":"The encoding of this resource is unknown. It will be displayed and edited as UTF-8. Some characters may not be converted correctly and the file might become unusable.. Click OK to continue, or Cancel to leave the resource unchanged.","WorkitemAndChangeRequestViewer_ChangeRequest_Table_Header":"Change Requests","WorkspaceHistory_fetchFailed":"Failed to fetch operation details.  ${0}","ContextView_AutoLockFiles":"Auto-lock files","Search_items_per_page_250":"250","LockedByLabel":"Locked by ${0}","Links_local_version_header":"Local artifact version","BaselineHistoryGraphViewHandler_DirtyBasisHover":"This operation included change sets after the baseline.","AddComponentWizard_inaccessibleBaselineFound":"The component hierarchy could not be added or replaced because a baseline in the hierarchy is inaccessible.","ContextView_progressDeleteStream":"Deleting stream...","util_InitialAndFinalContentTypesNotSupported":"Cannot display text comparison because the initial and final content types are ${0} and ${1}.","BaselineHistoryGraphViewHandler_BaselineComponentAdded":"The component was added by ${0} on ${1}.  ","FilesFoldersView_TabTitleOperationHistory":"Operation History","SelectBaselineWidget_ContextFilter_Label":"from ${0} \"${1}\" ","Links_invalid_label":"invalid","QueryLookup_WorkspaceAndStream_Title":"Select a Workspace or Stream query","ChangeSetDiffView_file_version_before":"Before: Version ID ${0}","ContributorSelector_selectedUsers":"Selected users:","Links_save_error.explanation":"The link validity might not be accessible or the user account might not have the permissions to change validity.","BaselineHistoryGraphViewHandler_BaselineDirtyStream":"The stream includes additional change sets after the baseline.","Search_result_title":"Searching...","Scm_welcome_page_show_locks":"Show locks","ContextView_labelReplaceComponentFromBaseline":"${0} (to replace with baseline ${1}: ${2})","Search_type_changeSets_tooltip":"Search Change Sets by Modified File Name","AddComponentWizard_InaccessibleSubcomponentInWorkspaceDialogMessage":"The component hierarchy could not be added or replaced because there was an inaccessible subcomponent that exists in the source repository workspace.\n\nThe UUID of the inaccessible subcomponent is: ${0}","WorkspaceHistory_DuplicateChangeSet":"Duplicated change set in component \'${0}\'","SelectOrCreateWorkitemDialog_Create_Dialog_Title":"Create Work Item","ContextView_ReplaceOrSkipComponentsInWorkspace":"Some of the selected components are already in this workspace. Do you want to add all the components and replace any components that already exist, or skip the components that already exist and add only the new components?","ContextView_labelNoBaselines":"No Baselines","ContextView_CreateSnapshotDialogTitle":"New Snapshot for ${0}","util_NoComparisonWithReason":"Can not display text comparison. Reason: ${0}","ContextView_NewComponentsTitle":"New Component","Search_page_owner_input_label":"Owner:","Context_CompareMissingComponentContext":"Component does not have a context.","FileDiffView_ExpandAll_ToolTip":"Show details of all changes.","Scm_welcome_page_browse_stream":"Browse streams","Search_scope_snapshots":"Snapshots","ReadAccessPermissionDialog_ProcessAreaNotSelected":"\x3cNo project area selected\x3e","RepositoryWorkspaceBrowser_0":"Error fetching workspaces","RepositoryWorkspaceBrowser_1":"No Repository Workspaces","ContextView_RemoveChildComponent":"Subcomponent ${0} cannot be removed unless its parent component ${1} is also removed.","Scm_breadcrumb_streams":"Streams","Scm_welcome_page_create_stream_description":"You can create a stream and add resources in it.","Context_CompareGoTo":"Go to \x3e","ContextView_labelActions":"Actions","SelectBaselineWidget_NameFilterMode_Label":"Name prefix or pattern (*,?): ","Search_page_duplicate_custom_attribute_message":"The attribute name is already added. Edit or remove the attribute name.","SelectSnapshotWidget_SelectFromStream":"Select snapshot in the \"${0}\" stream","LocateChangeSetView_AddWorkitemsTitle":"Add work items","Search_result_changeSets":"Search results for change sets","Search_page_stream_input_default_text":"Type a stream name","GraphicalBaselines_HideEmptyBaselines":"Hide baselines that do not bring in changes","ContextView_progressBaseline":"Retrieving baseline","WorkspaceHistory_CreatePortNComponents":"Created merge change sets for gaps in ${0} components.","newBaselineDialog_btnLblHideDetails":"Hide","UploadItem_cbPlatform":"Platform","WorkitemAndChangeRequestViewer_noLinkedWorkItemOrChangeRequest":"\x3cNo associated work items or change requests\x3e","Search_result_snapshots_with_name":"Snapshots name begins with \"${0}\"","WorkspaceHistory_RemovedComponent":"Removed component \'${0}\'","GraphicalBaselines_refreshHover":"Refresh the diagram","FileContentView_No_Difference_Msg":"There is no difference between the selected inputs","FilesFoldersView_ComponentEmptyMessage":"Component is empty.","FileSizeUnit_GB":"${0} GB","BaselineHistoryGraphViewHandler_OpenWorkspace_label":"Open Workspace","UploadItem_labelContentMimeType":"Content MIME-Type:","FilesFoldersView_FileLocked_CannotBeModified":"This file cannot be modified as it is locked by ${0}.","Scm_welcome_page_browse_stream_description":"You can view streams and edit resources in them.","Scm_welcome_page_title":"Welcome to Source Control","ContextView_RemoveParentComponentWithSubcomponents":"Are you sure that you want to remove the component and its ${0} subcomponents?\n\nComponents that will be removed are part of a component hierarchy. Backup baselines will not be created for components that have subcomponents.\n\nTo preserve your changes before performing the component removal: check-in any pending changes, resolve any outstanding conflicts and manually create a baseline.\n\nDo you want to continue knowing that backup baselines will not be taken?","CreateSnapshotDialog_DeselectAll":"Deselect All","FileDiffView_Added":"added","Links_validity_header":"Validity","ContextView_CustomAttributeStatusMsg3":"Fetching defined custom attributes","Breadcrumb_dotdotdot":" . . . \x3e ","ContextView_CustomAttributeStatusMsg4":"Note: You cannot manage custom attributes for baselines of a component that is owned by a user.","ContextView_CustomAttributeStatusMsg1":"Note: You cannot manage custom attributes for snapshots owned by a repository workspace.","ContextView_CustomAttributeStatusMsg2":"This custom attribute is not defined in the project area \"${0}\".","CreateSnapshotDialog_AvailableComponentsLabel":"Available Components:","ReplaceComponentWizard_2":"Choose where to find the replacement component.","SelectBaselineWidget_labelCancel":"Cancel","ReplaceComponentWizard_1":"Component Source","Links_valid_label":"valid","UserSelectionWidget_SelectedUser":"Selected User","ContextView_BaselineId":"Baseline ID:","Search_page_snapshot_input_tooltip":"Enter a snapshot name","LocateChangeSetView_AddBaselinesFromQuery":"Add baselines from a query","BaselineHistoryGraphViewHandler_BaselineComponentReplaced":"The component was replaced with a baseline by ${0} on ${1}.","WorkspaceHistory_Restore_Component":"Restore Deleted Components","ReplaceComponentWizard_9":"Snapshots","ReplaceComponentWizard_8":"Select a workspace from which to choose snapshots","BaselineHistoryGraphViewHandler_BaselineDelivered":"The baseline was delivered by ${0} on ${1}.","ReplaceComponentWizard_7":"Please select a repository workspace or stream.","ReplaceComponentWizard_6":"Repository workspaces and streams","ReplaceComponentWizard_5":"Components from the following baseline hierarchy will be added or replaced.","ReplaceComponentWizard_4":"Select a baseline from the list.","BaselinesInComponentEntryView_No_Baselines_Msg":"No Baselines found","ReplaceComponentWizard_3":"Baselines","ScmPageView_2":"My Locks","ReadAccessPermissionDialog_AccessGroup":"Access Group","UploadItem_cbLdNoneBinary":"None (Binary)","ScmPageController_Unknown_LocalConfiguration":"The current local configuration is not a member of the selected global configuration ${0}.","ScmPageView_0":"My Repository Workspaces","ScmPageView_1":"Streams in Project Area","LockedByMeLabel":"Locked by me","ContextView_UnlockHover":"Unlock","ContextView_IncomingAndOutgoingFlowDesc":"incoming, outgoing","ShowBaselineHierarchyWidget_Title":"Baseline hierarchy:","Scm_welcome_page_search_tooltip":"search for a resource in source control","ResourcesEditor_progressChangeRequest":"Associating change request...","ContributorSelector_showArchived":"Show archived users","CreateSnapshotDialog_NoteLabel":"This new snapshot will be associated with your repository workspace. To make it visible to your team you can change the owner to a stream after it\'s been created.","util_TooManyDifferences":"Too many differences","ContextView_Details":"Details","DateRangeWidget_SelectAllTime":"Any","Links_validity_hist_user":"Set by","ShowBaselineHierarchyWidget_InaccessibleBaselineDisplayString":"\x3cinaccessible baseline\x3e (UUID: ${0})","BaselineHistoryGraphViewHandler_AddStreams_label":"Add Streams...","FileFolderProp_LineDelim":"Line Delimiter","FileContentView_VersionId_Label":"(Version: ${0})","ContextView_SaveOperationLabel":"Saving ${0}","ActiveTeamChanges_0":"Active team changes","ContextView_CustomAttributeDialogBtnOkLbl":"Ok","WorkspaceHistory_ResumedComponent":"Resumed changes in component \'${0}\'","Links_no_history_found.useraction":"No action is required.","UploadItem_cbCmtHtml":"HTML source (text/html)","UploadItem_labelCancelUpload":"Cancel Upload","GraphicalBaselines_DiagramSettings":"Diagram Settings","Scm_extended_attribute_definition_attributeinitialvalue_label":"Behavior when a new file version is created:","ContextView_AddReplaceButtonLabel":"Add and Replace Existing","GraphicalBaselines_Error":"An error occurred.  ","util_iconCHeaderDescription":"C header file","OwnerSelectionDialog_User":"User","Scm_extended_attribute_definition_attribute_applyto_baseline_label":"Baselines","util_iconCSourceDescription":"C source file","SelectOrCreateWorkitemDialog_CANCEL":"Cancel","Scm_welcome_page_manage_work_title":"Access and manage your work:","ChangeSetsViewer_more":"More...","newBaselineDialog_btnLblShowDetails":"Show","WorkspaceHistory_AcceptedChangesInComponents":"Accepted changes in ${0} components","ContextView_CreatedOn":"Created on:","BaselineHistoryGraphViewHandler_BaselineCreated":"A baseline was created by ${0} on ${1}.","Links_save_error.useraction":"Check whether the link validity is accessible and whether the user account has the permissions to change validity.","ContextView_progressDeleteWorkspace":"Deleting workspace...","LocateChangeSetView_ChangeSetsWithNoWorkItemMessage":"${0} change sets with no work item","GraphicalBaselines_Filters":"Filters","ContextView_LabelFlowDirection":"Flow Direction","ReplaceComponentWizard_inaccessibleComponentFound":"The component hierarchy could not be added or replaced because a component in the hierarchy is inaccessible. The id of the inaccessible components is: ${0}","Search_type_locks_tooltip":"Search Locks by Owner Name","ContextView_SaveWorkspaceOperationLabel":"Saving repository workspace","AddComponentWizard_compare_with_title":"Compare with","Search_scope_streams":"Streams","ResourcesEditor_progressUpdatingResource":"Updating...","ReadAccessPermissionDialog_SearchAccessGroupLabel":"Enter a name to find the available access groups. Use * and ? as wild card characters.","WorkspaceHistory_RollbackComponentToDate":"Rollback component \'${1}\' to ${0}","ContextView_labelOwnedBy":"Owned by: ","ContextView_NewWorkspaceHover":"New Repository Workspace","Search_result_snapshots":"Search results for snapshots","LocateChangeSetView_SnapshotResultDetailsText":"Locate change set search result for snapshot \"${0}\"","ReadAccessPermissionDialog_SearchButtonLabel":"Search","ReadAccessPermissionDialog_StreamAccessGroupDescription":"Every member of the access group, or member of a project or team area in the access group, will be able to see the files, folders and change sets in the public components in this stream.","ReadAccessPermissionDialog_WorkspaceDescription":"Select who will have read access to the repository workspace.","util_iconComponentProjectAreaDescription":"Project area owner","UploadItem_labelExecutable":"Executable:","AddComponentWizard_compare_secondary_title":"Select where to find the version of the file you want to compare against.","UploadItem_labelName":"Name:","WorkspaceHistory_ResumedNComponents":"Resumed changes in ${0} components","LocateChangeSetView_AddSearchTargetLabel":"Add targets...","Scm_landing_page_progress_retrieving_workspaces":"Retrieving Workspace...","FileDiffView_Moved":"moved from ${0}","ReadAccessPermissionDialog_NoItemsMatched":"No items matched the specified pattern.","ReadAccessPermissionDialog_Title":"Select Read Access Permission","WorkspaceHistoryView_DateColumn":"Date","ContributorSelector_runningSearch":"Running search...","util_iconProjectAreaDescription":"Project area","SelectBaselineWidget_ContextFilterMode_Label":"Stream or repository workspace: ","Component_Menu_Authorize":"Authorize","Links_unsupported_label":"unsupported","ContextView_FlowTargetAddTitle":"Add","ReadAccessPermissionDialog_Component":"component","Search_page_afterDate_input_label":"Created After:","FileFolderProp_Name":"Name","BaselineHistoryGraphViewHandler_OpenStream_label":"Open Stream","Links_validity_not_supported.useraction":"No action is required.","WorkItemLinksItem_labelRemove":"Remove work item","ContextView_tabLinksReport":"File Links","AddComponentWizard_10":"Select the components to add.","Search_page_baseline_add_button_label":"ADD","ContextView_DeleteStreamConfirmation":"Are you sure you want to delete the stream \'${0}\' from the repository?","BaselinesViewer_ChangeSetNotDisplayable":"Can not display change sets. Reason: \"${0}\"","FilesFoldersView_FileLocked_Warning_NoName":"This file is locked by ","ContextView_progressSnapshot":"Retrieving snapshot","ContributorSelector_showingFirst":"Showing first ${0} matching users","Component_menu_group_recent":"Recently Viewed","FileDiffView_ExpandAll":"Expand All","AddComponentWizard_12":"Snapshots","Search_page_stream_input_label":"Stream:","AddComponentWizard_11":"First pick the repository workspace or stream from which to pick snapshots.","AddComponentWizard_14":"Add Components","AddComponentWizard_13":"Select a snapshot. Its component baselines will be added.","CreateSnapshotDialog_Name":"Name:","Search_paging_XToY":"\x3cb\x3e${0}\x3c/b\x3e - \x3cb\x3e${1}\x3c/b\x3e","LocateChangeSetView_AddWorkspacesAndStreamsFromQuery":"Add workspaces and streams from a query","Search_page_custom_attributes_filter_label":"Custom Attributes:","FileDiffView_Deleted":"deleted","WorkspaceHistory_AddedNComponents":"Added ${0} components","ContextView_DeleteWorkspaceHover":"Delete Workspace","WorkspaceHistory_DiscardedChanges":"Discarded changes from component \'${0}\'","SelectBaselineWidget_Filter_String_1":"whose names starts with \"${0}\" from all streams and workspaces.","ContextView_ComponentReplaceWith":"Replace With","SelectBaselineWidget_Filter_String_2":"from all streams and workspaces.","WorkspaceHistory_ChangesDeliveredFromStream":"Changes were delivered from stream ","Search_result_unknown":"\x3cunknown\x3e","BaselineHistoryGraphViewHandler_BaselineSetCreated":"A snapshot was created by ${0} on ${1}.","Search_items_per_page_message":"Note: Team areas and project areas might have more streams listed on other pages.","WorkspaceHistory_CommitChangeSetNComponents":"Checked-in changes to ${0} components","Links_status_header":"Status","util_iconSymLinkDescription":"Symbolic link","Search_paging_XToYOfZ":"\x3cb\x3e${0}\x3c/b\x3e - \x3cb\x3e${1}\x3c/b\x3e of \x3cb\x3e${2}\x3c/b\x3e","CreateSnapshotDialog_labelCancel":"Cancel","util_iconSnapshotDescription":"Snapshot","BaselineHistoryGraphViewHandler_ReplaceOperation":"(Replaced)","ReadAcccessPermissionDialog_TeamAreaError":"Could not fetch team area or project area of the team area","ResourcesEditor_titleDeleteSingleFile":"Click Save to confirm delete.","Component_menu_group_recent_fileFolder":"Recent Files and Folders","LocateChangeSetView_BaselineResultDetailsText":"Locate change set search result for baseline \"${0}\"","Scm_Message_Dialog_title_Invalid_Configuration_context":"Invalid Global Configuration Context","WorkspaceHistory_NotDescribedComponents":"Changes in ${0} more components","LocateChangeSetView_FetchChangeSetMessage":"Retrieving change sets","AddComponentWizard_InaccessibleSubcomponentsInStreamDialogMessage":"The component hierarchy could not be added or replaced because there are inaccessible subcomponents that exist in the source stream.","Links_remote_version_header":"Remote artifact version","Links_tab_message_nolink":"There are no links for this file.","UploadItem_cbCmtJpeg":"JPEG image (image/jpeg)","ChangeSetsViewer_fetchMessage":"Fetching changes...","ContextView_RefreshWarning":"Refreshing will result in losing your changes. Continue with the refresh action?","BaselineHistoryGraphViewHandler_ExpandSources_label":"Add Sources","WorkspaceHistory_ClosedChangeSets":"Change sets completed in component \'${0}\'","Search_snapshots_tooltip":"Search snapshots","CreateSnapshotDialog_labelOk":"OK","SelectOrCreateWorkitemDialog_Associate_Dialog_Title":"Associate work item","ResourcesEditor_PromptNotUTF8":"The encoding of this resource is currently set as ${0}. It will be converted into UTF-8 for display and editing then converted back into ${0}. Some characters may not be converted correctly and the file might become unusable. Click OK to continue, or Cancel to leave the resource unchanged.","WorkitemAndChangeRequestViewer_workitemNotDisplayable":"Cannot fetch work items. Reason: \"${0}\"","ScopeComponentsDialog_labelCancel":"Cancel","AddComponentWizard_InaccessibleSubcomponentNotInStreamDialogMessage":"The component hierarchy that is being added or replaced has an inaccessible subcomponent that does not exist in the source stream.\n\nThe UUID of the inaccessible subcomponent is: ${0}.\n\nDo you want to skip this inaccessible subcomponent and add or replace the remaining components in the hierarchy?","Scm_extended_attribute_definition_attributemodifiable_header":"Modifiable","ScopeComponentsDialog_labelOk":"OK","Search_page_Stream_Workspace":"Stream or Workspace","Scm_landing_page_label_my_streams_only":"My Streams Only","ResourcesEditor_PromptLockedByOther":"This resource is locked by ${0}. Resource cannot be modified.","LocateChangeSetView_StatusSelCsAndWiCnt":"Current selection - Change sets: ${0}; Work items: ${1}","SelectOrCreateWorkitemDialog_Select_Dialog_Title":"Select Work Item","ContextView_labelComponentBaselineDirty":"${0}\xa0\xa0(*${1}: ${2})","Scm_extended_attribute_definition_attribute_applyto_stream_label":"Streams","ComponentHistoryView_DateAddedColumn":"Date Added","Search_scope_baselines":"Baselines","UploadItem_labelTextFileEncoding":"Text File Encoding:","HeaderView_Save":"Save","FileDiffView_sideBySideCompare":"Compare","WorkspaceHistory_ChangesInInaccessibleComponents":"Changes in ${0} inaccessible components","StreamWorkspaceView_collapseAllChanges":"Collapse all","ResourcesEditor_progressRemoveChangeRequest":"Removing change request...","DateRangeWidget_SelectionBeforeTime":"On or before: ","newBaselineDialog_lblBaselineName":"Baseline Name:","Search_scope_workspaces":"Workspaces","ContextView_labelNoFlowTargets":"No Flow Targets","CheckInHistoryViewer_state_deletedContent":"${0} [Content deleted by ${1} on ${2}]","BaselineHistoryGraphViewHandler_BaselineDirtyWorkspace":"The workspace includes additional change sets after the baseline.","ResourcesEditor_labelCancel":"Cancel","Links_validity_set_user":"Set by:  ${0}","util_lockedByOther":"Locked by another user","GraphicalBaselines_CompareWithBaselineMenuItem":"Compare With Baseline","Scm_extended_attribute_definition_editattribute_dlg_title":"Edit Attribute","FileFolderPropName_Encoding":"Encoding: ${0}","LocateChangeSetView_AddRepositoryWorkspacesText":"Add Repository Workspaces...","ContextView_labelNoCustomAttribuesDefinition":"No custom attributes are defined in the project area \"${0}\".","LocateChangeSetView_FetchBaselineQueryResultMessage":"Fetching baseline query result","Search_paging_XToYOfZWithActual":"\x3cb\x3e${0}\x3c/b\x3e - \x3cb\x3e${1}\x3c/b\x3e of \x3cb\x3e${2}\x3c/b\x3e (${3})","WorkspaceHistory_NotDescribedComponent":"Changes in one more component","LocateChangeSetView_AddBaselinesText":"Add Baselines...","Search_page_component_input_default_text":"Type component name","WorkspaceHistory_BaselineLabel":"${0}: ${1}","Search_no_result_found":"No results found.","Scm_extended_attribute_definition_editattribute_okbutton_label":"Save","UploadItem_labelAddFiles":"Add file(s):","GraphicalBaselines_HideBackupBaselines":"Hide backup baselines","Scm_landing_page_select_owner":"Select Owner:","FileFolderContentView_notText":"Unable to show file as its content is not text. To see the content, please consider \x3ca href=\"${0}\"\x3edownloading\x3c/a\x3e the file to open in a native editor.","Versionable_CustomAttributes_Fetching_msg":"Fetching custom attributes","ReadAccessPermissionDialog_Private":"Private","FileDiffView_initial_content_deleted":"Cannot display text comparison because initial content is deleted.","ContextView_labelAddComponentFromBaseline":"${0} (to add from baseline ${1}: ${2})","util_iconFileDescription":"File","BaselinesInComponentEntryView_ComponentRemoved":"\x3cComponent Removed\x3e","Util_text_unknown":"Unknown","UploadItem_altRemove":"Remove Content","Scm_welcome_page_search_description":"Search for resources in source control.","ContextView_RemoveParentComponentWithOneSubcomponent":"Are you sure that you want to remove the component ${0} and its ${1} subcomponent?\nComponents that will be removed are part of a component hierarchy. Backup baselines will not be created for components that have subcomponents.\n\nTo preserve your changes before performing the component removal: check-in any pending changes, resolve any outstanding conflicts and manually create a baseline.\n\nDo you want to continue knowing that backup baselines will not be taken?","WorkspaceHistory_DiscardedChangesInComponents":"Discarded changes from ${0} components","BaselinesInComponentEntryView_Tbl_NameCell_value":"${0}: ${1}","Component_menu_group_queries":"Browse","ContextView_labelComponents":"Components","LocateChangeSetView_ResultDetailsHeading":"Result Details","Search_page_changeSets_change_label":"Change Kind:","Component_Menu_Git_Repositories":"Registered Git Repositories","ResourcesEditor_PromptOnClick":"You have unsaved changes that will be lost. Are you sure you want to continue?","Component_menu_no_recent":"No recent items","StreamWorkspaceView_10":"Changes","ResourcesEditor_PromptUnlocked":"This resource is unlocked and may have been changed by someone else. Select OK to lock and modify the current version, or Cancel to leave the resource unchanged.","StreamWorkspaceView_11":"Show file content","newBaselineDialog_btnLblOk":"OK","StreamWorkspaceView_12":"Go to diff","StreamWorkspaceView_13":"(Modified)","Search_result_baselines_with_name":"Baselines name begins with \"${0}\"","StreamWorkspaceView_18":" - ","StreamWorkspaceView_19":"View older version of ${0}","ContextView_BaselineHierarchyFetchMessage":"Fetching baseline hierarchy...","Scm_extended_attribute_definition_attributeactions_label":"Actions:","StreamWorkspaceView_14":"(Renamed from ${0})","StreamWorkspaceView_15":"(Moved)","StreamWorkspaceView_16":"(Deleted)","ContextView_CreateBaselineWithHover":"New Baseline","WorkspaceHistory_fetching":"Fetching details...","StreamWorkspaceView_17":"diff: ","Search_result_column_path":"Path","ContextView_NoButtonLabel":"No","SelectOrCreateWorkitemDialog_Error_Fetching_WI":"Error fetching work item.","Scm_extended_attribute_definition_confirm_nobutton_label":"No","Search_page_changeSets_properties_label":"Properties:","StreamWorkspaceView_21":" | ","StreamWorkspaceView_22":"View newer version of ${0}","StreamWorkspaceView_23":"Final","StreamWorkspaceView_24":"Line","ContextView_NewWorkspaceName":"New Workspace Name","StreamWorkspaceView_20":"Initial","StreamWorkspaceView_29":"Item History","util_iconComponentTeamAreaDescription":"Team area owner","WorkitemAndChangeRequestViewer_Assocoate_ChangeRequests":"Associate change request","ContextView_ReplaceOrSkipComponentInStream":"The selected component \'${0}\' is already in this stream. Do you want to add all the components and replace any components that already exist, or skip the components that already exist and add only the new components?","StreamWorkspaceView_25":" \x3e ","StreamWorkspaceView_26":"View component history","WorkspaceHistory_InaccessibleComponent":"&lt;Inaccessible component&gt;","Scm_extended_attribute_definition_attribute_donotcreate_label":"Do not create the attribute","StreamWorkspaceView_27":"History","StreamWorkspaceView_28":" Change set","Scm_extended_attribute_definition_attributeactions_header":"Actions","Search_result_column_date_created":"Date Created","SimpleTextAreaInputDialog_labelNote":"Note:","Search_page_text_input_label":"Name begins with:","SimpleHistoryGraphView_fetchNextPage":"Not all content is shown. Scroll to the bottom to see more...","ChangeSetsViewer_inaccessible_change":"${0} inaccessible change","Search_result_components_with_name":"Components name begins with \"${0}\"","Search_result_workspaces_with_search_criteria":"Workspaces that match the search criteria","StreamWorkspaceView_32":"Open Change set","Scm_extended_attribute_definition_attribute_applyto_baselineset_label":"Snapshots","Scm_extended_attribute_definition_attribute_view_attributesby_filter_all":"All","StreamWorkspaceView_33":"\x3cNo Comment\x3e","StreamWorkspaceView_34":"\x3cb\x3eReasons:\x3c/b\x3e ","StreamWorkspaceView_35":"&lt;None&gt;","Scm_landing_page_select_view":"Select View:","QueryLookup_SearchString_Text":"Matching Results:","StreamWorkspaceView_30":"Component History","UploadItem_cbCmtAutoDetect":"- Auto Detect -","StreamWorkspaceView_31":"\x3cb\x3eComment:\x3c/b\x3e ","StreamWorkspaceView_36":"Created by: ","FileFolderPropName_LineDelim":"Line Delimiter: ${0}","FileSizeUnit_TB":"${0} TB","StreamWorkspaceView_37":"\x3cb\x3eModified on:\x3c/b\x3e ","StreamWorkspaceView_38":"\x3cb\x3eAdded by:\x3c/b\x3e ","StreamWorkspaceView_39":"\x3cb\x3eAdded on:\x3c/b\x3e ","ChangeSetsViewer_labelCollapseRow":"Collapse row","CheckInHistoryViewer_stateType_move":"Move","Search_result_locks":"Search results for locks","BaselinesInComponentEntryView_Tbl_Col_owner":"Owner","GraphicalBaselines_CompareBaselinesMenuItem":"Compare Baselines","TextEditorItem_labelEditContent":"Edit content:","Scm_extended_attribute_definition_confirm_dialog_subtitle_edit":"Existing data will not be updated","ReadAccessPermissionDialog_labelCancel":"Cancel","Search_page_text_input_label_filename":"Version controlled item name begins with:","ContextView_ChangeOwnerHover":"Change Owner","ContextView_StreamUnlock":"The stream is locked by ${0}. Do you want to force unlock?","Scm_extended_attribute_definition_table_add_attribute_summary":"Use the following form to add a custom attribute.","WorkspaceHistory_ChangeSetsAdded":"Added content","ContextView_DeleteStreamWithOrphanedSnapshots":"\'${0}\' has snapshots associated with it. Please select another stream or repository workspace to own these snapshots.","StreamWorkspaceView_43":"Open Change set","UploadItem_labelRemove":"Remove Content","Search_paging_next":"Next","Scm_welcome_page_browse_workspace_tooltip":"Browse repository workspaces","FileNumOfLine":"${0} line","StreamWorkspaceView_40":"Team Active Changes","StreamWorkspaceView_41":"Active Change sets","Scm_extended_attribute_definition_attribute_viewbyartifact_label":"View attribute by artifact:","StreamWorkspaceView_42":"No current active team change sets.","Scm_welcome_page_dashboard_mini":"mini dashboard","Search_page_no_process_area":"Sorry, there are no project or team area available that you are a member of.","util_iconLocksDescription":"Lock","ContributorSelector_showAll":"Show All","Search_page_snapshot_input_default_text":"Type a snapshot name","ContributorSelector_ok":"OK","Scm_landing_page_title_streams":"Streams","ContextView_ComponentLocked":"The component is locked by ${0}.","WorkspaceHistory_DeliveredChangesInComponents":"Delivered changes to ${0} components","FileDiffView_initial_and_final_content_deleted":"Cannot display text comparison because both initial and final contents are deleted.","MessageDialog_labelInfo":"Information","Search_result_column_comment":"Comment","WorkItemLinksItem_labelServiceProviderDialog":"Related Change Request","AddComponentWizard_InaccessibleSubcomponentsNotInStreamDialogMessage":"The component hierarchy that is being added or replaced has inaccessible subcomponents that do not exist in the source stream.\n\nDo you want to skip these inaccessible subcomponents and add or replace the remaining components in the hierarchy?","StreamWorkspaceView_60":"Upload","StreamWorkspaceView_54":"History","StreamWorkspaceView_55":"Download","FileFolderContentView_emptyDirectory":"Directory is empty.","WorkItemLinksItem_labelChangeRequestLinks":"Associate change request...","StreamWorkspaceView_57":"(Added)","ContextView_CustomAttributeActionColTitle":"Actions","Links_save_server_error.explanation":"During the attempt to set the validity, the server could not be reached. The server might be offline or the network might be experiencing issues.","StreamWorkspaceView_52":"Show:","StreamWorkspaceView_53":"${0} History","Search_page_invalid_file_name_pattern_error":"Invalid input. File name pattern should not comprise of only wildcards","Search_page_file_matchCase_label":"Case Sensitive","ReplaceComponentWizard_11":"Replace Component","ReplaceComponentWizard_10":"Select a snapshot.","StreamWorkspaceView_58":"\xab Newer","Scm_breadcrumb_workspaces":"Workspaces","StreamWorkspaceView_59":"Older \xbb","ReadAccessPermissionDialog_ComponentProcessAreaDescription":"Everyone with read access to the selected project area, or with both read access and membership in the selected team area, will be able to see the files, folders and change sets in this component.","LocateChangeSetView_AddSnapshotsFromQuery":"Add snapshots from a query","Search_page_component_input_label":"Component:","WorkspaceHistory_PortAbort":"Discarded merge change set for gap in component \'${0}\'","WorkspaceHistory_ClosedChangeSetNComponents":"Change sets completed in ${0} components","UploadItem_UploadFailed":"Upload failed","Scm_welcome_page_browse_stream_tooltip":"Browse streams or edit resources in a stream.","OwnerSelectionDialog_labelCancel":"Cancel","WorkspaceHistory_ShowOperationHistoryMenu":"Show Operation History","GraphicalBaselines_ShowBaselineRepositoryFilesMenuItem":"Show Baseline Repository Files","Search_items_per_page_500":"500","Search_page_Snapshot":"Snapshot","Scm_extended_attribute_definition_attributedefaultvalue_label":"Default Value:","CheckInHistoryViewer_stateType_delete":"Delete","FileFolderProp_Size":"Size","BaselineHistoryGraphViewHandler_ReleasedBaseline":"A snapshot associated with this operation was marked as a release.","Workspace_And_Owner_Label":"${0} (${1})","FilesFoldersView_TabTitleProperties":"Properties","Context_Compare_title_info":"Compare \'${0}\' with \'${1}\'","FileDiffView_DiffPath":"Text Compare: ${0}","Search_result_changeset_with_search_criteria":"Change sets that match the search criteria","Search_page_Baseline":"Baseline","CreateSnapshotDialog_labelAdvanced_1":"Show","Scm_extended_attribute_definition_delete_confirm":"Deleting an attribute does not delete the attribute on existing artifacts.\x3cbr\x3eDo you want to delete the \'${0}\' attribute?","util_iconFolderDescription":"Folder","Scm_welcome_page_browse_workspace":"Browse repository workspaces","CreateSnapshotDialog_labelAdvanced_2":"Hide","StreamWorkspaceView_ErrorFetchingChanges":"Error fetching changes. ${0}","LocateChangeSetView_StreamResultDetailsText":"Locate change set search result for stream \"${0}\"","GraphicalBaselineUtils_Error":"Error: ${0}","UnknownLockDecorator":"(Unknown lock status)","GraphicalBaselines_TagFilterType_Iteration":"Iteration","Links_Report_Links_Column":"Links","StreamWorkspaceView_ErrorUpdatingChangesetComment":"An error occured while updating the change-set comment : ${0}","FileDiffView_Modified":"modified","UploadItem_cbLdCRLFWindows":"CRLF (Windows)","Component_page_loading":"Loading component...","ConfigurationManagementPage_ConfigurationManagementNowEnabledMessage":"This project area is now enabled for full configuration management.  Streams, baselines and snapshots from this project area can now be published to the EWM SCM Configuration Resources (TRS 2.0) feed.","FileNumOfLines":"${0} lines","ContextView_OutgoingFlowDesc":"outgoing","FileDiffView_ChangeAdded_Who_When":"Added by ${0} at ${1}","ContextView_labelSnapshotName":"${0}\xa0\xa0(${1})","WorkspaceHistory_AdditionalBaselines":"${0} more baselines...","SelectSnapshotWizard_Desc":"Select a snapshot.","LocateChangeSetView_CsIncludedIndirectlyText":"Change Sets Included Indirectly","SimpleTextInputDialog_labelCancel":"Cancel","ContextView_labelNoComponents":"No Components","Search_result_files_with_search_criteria":"Files that match the search criteria","LocateChangeSetView_SearchTargetsText":"Choose where you would like to search for the selected change sets.","ResourcesEditor_titleRenameFolder":"Rename folder","Versionable_CustomAttributes_Save_Msg":"Saving custom attributes","LocateChangeSetView_NoComment":"\x3cNo Comment\x3e","Scm_extended_attribute_definition_addattribute_dlg_title":"Add Attribute","Search_page_component_input_tooltip":"Enter component name","LocateChangeSetView_labelResult":"Result","Versionable_CustomAttributes_Status_Msg1":"Note: You cannot manage custom attributes as the component \"${0}\" that holds this file is not owned by a project area or team area.","ResourcesEditor_titleEditTextFile":"Edit text file","AutoMatchInputBox_noResultsLabel":"No results found","GraphicalBaselines_RichClientTitle":"History Graph","WorkspaceHistory_ImportedChangeSet":"Imported change set into component \'${0}\'","Links_Report_Status_Message":"Loading files and links...","FileFolderProp_LastMod":"Last Modified","WorkspaceHistory_RemovedNComponents":"Removed ${0} components","ResourcesEditor_titleUploadMultipleFileAdd":"New file(s)","ReplaceComponentWizard_inaccessibleBaselineFound":"The component hierarchy could not be added or replaced because a baseline in the hierarchy is inaccessible.","ContextView_IncomingFlowDesc":"incoming","QueryLookup_NameFilter_Default_Text":"Start typing the query name","LocateChangeSetView_SearchingInOneTarget":"Searching in ${0} search target","ContextView_labelAddComponentFromWorkspace":"${0} (to add from ${1})","WorkspaceHistory_IncludeCheckins":"Show check-in and create change set operations","WorkspaceHistory_ReplacedStream":"Replaced stream","Scm_extended_attribute_definition_addattribute_okbutton_label":"Add","LocateChangeSetView_HeaderName":"Locate Change Sets","ContextView_LabelCurrentFlow":"Current Flow","ChangeSetsViewer_authorText":"${0} - ${1}","util_iconTxtDescription":"Text file","ContextView_labelVisibility":"Visibility: ","Search_page_snapshot_process_area_input_label":"Project or Team Area of Streams:","WorkspaceHistory_CurrentUser":"Current User","Search_paging_previous":"Previous","LocateChangeSetView_CsIncludedByText":"Included By","MessageDialog_labelOK":"OK","GraphicalBaselines_labels_SnapshotName":"Snapshot name","WorkspaceHistory_RelocateChanges":"Changes moved between change sets in component \'${0}\'","util_lockedByMe":"Locked by me","AddComponentWizard_3":"Select Component","AddComponentWizard_2":"Choose where to find the components to add.","AddComponentWizard_1":"Component Source","util_iconUserDescription":"User","ContextView_visibility_accessgroup":"Access Group Scoped (${0})","AddComponentWizard_7":"Components from the following baseline hierarchy will be added or replaced.","UploadItem_labelNoFilesChosen":"No files chosen","AddComponentWizard_6":"Select a baseline from the list.","AddComponentWizard_5":"Baselines","AddComponentWizard_4":"Select the component to be searched for baselines.","WorkspaceHistory_AcceptedChanges":"Accepted changes into component \'${0}\'","LocateChangeSetView_AddSearchTargetTitle":"Add search targets","ScmPageController_Error_Fetch_ConfigurationItems2":"The item cannot be retrieved because the server is not responding.","BaselineHistoryGraphViewHandler_BaselineIdAndName":"${0}: ${1}","ScmPageController_Error_Fetch_ConfigurationItems1":"An error occurred retrieving this item: ${0} - Error: ${1}","Scm_landing_page_more":"More...","SelectSnapshotWidget_searchBarText":"Start typing to filter by snapshot name.","Search_scope_locks":"Locks","Search_result_streams_with_name":"Streams name begins with \"${0}\"","SimpleHistoryGraphView_RemoveStream_label":"Remove Stream","Scm_extended_attribute_definition_error_blankconfigdata":"The attribute definition is empty.","ResourcesEditor_progressFetchOslcTargetRepoInfo":"Locating change request...","Scm_extended_attribute_definition_attributetype_label":"Type:","ScopeComponentsDialog_StreamDescription":"Choose which components are flowed to/from the \'${0}\' stream.","BaselineHistoryGraphViewHandler_BaselineCreatorLabel":"Creator:","util_FinalContentTypeNotSupported":"Cannot display text comparison because the final content type is ${0}.","ContributorSelector_enterName":"Enter user name:","ResourcesEditor_titleRenameFile":"Rename file","ComponentHistoryView_CommentColumn":"Comment","Search_page_workspace_input_default_text":"Type a workspace name","Search_page_changeSets_context_label":"Context:","util_iconTeamAreaDescription":"Team area","BaselineHistoryGraphViewHandler_BaselineSnaphots":"The baseline is associated with the following snapshots: ","util_iconZipDescription":"Zip archive file","Search_page_text_input_label_filenamePattern":"Name or pattern (*,?):","ScmPageController_32":"Retrieving item history","ScmPageController_33":"Opening change set","ContextView_ReplaceOrSkipComponentsInStream":"Some of the selected components are already in this stream. Do you want to add all the components and replace any components that already exist, or skip the components that already exist and add only the new components?","AddComponentWizard_InaccessibleSubcomponentInStreamDialogMessage":"The component hierarchy could not be added or replaced because there was an inaccessible subcomponent that exists in the source stream.\n\nThe UUID of the inaccessible subcomponent is: ${0}","ScmPageController_30":"Retrieving content","ScmPageController_31":"Retrieving component history","Scm_breadcrumb_workspaces_tooltip":"Show Workspaces","CompareContextsChanges_labelDescription":"Not implemented yet (${0}).","LocateChangeSetView_FetchSnapshotQueryResultMessage":"Fetching snapshot query result","SelectBaselineWizard_Title":"Select a Baseline","ReadAccessPermissionDialog_Unknown":"Unknown","ReadAccessPermissionDialog_WorkspaceAccessGroupDescription":"Every member of the access group, or member of a project or team area in the access group, will be able to see the files, folders and change sets in the public components in this repository workspace.","ContextView_progressStream":"Retrieving stream","WorkspaceHistory_AdditionalChangeSets":"${0} more change sets...","WorkspaceHistory_CreatedSnapshot":"Created snapshot \'${0}\'","ScmPageController_36":"The following errors occurred attempting to unlock the stream:\n\n${0}\n\nDo you want to try to force the unlock?","ScmPageController_37":"Retrieving Baselines","ScmPageController_34":"Retrieving content","ScmPageController_35":"Retrieving snapshots","ChangeSetChangeView_Heading":"Text Compare: ${0} - ${1}","util_iconRenameDescription":"Rename","Search_page_location_input_label":"Location:","UnlockedDecorator":"(Unlocked)","UploadItem_notUploaded":"Uploading is not complete.","util_InitialContentTypeNotSupported":"Cannot display text comparison because the initial content type is ${0}.","WorkspaceHistory_InaccessibleWorkspace":"&lt;Inaccessible workspace&gt;","FileFolderProp_Encoding":"Encoding","ScmPageController_0":"Source Control","ContextView_ShowBaselinesWithHover":"Show Baselines","ScmPageController_ChangeCompareTitle":"Compare ${0} - ${1}","UploadItem_cbCmtBinary":"Binary file (application/octet-stream)","ContextView_labelComponentBaseline":"${0}\xa0\xa0(${1}: ${2})","BaselineHistoryGraphViewHandler_BaselineCustomAttributes":"Custom attributes:","ScmPageController_4":"Error fetching team changes: ${0} - Error code ${1}","ScmPageController_3":"Active Team Change sets","ConfigurationManagementPage_EnableButtonText":"Enable Full Configuration Management","UploadItem_cancelled_by_user":"Cancelled by user","Search_page_workspace_input_tooltip":"Enter a workspace name","ScmPageController_5":"Error fetching team changes: Server not responding","CheckInHistoryViewer_tableColumn_type":"Type","Loading_0":"Loading...","SelectBaselineWidget_Title":"Select a Baseline","WorkitemAndChangeRequestViewer_error":"An error occurred. Reason: \"${0}\"","Search_page_search_by":"Search By","Search_page_location_input_tooltip":"Enter a stream or workspace name","ContextView_CompareWithWorkspaceHover":"Compare with another Repository Workspace or Stream","BaselinesInComponentEntryView_Tbl_Col_creationDt":"Date Created","Search_items_per_page_100":"100","FileDiffView_CollapseAll_ToolTip":"Hide details of all changes.","ScopeComponentsDialog_SelectAll":"Select All","util_iconHtmlDescription":"HTML file","ResourcesEditor_progressNewFolder":"Adding new folder...","ContextView_DeleteStreamWithNoBackup":"Just delete the stream (content cannot be recovered)","ReadAccessPermissionDialog_ComponentPublicDescription":"Everyone in the repository will have access to the files, folders and change sets in this component.","CheckInHistoryViewer_stateType_initial":"Initial","CompareContextsView_tabOutgoing":"Only in \"${0}\"","CheckInHistoryViewer_tableColumn_date":"Date","ContextView_visibility_teamArea":"Team Private","Search_result_snapshot_with_search_criteria":"Snapshots that match the search criteria","GraphicalBaselines_IncompatibleBrowser":"The embedded web browser version is too old or incompatible: ${0}. If you are using Eclipse you can open in an external browser with a preference in Team-\x3eJazz Source Control.","WorkspaceHistory_Rollback":"Rollback","ScmPageController_18":"Error fetching item history: Server not responding","WorkspaceHistory_InaccessibleStream":"&lt;Inaccessible stream&gt;","ScmPageController_19":"Error fetching change set: ${0} - Error code ${1}","WorkspaceHistory_CreateRepositoryWorkspace":"Create Repository Workspace...","ScmPageController_16":"Error fetching component history: Server not responding","ScmPageController_17":"Error fetching item history: ${0} - Error code ${1}","ScmPageController_14":"${0} history not found","Scm_landing_page_title_workspaces":"Repository Workspaces","ScmPageController_15":"Error fetching component history: ${0} - Error code ${1}","OwnerSelectionDialog_RestrictToTeamArea":"Restrict to members of this team area and its child team areas","ScmPageController_12":"Error fetching item: ${0} - Error code ${1}","ScmPageController_13":"Error fetching item: Server not responding","ContextView_RemoveComponentHover":"Remove","ContextView_inaccessibleFlowTarget":"\x3cmissing flow target #${0}\x3e","UploadItem_cbCmtXml":"XML source (application/xml)","ResourcesEditor_PromptNotText":"This resource does not appear to be a text file. Its content type is currently set as ${0}. If you edit this file, the file might become unusable. Click OK to continue, or Cancel to leave the resource unchanged.","ContextView_CompareComponentWithAnotherWorkspace":"Another Repository Workspace or Stream...","util_iconLockDownloadDescription":"Lock and download","Component_Menu_Streams":"Streams","LocateChangeSetView_labelIncludedDirectly":"Included Directly","ContextView_CompareHoverText":"Compare","Search_result_column_name":"Name","WorkspaceHistory_Replace_In_Workspace":"Replace in Workspace or Stream...","Links_validity_not_supported.explanation":"Some links does not support validity.","GraphicalBaselines_Labels":"Labels","Scm_welcome_page_text":"To get started, ${0}, ${1}, ${2} or ${3}.","UploadItem_altEditFileProperties":"Edit File Properties","ContextView_progressBaselineHistory":"Retrieving baseline history","GraphicalBaselines_TagFilterType_Iteration_Description":"Specify an iteration. Only baselines that are part of the iteration are displayed.","ScmPageController_21":"state ${0} of item ${1} not found","WorkspaceHistory_EachOther":"Compare With Each Other","ScmPageController_UnknownWorkspace":"{unknown workspace}","ScmPageController_22":"${0} file not found","WorkspaceHistory_ChangesInInaccessibleComponent":"Changes in one inaccessible component","Component_Menu_Git_Connection":"Git Requests","ScmPageController_20":"Error fetching change set: Server not responding","Scm_welcome_page_learn_more":"Learn more about source control \x3e","OslcLink_NotInContext.explanation":"Some data dependent upon the context and may have unexpected values when this item is not a member of the current configuration context.","Scm_welcome_page_create_stream":"Create a stream","Scm_extended_attribute_definition_addeditattribute_cancelbutton_label":"Cancel","ScmPageController_27":"Retrieving team changes","Search_page_baseline_input_default_text":"Type a baseline name","ScmPageController_25":"Error fetching baselines: ${0} - Error code ${1}","WorkspaceHistory_SuspendedComponent":"Suspended changes from component \'${0}\'","ScmPageController_26":"Error fetching baselines: Server not responding","ScmPageController_23":"Error fetching item: ${0} - Error code ${1}","BaselineHistoryGraphViewHandler_BaselineAccepted":"The baseline was accepted by ${0} on ${1}.","ScmPageController_24":"Error fetching item: Server not responding","ComponentHistoryView_ActionColumn":"Actions","ContextView_progressSnapshots":"Retrieving snapshots","ContextView_YesButtonLabel":"Yes","FileFolderContentView_applicationUnknown":"Unable to show file as its content is application/unknown. If this is known to contain text, \x3ca href=\"${0}\" id=\"${0}\"\x3eshow anyway\x3c/a\x3e or please consider \x3ca href=\"${1}\"\x3edownloading\x3c/a\x3e the file to open in a native editor.","Scm_landing_page_progress_retrieving_streams":"Retrieving Streams...","LocateChangeSetView_SearchingInMoreThanOneTarget":"Searching in ${0} search targets","Scm_extended_attribute_definition_attributedefaultvalue_header":"Default Value (Files only)","OwnerSelectionDialog_ProcessArea":"Project Area or Team Area","ReadAccessPermissionDialog_ComponentDescription":"Select who will have read access to the component.","Links_no_history_found":"CRRTC5163I No valid links were found.","Versionable_CustomAttributes_errorMsg_4":"Custom attributes are not saved, as the component \"${0}\" is not owned by a project area or team area.","Search_page_owner_input_tooltip":"Enter user name","DateRangeWidget_SelectionAfterTime":"On or after: ","ResourcesEditor_labelEditFileProperties":"Edit File Properties","FileFolderContentView_contentNotDownloadable":"Can not download ${0}. Reason: ${1}","Component_page_name":"Name:","WorkspaceHistoryView_ContributorColumn":"User","Versionable_CustomAttributes_errorMsg_2":"${0} Reason: ${1}.","DateRangeWidget_DateMustBeBefore":"Date must be greater than or equal to the after date","WorkspaceHistory_AdditionalChangeSetsAndBaselines":"${0} more change sets and ${1} more baselines...","Versionable_CustomAttributes_errorMsg_3":"Error saving custom attributes.","ContextView_DeleteSnapshot_Confirmation_Msg1":"Are you sure you want to delete snapshot \'${0}\' ?","newBaselineDialog_btnLblCancel":"Cancel","Search_page_required_input_tooltip":"The value is required.","ContextView_DeleteSnapshot_Confirmation_Msg2":"Are you sure you want to delete snapshot \'${0}\' from \'${1}\' ?","ContextView_labelNone":"\x3cNone\x3e","Versionable_CustomAttributes_errorMsg_1":"Error fetching custom attributes.","ContextView_progressComponent":"Retrieving component","Context_Compare_WorkspaceComponent":"${0} - ${1}","Scm_welcome_page_show_locks_tooltip":"show locks by owner","ReadAccessPermissionDialog_Public":"Public","ContextView_DeleteStreamHover":"Delete Stream","GraphicalBaselines_labels_ReleaseName":"Release name","WorkspaceHistory_CrossComponentMove":"Moved content between components","BaselineHistoryGraphViewHandler_BaselineCommentLabel":"Description:","BaselinesInComponentEntryView_Tbl_Col_comment":"Comment","FileFolderPropName_Executable":"Executable: true","ContextView_unknown":"Unknown","WorkspaceHistory_CreatePort":"Created merge change set for gap in component \'${0}\'","FileFolderProp_ModBy":"Modified By","SelectBaselineWizard_Desc":"Select a baseline.","GraphicalBaselines_labels_BaselineName":"Baseline name","newBaselineDialog_lblExistingBaselines":"Existing Baselines","Links_tab_message_nogcontext":"No global configuration is available. Links to related artifacts might not show the correct information.","Scm_extended_attribute_definition_attribute_applyto_component_label":"Components","ContextView_SaveStreamOperationLabel":"Saving stream","GraphicalBaselines_ToggleSize":"Expand or collapse the labels. Collapsed labels show only baseline IDs.","CreateSnapshotDialog_NameBlank":"Name cannot be left blank","util_iconWorkspacesDescription":"Workspaces","ScopeComponentsDialog_Title":"Scope Components for the Flow Target","Scm_extended_attribute_definition_attribute_artifact_group_label":"Allow this attribute for the following artifacts:","SelectComponentSourceWizard_Baseline":"Component baseline","util_iconPdfDescription":"PDF file","OslcLink_NotInContext":"CRRTC5167W This item is not a member of the current global configuration. Any references which depend upon the configuration may have an unexpected value.","LocateChangeSetView_FetchWorskpaceStreamQueryResultMessage":"Fetching worskpace or stream query result","UploadItem_cbLdCRMac":"CR (Mac)","WorkspaceHistory_AdditionalChanges":"${0} more changes...","Search_result_baselines":"Search results for baselines","Component_Menu_Workspaces":"Repository Workspaces","BaselineHistoryGraphViewHandler_ComponentRemovalOperation":"(Component removed)","Context_Compare_title":"Compare","Links_validity_set_menu_label":"Mark as ${0}","DateRangeWidget_DateRange":"Select Dates","ContextView_NewComponentsLabel":"Enter name for new component:","ContextView_BaselineHierarchySectionTitle":"Baseline hierarchy","UploadItem_cbCmtPlainText":"Plain text (text/plain)","Switch_gccontext_message":"Change Configuration Context","Search_page_change_moveKind_label":"Move","StreamWorkspaceView_labelCollapseRow":"Hide comparison and history","WorkspaceHistory_UnableToCreateWorkspaceDetail":"The select operation does not include sufficient information to recreate a workspace.","FileDiffView_Merged":"merged","CodeReviewSubmitWizard_2":"Select the Target Stream","WorkspaceHistory_ChangesAcceptedFromWorkspace":"Changes were accepted from workspace ","CodeReviewSubmitWizard_1":"Submit for Code Review","Search_page_owner_input_default_text":"Type user name","ReadAccessPermissionDialog_StreamDescription":"Select who will have read access to the stream.","Scm_extended_attribute_definition_confirm_dialog_subtitle_delete":"Existing data will not be deleted","CodeReviewSubmitWizard_4":"Add Reviewers and comment","CheckInHistoryViewer_viewerTitle":"Check-in History of ${0}","CodeReviewSubmitWizard_3":"Choose the code review target stream.","ContextView_RefreshHover":"Refresh","util_iconWorkspaceDescription":"Workspace","CodeReviewSubmitWizard_6":"Optional comment:","FileSize":"Size: ${0}","CodeReviewSubmitWizard_5":"Choose one or more reviewers.","Search_page_location_input_default_text":"Type a stream or workspace name","ContextView_NewComponentHover":"New","ScmPageView_No_Read_Access":"The client access licenses assigned to you do not allow for access to source control operations.","BaselineHistoryGraphViewHandler_BaselineSnaphot":"The baseline is associated with this snapshot: ","LocateChangeSetView_AddStreamsText":"Add Streams...","BaselineHistoryGraphViewHandler_BaselineComponentAddedOnLabel":"Component added on:","WorkspaceHistory_CompletePort":"Completed merge change set for gap in component \'${0}\'","WorkspaceHistory_CreatedBaseline":"Created baseline \'${0}\' on component \'${1}\'","ReadAccessPermissionDialog_WorkspaceProjectAreaDescription":"Everyone with read access to the selected project area will be able to see the files, folders and change sets in the public components in this repository workspace.","ReadAccessPermissionDialog_PublicDescription":"Everyone in the repository will be able to see the files, folders and change sets in all public components in this repository workspace. In addition, this repository workspace will appear in search results.","ContextView_DuplicateWorkspaceHover":"Duplicate Workspace","GraphicalBaselines_AddStreams":"Add more streams and repository workspaces to the diagram","ContextView_CustomAttributeValueColToolTip":"Click to edit the value","LocateChangeSetView_SearchTargetsHeading":"Search Targets","ContextView_DeleteWorkspaceConfirmation":"Do you want to delete the repository workspace \'${0}\' from the repository?","Component_Menu_Search":"Search","ChangeSetsViewer_inaccessible_changes":"${0} inaccessible changes","ContextView_DeleteStream_label_Browse":"Browse...","ContextView_ReplaceComponentInWorkspace":"The selected component \'${0}\' is already in this repository workspace. Continue with replacing the component?","OwnerSelectionDialogDialog_Title":"Select Component Owner","AutoMatchInputBox_loading":"Loading...","ScopeComponentsDialog_FlowAll":"Flow all components","ContextView_NavigatingAwayFromPage":"You have unsaved changes that will be lost. Are you sure you want to continue?","WorkitemAndChangeRequestViewer_Associate_Workitems":"Associate work item","Links_tab_message_incoming_links_header":"Incoming Links:","Query_landing_page_project_area_label":"Project Area:","LocateChangeSetView_ChangeSetWithNoWorkItemMessage":"1 change set with no work item","ControlView_Title":"History Graph of Component \"${0}\"","ContributorSelector_matchingUsers":"Matching users:","StreamWorkspaceView_actionsHeader":"Actions","ContextView_CancelButtonLabel":"Cancel","Search_result_column_component":"Component","UploadItem_cbCmtGif":"GIF image (image/gif)","ProcessAreaSelectWidget_any":"\x3cany\x3e","SimpleHistoryGraphView_RemoveAllColumns_label":"Remove Columns to the Right","WorkspaceHistory_ChangesDeliveredFromWorkspace":"Changes were delivered from workspace "};

;dojo.provide("com.ibm.team.scm.web.client.internal.ScmClientNative");












dojo.requireLocalization("com.ibm.team.scm.web.internal","Messages");
(function(){
var _1,_2,_3,_4,_5;
_1=com.ibm.team.repository.web.transport.ServiceRequest;
_2=com.ibm.team.repository.web.transport.ServiceResponseHandler;
_3=com.ibm.team.repository.web.transport.TeamServerClient;
_4=net.jazz.ajax.core.internal.util.callContributedCode;
_5=dojo.i18n.getLocalization("com.ibm.team.scm.web.internal","Messages");
com.ibm.team.scm.web.client.internal.ScmClientNative={SECURE_SERVICE_PREFIX:dojo.baseUrl+"../../resource/",SERVICE_URI:"com.ibm.team.scm.common.internal.rest.IScmRestService",SERVICE_URI_2:"com.ibm.team.scm.common.internal.rest.IScmRestService2",FILESYSTEM_SERVICE_URI:"com.ibm.team.filesystem.common.internal.rest.IFilesystemRestService",FILESYSTEM_SERVICE_URI_2:"com.ibm.team.filesystem.common.internal.rest.IFilesystemRestService2",FILESYSTEM_WORKITEM_SERVICE_URI:"com.ibm.team.filesystem.common.workitems.internal.rest.IFilesystemWorkItemRestService",RICH_CLIENT_SERVICE_URI:"com.ibm.team.scm.common.rest.IScmRichClientRestService",SCM_OSLC_SERVICE_URI:"com.ibm.team.scm.oslc.common.internal.IScmOslcRestService",WORKSPACE_PREFIX:"itemOid/com.ibm.team.scm.Workspace/",COMPONENT_PREFIX:"itemOid/com.ibm.team.scm.Component/",CALM_FOUNDATION_REST_SERVICE:"com.ibm.team.calm.foundation.server.internal.rest.ICALMFoundationRestService",_getResource:function(_6,_7,_8){
var _9,_a;
_9={};
_9.accept="text/json";
_9["content-type"]="application/x-www-form-urlencoded; charset=utf-8";
_a=this._getBindArgs(_6,_7,_8);
jazz.client.xhrGet(_a);
},_getBindArgs:function(_b,_c,_d){
var _e,_f,_10;
_e={};
_e.accept="text/json";
_e["content-type"]="application/x-www-form-urlencoded; charset=utf-8";
_f=this;
_10={url:_f._assembleURL(_c,_d),handleAs:"json",headers:_e,preventCache:dojo.isIE,handle:function(_11,_12){
var _13,_14,_15,_16;
if(_11 instanceof Error){
_13={status:_12.xhr.status,message:_12.xhr.statusText,exception:_12.xhr.responseText};
if(_12.xhr.statusText==="Internal Server Error"){
_14=_12.xhr.responseText||"";
_14=dojo.fromJson(_14);
if(dojo.isObject(_14)){
_13.message="["+_14.errorCode+"] : "+_14.errorMessage;
_13.exception=_14;
}else{
_13.message=_14;
if(_13.message.indexOf("-- ")>0&&_13.message.length>3){
_13.message=_13.message.substring(_13.message.indexOf("-- ")+3);
}
_13.message=_13.message.replace(/&#39;/g,"\"");
}
}else{
if(_12.xhr.status===401){
_15=_5.ScmClient_0;
alert(_15);
_13.message=_15;
}else{
if(_12.xhr.status===403&&_12.args.url.match(/^.*IWebUIInitializerRestService\/initializationData.*$/)){
_15=_5.ScmClient_1;
alert(_15);
_13.message=_15;
}else{
_13.message=_12.xhr.statusText;
}
}
}
_13.message=dojo.string.trim(decodeURIComponent(_13.message).replace(/\+/g," ").replace(/^(-*)/g,""));
_b.doErrorCallback(_13);
}else{
_16=_11;
_4(function(){
_b.doCallback(_16);
});
}
}};
return _10;
},_assembleURL:function(_17,_18){
var _19,_1a,url,_1b,_1c;
_19=/^https/;
_1a=this.SECURE_SERVICE_PREFIX;
url=_1a+_17;
if(_18){
_1b=dojo.objectToQuery(_18);
_1c=(_1b!==null)?("?"+_1b):"";
url+=_1c;
}
return url;
},_invokeScmService:function(_1d,_1e,_1f){
var _20;
if(arguments.length===2){
_20=new com.ibm.team.repository.web.transport.ServiceRequest(this.SERVICE_URI,_1e);
}else{
_20=new com.ibm.team.repository.web.transport.ServiceRequest(this.SERVICE_URI,_1e,_1f);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_20,_1d);
},_invokeCALMFoundationRestService:function(_21,_22,_23){
var _24;
if(arguments.length===2){
_24=new com.ibm.team.repository.web.transport.ServiceRequest(this.CALM_FOUNDATION_REST_SERVICE,_22);
}else{
_24=new com.ibm.team.repository.web.transport.ServiceRequest(this.CALM_FOUNDATION_REST_SERVICE,_22,_23);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_24,responseHandler);
},_invokeScmService2:function(_25,_26,_27){
var _28;
if(arguments.length===2){
_28=new com.ibm.team.repository.web.transport.ServiceRequest(this.SERVICE_URI_2,_26);
}else{
_28=new com.ibm.team.repository.web.transport.ServiceRequest(this.SERVICE_URI_2,_26,_27);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_28,_25);
},_invokeRepositoryService:function(_29,_2a,_2b){
var _2c;
if(arguments.length===2){
_2c=new com.ibm.team.repository.web.transport.ServiceRequest(this.REPOSITORY_SERVICE_URI,_2a);
}else{
_2c=new com.ibm.team.repository.web.transport.ServiceRequest(this.REPOSITORY_SERVICE_URI,_2a,_2b);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_2c,_29);
},_invokeFilesystemService:function(_2d,_2e,_2f){
var _30;
if(arguments.length===2){
_30=new com.ibm.team.repository.web.transport.ServiceRequest(this.FILESYSTEM_SERVICE_URI,_2e);
}else{
_30=new com.ibm.team.repository.web.transport.ServiceRequest(this.FILESYSTEM_SERVICE_URI,_2e,_2f);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_30,_2d);
},_invokeFilesystemService2:function(_31,_32,_33){
var _34;
if(arguments.length===2){
_34=new com.ibm.team.repository.web.transport.ServiceRequest(this.FILESYSTEM_SERVICE_URI_2,_32);
}else{
_34=new com.ibm.team.repository.web.transport.ServiceRequest(this.FILESYSTEM_SERVICE_URI_2,_32,_33);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_34,_31);
},_invokeFilesystemWorkItemService:function(_35,_36,_37){
var _38;
if(arguments.length===2){
_38=new com.ibm.team.repository.web.transport.ServiceRequest(this.FILESYSTEM_WORKITEM_SERVICE_URI,_36);
}else{
_38=new com.ibm.team.repository.web.transport.ServiceRequest(this.FILESYSTEM_WORKITEM_SERVICE_URI,_36,_37);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_38,_35);
},_invokeRichClientService:function(_39,_3a,_3b){
var _3c;
if(arguments.length===2){
_3c=new com.ibm.team.repository.web.transport.ServiceRequest(this.RICH_CLIENT_SERVICE_URI,_3a);
}else{
_3c=new com.ibm.team.repository.web.transport.ServiceRequest(this.RICH_CLIENT_SERVICE_URI,_3a,_3b);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_3c,_39);
},_invokeScmOslcService:function(_3d,_3e,_3f){
var _40;
if(arguments.length===2){
_40=new com.ibm.team.repository.web.transport.ServiceRequest(this.SCM_OSLC_SERVICE_URI,_3e);
}else{
_40=new com.ibm.team.repository.web.transport.ServiceRequest(this.SCM_OSLC_SERVICE_URI,_3e,_3f);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_40,_3d);
}};
}());


;define("dojox/string/Builder",["dojo/_base/lang"],function(_1){
var _2=_1.getObject("string",true,dojox).Builder=function(_3){
var b="";
this.length=0;
this.append=function(s){
if(arguments.length>1){
var _4="",l=arguments.length;
switch(l){
case 9:
_4=""+arguments[8]+_4;
case 8:
_4=""+arguments[7]+_4;
case 7:
_4=""+arguments[6]+_4;
case 6:
_4=""+arguments[5]+_4;
case 5:
_4=""+arguments[4]+_4;
case 4:
_4=""+arguments[3]+_4;
case 3:
_4=""+arguments[2]+_4;
case 2:
b+=""+arguments[0]+arguments[1]+_4;
break;
default:
var i=0;
while(i<arguments.length){
_4+=arguments[i++];
}
b+=_4;
}
}else{
b+=s;
}
this.length=b.length;
return this;
};
this.concat=function(s){
return this.append.apply(this,arguments);
};
this.appendArray=function(_5){
return this.append.apply(this,_5);
};
this.clear=function(){
b="";
this.length=0;
return this;
};
this.replace=function(_6,_7){
b=b.replace(_6,_7);
this.length=b.length;
return this;
};
this.remove=function(_8,_9){
if(_9===undefined){
_9=b.length;
}
if(_9==0){
return this;
}
b=b.substr(0,_8)+b.substr(_8+_9);
this.length=b.length;
return this;
};
this.insert=function(_a,_b){
if(_a==0){
b=_b+b;
}else{
b=b.slice(0,_a)+_b+b.slice(_a);
}
this.length=b.length;
return this;
};
this.toString=function(){
return b;
};
if(_3){
this.append(_3);
}
};
return _2;
});

dojo.provide("jazz.util.nls.dateMessages")._built=true;
dojo.provide("jazz.util.nls.dateMessages.en_us");
jazz.util.nls.dateMessages.en_us={"lessThanMinAgo":"Less than 1 minute ago","pastSeveralDays":"More than one day ago","pastDays":"${0} days ago","inHourAndMin":"In 1 hour and 1 minute","paddedResult":"0${0}","pastHourAndMins":"1 hour and ${0} minutes ago","stopwatchTime":"${0}:${1}:${2}","pastHour":"1 hour ago","pastSeveralDaysWithDate":"More than one day ago (${0})","pastMins":"${0} minutes ago","inMin":"In 1 minute","day":"1 day","threePartAbbreviatedTime":"${0} h ${1} m ${2} s","inHours":"In ${0} hours","tomorrow":"Tomorrow","pastMin":"1 minute ago","lastWeek":"Last Week","pastHourAndMin":"1 hour and 1 minute ago","inSeveralDays":"In more than one day","inSeveralDaysWithDate":"In more than one day (${0})","twoPartDuration":"${0}, ${1}","threePartDuration":"${0}, ${1}, ${2}","inDays":"In ${0} days","inDay":"In 1 day","onePartAbbreviatedTime":"${0} s","absoluteAndRelative":"${0} (${1})","sec":"1 second","yesterday":"Yesterday","inLessThanMin":"In less than 1 minute","pastHours":"${0} hours ago","mins":"${0} minutes","min":"1 minute","hour":"1 hour","pastHoursAndMin":"${0} hours and 1 minute ago","now":"Now","millisec":"1 millisecond","inHoursAndMin":"In ${0} hours and 1 minutes","nextWeek":"Next Week","pastDay":"1 day ago","hours":"${0} hours","dateAndTime":"${0} ${1}","millisecs":"${0} milliseconds","inHoursAndMins":"In ${0} hours and ${1} minutes","pastHoursAndMins":"${0} hours and ${1} minutes ago","lessThanSec":"Less than 1 second","inHour":"In 1 hour","inHourAndMins":"In 1 hour and ${0} minutes","secs":"${0} seconds","twoPartAbbreviatedTime":"${0} m ${1} s","inMins":"In ${0} minutes","days":"${0} days","millisecsShort":"${0} ms","stopwatchTimeWithDay":"${0}, ${1}:${2}:${3}"};

;dojo.provide("jazz.util.date");








dojo.requireLocalization("jazz.util","dateMessages");
(function(){
var _1="--";
var _2=24;
var _3=1000;
var _4=_3*60;
var _5=_4*60;
var _6=_5*_2;
var _7;
jazz.util.date={formatDif:function(_8,_9){
if(!_7){
_7=dojo.i18n.getLocalization("jazz.util","dateMessages");
}
var _a=(arguments.length==3&&typeof arguments[1]=="boolean"&&typeof arguments[2]=="boolean");
if(_a){
return _b(_8,arguments[1],arguments[2]);
}else{
var _c=_9.approximate;
if(typeof (_9.approximate)=="undefined"){
_c=true;
}
if(_c){
return _d(_8,_9.currentTimeInMilliseconds);
}else{
return _e(_8,_9.currentTimeInMilliseconds);
}
}
},formatDuration:function(_f,_10){
if(!_7){
_7=dojo.i18n.getLocalization("jazz.util","dateMessages");
}
if(typeof (_10)=="undefined"){
return _11(_f);
}
if(_10.style=="abbreviated"){
var _12=_10.approximate;
if(typeof (_12)=="undefined"){
_12=true;
}
return _13(_f,_12);
}else{
if(_10.style=="stopwatch"){
return _14(_f);
}else{
if(_10.style=="full"){
var _15=_10.approximate;
if(_15){
return _11(_f);
}else{
return _16(_f);
}
}
}
}
}};
var _17=function(_18){
return dojo.date.difference(new Date(_18.getFullYear(),0,1),new Date(_18.getFullYear(),_18.getMonth(),_18.getDate()))+1;
};
var _14=function(_19){
var _1a=_19/1000;
var _1b=Math.floor(_1a%60);
var _1c=_1a/60;
var _1d=Math.floor(_1c%60);
var _1e=_1c/60;
var _1f=Math.floor(_1e%24);
var _20=Math.floor(_1e/24);
var _21=_1b<10?_7.paddedResult:"${0}";
var _22=_1d<10?_7.paddedResult:"${0}";
var _23=_1f<10?_7.paddedResult:"${0}";
_23=dojo.string.substitute(_23,[_1f]);
_22=dojo.string.substitute(_22,[_1d]);
_21=dojo.string.substitute(_21,[_1b]);
if(_20>0){
var _24=_20==1?_7.day:dojo.string.substitute(_7.days,[_20]);
return dojo.string.substitute(_7.stopwatchTimeWithDay,[_24,_23,_22,_21]);
}else{
return dojo.string.substitute(_7.stopwatchTime,[_23,_22,_21]);
}
};
var _13=function(_25,_26){
if(_26===undefined){
_26=true;
}
if(_25<0){
return _1;
}
var _27=_25/1000;
var _28=Math.floor(_27%60);
var _29=_27/60;
var _2a=Math.floor(_29%60);
var _2b=_29/60;
var _2c=Math.floor(_2b);
var _2d=_28<10&&_25>=_4?_7.paddedResult:"${0}";
var _2e=_2a<10&&_25>=_5?_7.paddedResult:"${0}";
var _2f="${0}";
if(_25<1000&&_26){
return dojo.string.substitute(_7.millisecsShort,[_25]);
}else{
if(_25<_4){
_2d=dojo.string.substitute(_2d,[_28]);
return dojo.string.substitute(_7.onePartAbbreviatedTime,[_2d]);
}else{
if(_25<_5){
_2d=dojo.string.substitute(_2d,[_28]);
_2e=dojo.string.substitute(_2e,[_2a]);
return dojo.string.substitute(_7.twoPartAbbreviatedTime,[_2e,_2d]);
}else{
_2d=dojo.string.substitute(_2d,[_28]);
_2e=dojo.string.substitute(_2e,[_2a]);
_2f=dojo.string.substitute(_2f,[_2c]);
return dojo.string.substitute(_7.threePartAbbreviatedTime,[_2f,_2e,_2d]);
}
}
}
};
var _11=function(_30){
var _31=Math.round(_30/1000);
var _32=_31%60;
_31=Math.floor(_31/60);
if(_31>0){
var _33=_31%60;
_31=Math.floor(_31/60);
if(_31>0){
var _34=_31%24;
_31=Math.floor(_31/24);
if(_31>0){
var _35=_31;
}
}
}
var _36=[];
var _37=[[_35,_7.day,_7.days],[_34,_7.hour,_7.hours],[_33,_7.min,_7.mins],[_32,_7.sec,_7.secs]];
for(var i=0;i<_37.length&&_36.length<2;i++){
var _38=_37[i];
var _39=_38[0];
if(_39){
_36.push(_39==1?_38[1]:dojo.string.substitute(_38[2],[_39]));
}
}
switch(_36.length){
case 0:
return _7.lessThanSec;
case 1:
return _36[0];
case 2:
return dojo.string.substitute(_7.twoPartDuration,_36);
}
};
var _16=function(_3a){
if(_3a<0){
return _1;
}else{
if(_3a==0){
return dojo.string.substitute(_7.secs,[_3a]);
}else{
if(_3a<1000){
return (_3a==1)?_7.millisec:dojo.string.substitute(_7.millisecs,[_3a]);
}
}
}
var _3b=Math.floor(_3a/1000%60);
var _3c=(_3b==1)?_7.sec:dojo.string.substitute(_7.secs,[_3b]);
var _3d=Math.floor(_3a/60000%60);
var _3e=(_3d==1)?_7.min:dojo.string.substitute(_7.mins,[_3d]);
var _3f=Math.floor(_3a/3600000);
var _40=(_3f==1)?_7.hour:dojo.string.substitute(_7.hours,[_3f]);
if(_3f>0){
return dojo.string.substitute(_7.threePartDuration,[_40,_3e,_3c]);
}
if(_3d>0){
return dojo.string.substitute(_7.twoPartDuration,[_3e,_3c]);
}
return _3c;
};
var _d=function(_41,_42){
if(!_41){
return "";
}
var now=_42;
if(typeof (_42)=="undefined"){
now=new Date().getTime();
}
var _43=_41.getTime();
var dif=now-_43;
var _44=[1,2,3,5,10,15,20,30,45,60];
var _45=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24];
if(dif>-_4&&dif<_4){
return _7.now;
}else{
if(dif<0){
dif*=-1;
if(dif<_4*2){
return _7.inMin;
}
for(var i=2;i<_44.length;i++){
if(dif<_44[i]*_4){
return dojo.string.substitute(_7.inMins,[_44[i-1]]);
}
}
if(dif<_5*2){
return _7.inHour;
}
for(var i=1;i<_45.length;i++){
if(dif<_45[i]*_5){
return dojo.string.substitute(_7.inHours,[_45[i-1]]);
}
}
if(dif<2*_6){
return _7.inDay;
}
return _7.inSeveralDays;
}else{
if(dif<_4*2){
return _7.pastMin;
}
for(var i=2;i<_44.length;i++){
if(dif<_44[i]*_4){
return dojo.string.substitute(_7.pastMins,[_44[i-1]]);
}
}
if(dif<_5*2){
return _7.pastHour;
}
for(var i=2;i<_45.length;i++){
if(dif<_45[i]*_5){
return dojo.string.substitute(_7.pastHours,[_45[i-1]]);
}
}
if(dif<2*_6){
return _7.pastDay;
}
return _7.pastSeveralDays;
}
}
};
var _e=function(_46,_47){
if(!_46){
return "";
}
var now=_47;
if(typeof (_47)=="undefined"){
now=new Date().getTime();
}
var dif=now-_46.getTime();
var _48=dif>0;
if(!_48){
dif*=-1;
}
var _49=Math.floor(dif/_5);
var _4a=dif-_49*_5;
var _4b=Math.floor(_4a/_4);
var _4c=_4a-_4b*_4;
var _4d=Math.floor(_4c/_3);
if(_49==0&&_4b==0&&_4d==0){
return _7.now;
}else{
if(!_48){
if(_49*_5+_4b*_4+_4d*_3>_6){
return dojo.string.substitute(_7.inSeveralDaysWithDate,[dojo.date.locale.format(_46,{formatLength:"medium"})]);
}else{
if(_49>1){
if(_4b>1){
return dojo.string.substitute(_7.inHoursAndMins,[_49,_4b]);
}else{
if(_4b==1){
return dojo.string.substitute(_7.inHoursAndMin,[_49]);
}else{
return dojo.string.substitute(_7.inHours,[_49]);
}
}
}else{
if(_49==1){
if(_4b>1){
return dojo.string.substitute(_7.inHourAndMins,[_4b]);
}else{
if(_4b==1){
return _7.inHourAndMin;
}else{
return _7.inHour;
}
}
}else{
if(_4b>1){
return dojo.string.substitute(_7.inMins,[_4b]);
}else{
if(_4b==1){
return _7.inMin;
}else{
return _7.inLessThanMin;
}
}
}
}
}
}else{
if(_49*_5+_4b*_4+_4d*_3>_6){
return dojo.string.substitute(_7.pastSeveralDaysWithDate,[dojo.date.locale.format(_46,{formatLength:"medium"})]);
}else{
if(_49>1){
if(_4b>1){
return dojo.string.substitute(_7.pastHoursAndMins,[_49,_4b]);
}else{
if(_4b==1){
return dojo.string.substitute(_7.pastHoursAndMin,[_49]);
}else{
return dojo.string.substitute(_7.pastHours,[_49]);
}
}
}else{
if(_49==1){
if(_4b>1){
return dojo.string.substitute(_7.pastHourAndMins,[_4b]);
}else{
if(_4b==1){
return _7.pastHourAndMin;
}else{
return _7.pastHour;
}
}
}else{
if(_4b>1){
return dojo.string.substitute(_7.pastMins,[_4b]);
}else{
if(_4b==1){
return _7.pastMin;
}else{
return _7.lessThanMinAgo;
}
}
}
}
}
}
}
};
var _b=function(_4e,_4f,_50){
if(!_4e){
return "";
}
var _51;
var _52;
if(_4f){
var _53=dojo.date.locale.format(_4e,{selector:"date",formatLength:"medium"});
var _54=dojo.date.locale.format(_4e,{selector:"time",formatLength:"short"});
_51=dojo.string.substitute(_7.dateAndTime,[_53,_54]);
}
if(_50){
var _55=new Date();
var _56=_4e;
var _57=_17(_55);
var _58=_17(_56);
var _59=_5a(_55);
var _5b=_5a(_56);
var _5c=_55.getFullYear();
var _5d=_56.getFullYear();
if(_57==_58&&_5c==_5d){
var _5e=_55.getTime();
_52=_d(_4e);
}else{
if((_57-_58)==1&&_5c==_5d){
_52=_7.yesterday;
}else{
if((_58-_57)==1&&_5c==_5d){
_52=_7.tomorrow;
}else{
if(_59==_5b&&_5c==_5d){
var _5f=_58-_57;
if(_5f*_5f==1){
_52=(_5f>0)?_7.inDay:_7.pastDay;
}else{
_52=(_5f>0)?dojo.string.substitute(_7.inDays,[_5f]):dojo.string.substitute(_7.pastDays,[-_5f]);
}
}else{
if((_59-_5b)==1&&_5c==_5d){
_52=_7.lastWeek;
}else{
if((_5b-_59)==1&&_5c==_5d){
_52=_7.nextWeek;
}
}
}
}
}
}
}
if(!_51&&!_52){
_51=dojo.date.locale.format(_4e,{selector:"date",formatLength:"medium"});
}
if(_51&&_52){
return dojo.string.substitute(_7.absoluteAndRelative,[_51,_52]);
}
return _51||_52;
};
var _5a=function(_60){
var _61=new Date(_60.getFullYear(),0,1).getDay();
var adj=(_61+7)%7;
var _62=Math.floor((_17(_60)+adj-1)/7);
if(_61==0){
_62++;
}
return _62;
};
})();


;dojo.cache("jazz.ui", "templates/OverlayIcon.html", "<span class=\"jazz-ui-OverlayIcon\">	<img class=\"icon\" src=\"${icon}\"></img>	<img class=\"overlay\" src=\"${overlay}\" dojoAttachPoint=\"_overlay\"></img></span>");

;dojo.provide("jazz.ui.OverlayIcon");




(function(){
var _1={TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight"};
dojo.declare("jazz.ui.OverlayIcon",[dijit._Widget,dijit._Templated],{icon:"",overlay:"",layout:_1.BOTTOM_RIGHT,templatePath:dojo.moduleUrl("jazz.ui","templates/OverlayIcon.html"),postCreate:function(){
if(!this.overlay){
this.domNode.removeChild(this._overlay);
return;
}
if(typeof this.layout==="string"){
dojo.addClass(this._overlay,this.layout);
}else{
if(typeof this.layout==="object"){
if(typeof this.layout.left==="number"){
this._overlay.style.left=this.layout.left+"px";
}else{
if(typeof this.layout.right==="number"){
this._overlay.style.right=this.layout.right+"px";
}
}
if(typeof this.layout.top==="number"){
this._overlay.style.top=this.layout.top+"px";
}else{
if(typeof this.layout.bottom==="number"){
this._overlay.style.bottom=this.layout.bottom+"px";
}
}
}
}
}});
dojo.mixin(jazz.ui.OverlayIcon,_1);
})();


;dojo.provide("com.ibm.team.scm.web.oslcScm.JazzScmConstants");
(function(){
var _1=dojo.declare("com.ibm.team.scm.web.oslcScm.JazzScmConstants",null,{"-chains-":{constructor:"manual"}});
_1.JAZZ_SCM_CHANGE_KIND="jazz_scm:changeKind";
_1.JAZZ_SCM_AFTER_LOCATION="jazz_scm:afterStateLocation";
_1.JAZZ_SCM_AFTER_PATH="jazz_scm:afterPath";
_1.JAZZ_SCM_AFTER_STATE_ID="jazz_scm:afterStateId";
_1.JAZZ_SCM_BEFORE_LOCATION="jazz_scm:beforeStateLocation";
_1.JAZZ_SCM_BEFORE_PATH="jazz_scm:beforePath";
_1.JAZZ_SCM_BEFORE_STATE_ID="jazz_scm:beforeStateId";
_1.JAZZ_SCM_CHECKED_IN="jazz_scm:checkedIn";
_1.JAZZ_SCM_CHILD_LIST="jazz_scm:childList";
_1.JAZZ_SCM_CONTRIBUTOR_IS_MEMBER="jazz_scm:contributorIsMember";
_1.JAZZ_SCM_DIFF_IF_CHANGE_IS_MODIFY="jazz_scm:diffIfChangeIsModify";
_1.JAZZ_SCM_FIRST_TIMESTAMP="jazz_scm:firstTimestamp";
_1.JAZZ_SCM_ITEM_ID="jazz_scm:itemId";
_1.JAZZ_SCM_ITEM_TYPE="jazz_scm:itemType";
_1.JAZZ_SCM_FLOWS="jazz_scm:flows";
_1.JAZZ_SCM_KNOWN_TEXT_CONTENT_TYPE_PREFIXES="jazz_scm:knownTextContentTypePrefixes";
_1.JAZZ_SCM_KNOWN_TEXT_CONTENT_TYPE_STRINGS="jazz_scm:knownTextContentTypeStrings";
_1.JAZZ_SCM_LAST_TIMESTAMP="jazz_scm:lastTimestamp";
_1.JAZZ_SCM_MAX_RESULTS="jazz_scm:maxResults";
_1.JAZZ_SCM_CREATOR="jazz_scm:creator";
_1.JAZZ_SCM_OWNER="jazz_scm:owner";
_1.JAZZ_SCM_WORKSPACE_OWNER_NAME="jazz_scm:workspaceOwnerName";
_1.JAZZ_SCM_VISIBILITY="jazz_scm:visibility";
_1.JAZZ_SCM_VISIBILITY_KIND="jazz_scm:visibilityKind";
_1.JAZZ_SCM_VISIBILITY_PROCESS_AREA="jazz_scm:visibilityProcessArea";
_1.JAZZ_SCM_VISIBILITY_ACCESS_GROUP="jazz_scm:visibilityAccessGroup";
_1.JAZZ_SCM_OLDEST_FIRST="jazz_scm:oldestFirst";
_1.JAZZ_SCM_NEXT="jazz_scm:next";
_1.JAZZ_SCM_PREVIOUS="jazz_scm:previous";
_1.OSLC_ORDER_BY="oslc.orderBy";
_1.JAZZ_SCM_PARENT_LIST="jazz_scm:parentList";
_1.JAZZ_SCM_PATH="jazz_scm:path";
_1.JAZZ_SCM_PATHNAME="jazz_scm:pathname";
_1.JAZZ_SCM_PROJECT_AREA="jazz_scm:projectArea";
_1.JAZZ_SCM_RESULTS="jazz_scm:results";
_1.JAZZ_SCM_URI="rdf:resource";
_1.JAZZ_SCM_COMPONENT_ID="jazz_scm:componentId";
_1.JAZZ_SCM_BASELINE_ID="jazz_scm:baselineId";
_1.JAZZ_SCM_WORKSPACE_ID="jazz_scm:workspaceId";
_1.JAZZ_SCM_SUSPENDED_BY_CONTRIBUTOR_ID="jazz_scm:suspendedByContributorId";
_1.JAZZ_SCM_AUTHOR_ID="jazz_scm:authorId";
_1.JAZZ_SCM_LAST_MODIFIED="jazz_scm:lastModified";
_1.JAZZ_SCM_TYPE_ID="jazz_scm:linkTypeId";
_1.JAZZ_SCM_REASONS="jazz_scm:reasons";
_1.JAZZ_SCM_RELATED_ARTIFACTS="jazz_scm:relatedArtifacts";
_1.JAZZ_SCM_PROPERTY_REQUEST="propertyRequest";
_1.JAZZ_SCM_OLDEST_CHILD="jazz_scm:oldestChild";
_1.KIND_STREAM="com.ibm.team.scm.stream";
_1.KIND_PROJECT_AREA="com.ibm.team.projectArea";
_1.KIND_TEAM_AREA="com.ibm.team.teamArea";
_1.KIND_PROCESS_AREA="com.ibm.team.processArea";
_1.KIND_CONTRIBUTOR="com.ibm.team.scm.contributor";
_1.JAZZ_SCM_UNKNOWN="unknown";
_1.JAZZ_SCM_PUBLIC="public";
_1.JAZZ_SCM_PRIVATE="private";
_1.JAZZ_SCM_ACCESS_GROUP="accessGroup";
_1.JAZZ_SCM_OWNER_SPEC="jazz_scm:ownerSpec";
_1.JAZZ_SCM_PROCESS_AREA_ID="jazz_scm:processAreaId";
})();


;dojo.provide("com.ibm.team.scm.web.oslcScm.OslcScmConstants");
(function(){
var _1=dojo.declare("com.ibm.team.scm.web.oslcScm.OslcScmConstants",null,{"-chains-":{constructor:"manual"}});
_1.DC_TITLE="dcterms:title";
_1.DC_DESCRIPTION="dcterms:description";
_1.DC_TYPE="dcterms:type";
_1.DC_CREATOR="dcterms:creator";
_1.DC_CONTRIBUTOR="dcterms:contributor";
_1.DC_CREATED="dcterms:created";
_1.DC_MODIFIED="dcterms:modified";
_1.RDF_TYPE="rdf:type";
_1.RDF_RESOURCE="rdf:resource";
_1.OSLC_INSTANCE_SHAPE="oslc:instanceShape";
_1.OSLC_SERVICE_PROVIDER="oslc:serviceProvider";
_1.DC_IDENTIFIER="dcterms:identifier";
_1.DC_NAME="dcterms:name";
_1.OSLC_SCM_FULLNAME="oslc_scm:fullName";
_1.OSLC_SCM_STATUS="oslc_scm:status";
_1.OSLC_SCM_CHANGE="oslc_scm:change";
_1.OSLC_SCM_STREAM="oslc_scm:stream";
_1.OSLC_SCM_CHANGE_TYPE="oslc_scm:changeType";
_1.OSLC_SCM_BUILD="oslc_scm:build";
_1.OSLC_SCM_SUB_BASELINE="oslc_scm:subBaseline";
_1.OSLC_SCM_CHANGE_SET="oslc_scm:changeset";
_1.OSLC_SCM_BASELINE_1="oslc_scm:baseline1";
_1.OSLC_SCM_BASELINE_2="oslc_scm:baseline2";
_1.OSLC_SCM_MEMBER_IDENTIFIER="oslc_scm:memberIdentifier";
_1.OSLC_SCM_DIRECTORY_VERSION_1="oslc_scm:directoryVersion1";
_1.OSLC_SCM_DIRECTORY_VERSION_2="oslc_scm:directoryVersion2";
_1.OSLC_SCM_MEMBER_ADDED="oslc_scm:memberAdded";
_1.OSLC_SCM_MEMBER_REMOVED="oslc_scm:memberRemoved";
_1.OSLC_SCM_CONTENT="oslc_scm:content";
_1.OSLC_SCM_MIME_TYPE="oslc_scm:mimeType";
_1.OSLC_SCM_FILE_VERSION_1="oslc_scm:fileVersion1";
_1.OSLC_SCM_FILE_VERSION_2="oslc_scm:fileVersion2";
_1.OSLC_SCM_UNIFIED_DIFF="oslc_scm:unifiedDiff";
_1.OSLC_SCM_TARGET="oslc_scm:target";
_1.OSLC_SCM_SYMLINK_VERSION_1="oslc_scm:SymlinkVersion1";
_1.OSLC_SCM_SYMLINK_VERSION_2="oslc_scm:SymlinkVersion2";
_1.OSLC_SCM_DELTA="oslc_scm:delta";
})();


;dojo.provide("com.ibm.team.scm.web.client.utilNative");


















dojo.requireLocalization("com.ibm.team.scm.web.internal","Messages");




(function(){
var _1,_2,_3,_4,_5;
_1=net.jazz.ajax.toolbox.lang.checkNotNull;
_2=net.jazz.ajax.toolbox.lang.checkNonNegative;
_3=net.jazz.ajax.ui.internal.PageRegistry;
_4="../com.ibm.team.scm.web/graphics/icons/";
_5=dojo.i18n.getLocalization("com.ibm.team.scm.web.internal","Messages");
var _6=jazz.app.context.get;
var _7=com.ibm.team.scm.web.oslcScm.JazzScmConstants;
var _8=com.ibm.team.scm.web.oslcScm.OslcScmConstants;
var _9="../../oslc-scm/";
var _a=_9+"baselineId/";
var _b=_9+"workspace/";
var _c=_9+"workspaceId/";
var _d=_9+"streamId/";
var _e="com.ibm.team.scm.Stream";
var _f="com.ibm.team.scm.Workspace";
var _10="com.ibm.team.scm.BaselineSet";
var _11;
var _12;
var _13;
var _14;
var _15;
var _16;
var _17;
com.ibm.team.scm.web.client.utilNative={messages:_5,_workItemPrefix:"#action=com.ibm.team.workitem.viewWorkItem&id=",_defaultServicePrefix:"../../resource/",_workItemLocationPattern:/^itemName\/.*WorkItem\/(.*)$/,restoreTags:function(_18){
var _19=_18;
_19=_19.replace(/\&gt;/gi,">");
_19=_19.replace(/\&lt;/gi,"<");
_19=_19.replace(/\&amp;/gi,"&");
_19=_19.replace(/\&tilde;/gi,"~");
_19=_19.replace(/\&quot;/gi,"\"");
_19=_19.replace(/\&circ;/gi,"^");
_19=_19.replace(/\&nbsp;/gi," ");
_19=_19.replace(/<br\/>/gi,"\n");
_19=_19.replace(/\&#09;/g,"\t");
return _19;
},getReasonURI:function(_1a){
if(this.workItemsInstalled()){
var _1b=this._workItemLocationPattern.exec(_1a.location);
if(_1b){
return this._workItemPrefix+encodeURIComponent(_1b[1]);
}
}
return this._defaultServicePrefix+encodeURIComponent(_1a.location);
},getReasonWorkItemId:function(_1c){
if(this.workItemsInstalled()){
var _1d=this._workItemLocationPattern.exec(_1c.location);
if(_1d){
return _1d[1];
}
}
return -1;
},dashboardInstalled:function(){
if(this._dashboardInstalled===undefined){
this._dashboardInstalled=_3.findPageWithId("com.ibm.team.dashboard")!==null;
}
return this._dashboardInstalled;
},workItemsInstalled:function(){
if(this._workItemsInstalled===undefined){
this._workItemsInstalled=_3.findPageWithId("com.ibm.team.workitem")!==null;
}
return this._workItemsInstalled;
},getDateString:function(_1e){
var _1f;
if(_1e.length===28){
_1e=_1e.substring(0,19)+"-"+_1e.substring(24,26)+":"+_1e.substring(26,28);
}
var _20=dojo.date.stamp.fromISOString(_1e);
var _20=new jazz.app.i18n.Date(_20);
return this._getDateString(_20);
},getDateStringFromLong:function(_21){
var _22=new jazz.app.i18n.Date(_21);
return this._getDateString(_22);
},_getDateString:function(_23){
var _24=null;
if(_23.toGregorian){
_24=jazz.app.i18n.date.locale.format(_23,{formatLength:"medium"});
}else{
_24=jazz.util.date.formatDif(_23,true,true);
}
return _24;
},getLoggedInContributor:function(){
return com.ibm.team.repository.web.client.session.getAuthenticatedContributor();
},getVersionablePropertyValue:function(_25,key){
var i;
if(_25.properties){
for(i=0;i<_25.properties.length;i+=1){
if(_25.properties[i].key===key){
return _25.properties[i].value;
}
}
}
return null;
},setVersionablePropertyValue:function(_26,key,_27){
var i;
if(_26.properties){
for(i=0;i<_26.properties.length;i+=1){
if(_26.properties[i].key===key){
_26.properties[i].value=_27;
return;
}
}
}else{
_26.properties=[];
}
var _28={};
_28.key=key;
_28.value=_27;
_26.properties.push(_28);
},Math_Round:function(_29,_2a){
return Math.round(_29/_2a);
},getOslcBaselineServiceURI:function(_2b){
return dojo.baseUrl+_a+_2b;
},getOslcWorkspaceServiceURI:function(_2c){
return dojo.baseUrl+_c+_2c;
},getOslcStreamServiceURI:function(_2d){
return dojo.baseUrl+_d+_2d;
},getOslcComponentServiceURI:function(_2e,_2f,_30){
var _31="";
if(_2f!=null&&_30!=null){
if(_30===_f){
_31="workspaceId/";
}else{
if(_30===_e){
_31="streamId/";
}else{
if(_30===_10){
_31="baselineId/";
}
}
}
if(_31!=""){
_31+=_2f+"/";
}
}
return dojo.baseUrl+_9+_31+"componentId/"+_2e;
},getProjectAreaResourceURI:function(_32){
return dojo.baseUrl+"../../process/project-areas/"+_32;
},getCurrentProjectAreaResourceURI:function(){
return dojo.baseUrl+"../../process/project-areas/"+_6().itemId;
},addScriptTags:function(_33){
if(!_33.i){
_33.i=0;
}
if(_33.i<_33.src.length){
var _34=dojo.doc.createElement("script");
_34.type="text/javascript";
_34.src=_33.src[_33.i];
_33.i++;
var _35=this;
_34.onload=function _onload(){
if(_34){
_34.onload=_34.onreadystatechange=null;
_34=null;
}
_35.addScriptTags(_33);
};
_34.onreadystatechange=function(){
if("loaded"===_34.readyState||"complete"===_34.readyState){
_onload();
}
};
window.document.getElementsByTagName("head")[0].appendChild(_34);
}else{
_33.loaded();
}
},addLinkTags:function(_36){
if(!_36.i){
_36.i=0;
}
if(_36.i<_36.src.length){
var _37=dojo.doc.createElement("link");
_37.type="text/css";
_37.href=_36.src[_36.i];
_37.rel="stylesheet";
_37.data-name=="vs/editor/editor.main";
_36.i++;
window.document.getElementsByTagName("head")[0].appendChild(_37);
}else{
_36.loaded();
}
},getGlobalVariableRequire:function(){
return require;
},setGlobalVariableRequire:function(_38){
require=_38;
},registerResizer:function(_39,_3a){
var _3b=Math.max(dojo.window.getBox().h-dojo.position(dojo.byId("content-cell")).h-dojo.position(dojo.byId("content-cell")).y,0);
var _3c=10;
var _3d={_onResize:function(){
var y=dojo.position(_39).y;
var h=dojo.window.getBox().h;
var _3e=Math.max(h-y-_3b-_3c,0)+"px";
_39.style.height=_3e;
_3a.layout();
}};
var id=jazz.util.ResizeNotifier.register({context:_3d,callback:_3d._onResize,force:true});
dojo.connect(_39,"destroy",this,function(){
jazz.util.ResizeNotifier.unregister(id);
});
_3d._onResize();
},createCompareEditor:function(_3f,_40){
var _41=new orion.compare.comparer(_3f.compareOptions,_3f.commandSpanId,_3f.viewType,_3f.toggleable);
_40.compareEditorCreated(_41);
},createCompareMonacoEditor:function(_42,_43,_44){
var _45=_42.compareOptions.oldFile.Content;
var _46=_42.compareOptions.newFile.Content;
if(_15){
_15.dispose();
}
if(_16){
_16.dispose();
}
for(var i=0;monaco.editor.getModels().length;i++){
monaco.editor.getModels()[i].dispose();
}
_15=monaco.editor.createModel(_45,"",monaco.Uri.parse(_42.compareOptions.oldFile.Name));
_16=monaco.editor.createModel(_46,_15.getLanguageId());
var _47=monaco.editor.createDiffEditor(_44,{renderOverviewRuler:true,scrollBeyondLastLine:false,automaticLayout:true});
_47.setModel({original:_15,modified:_16});
this.registerResizer(_44,_47);
var _48=monaco.editor.createDiffNavigator(_47,{followsCaret:true,ignoreCharChanges:true});
_43.compareEditorCreated(_47,_48);
},createCodeEditor:function(_49,_4a){
},createMonacoCodeEditor:function(_4b,_4c){
if(!_11){
_12=monaco.editor;
}
if(_13){
_13.dispose();
}
if(_11){
_11.dispose();
}
_13=_12.onDidCreateEditor(function(_4d){
setTimeout(function(){
_4c.editorCreated(_4d);
},60);
});
if(_14){
_14.dispose();
}
_14=monaco.editor.createModel("","",monaco.Uri.parse(_4b.fileName));
_11=_12.create(_4b.parent,{renderOverviewRuler:false,scrollBeyondLastLine:false,language:_14.getLanguageId()});
this.registerResizer(_4b.parent,_11);
},getFilenameContentTypeMonaco:function(_4e){
if(_14){
var _4f=_14.getLanguageId();
if(_4f){
return _4f;
}
}
return null;
},getFilenameContentType:function(_50){
var _51=monaco.editor.createModel("","",monaco.Uri.parse(_50));
var _52=_51.getLanguageId();
return _52;
},isDisplayableContentType:function(_53){
if(_53){
return _53.startsWith("text/");
}
return false;
},isText:function(_54){
if(!_54){
return false;
}
return (_54.id==="text/plain"||_54["extends"]==="text/plain");
},isErrorResponseCancel:function(_55){
return _55&&_55.dojoType&&_55.dojoType==="cancel";
},getErrorResponseMessage:function(_56){
if(_56){
if(_56 instanceof String){
return _56;
}
if(_56.message){
return _56.message;
}
return _56.toString();
}
return "null";
},isError:function(_57){
return _57 instanceof Error;
},parseErrorResponse:function(_58){
var _59,_5a;
_59=/^File Upload Response:error:"([^"]*)",argument:"([^"]*)"$/;
_5a=_59.exec(_58);
if(_5a&&_5a.length===3){
return {error:_5a[1],argument:_5a[2]};
}
return null;
},parseUploadResponse:function(_5b){
var _5c,_5d;
_5c=/^File Upload Response:contentHash:"([^"]*)",contentLength:"([^"]*)",lineDelimiterCount:"([^"]*)",contentType:"([^"]*)",encoding:"([^"]*)",lineDelimiter:"([^"]*)"$/;
_5d=_5c.exec(_5b);
if(_5d&&_5d.length===7){
return {contentHash:_5d[1],contentLength:_5d[2],lineDelimiterCount:parseInt(_5d[3],10),contentMimeType:_5d[4],textFileEncoding:_5d[5],lineDelimiter:parseInt(_5d[6],10)};
}
return null;
}};
}());


;dojo.cache("com.ibm.team.scm.web", "ui/internal/view/browse/templates/OslcLinkWidget.html", "<div class=\"com-ibm-team-scm com-ibm-team-scm-GCContextWidget\">		<div dojoAttachPoint=\"_gcLink\"></div></div>");

;dojo.provide("com.ibm.team.scm.web.ui.internal.view.browse.OslcLinkWidget");








(function(){
var _1=com.ibm.team.scm.web.client.utilNative;
var _2=dijit._Templated;
var _3=dijit._Widget;
var _4=jazz.ui.ResourceLink;
var _5=dojo.declare("com.ibm.team.scm.web.ui.internal.view.browse.OslcLinkWidget",[_3,_2],{templatePath:dojo.moduleUrl("com.ibm.team.scm.web","ui/internal/view/browse/templates/OslcLinkWidget.html"),setTargetWindow:function(_6){
this.target=_6;
},constructor:function(_7){
this.icon_URIPrefix="../com.ibm.team.scm.web/graphics/icons/";
this.gc_default_icon=this.icon_URIPrefix+"globalStream.svg";
this.messages=_1.messages;
this.targetUri=_7.targetUri;
this.showGCIcon=_7.showGCIcon;
this.broken_link_icon=_7.broken_icon;
this.defaultLabel=_7.defaultLabel;
this.noIcon=_7.noIcon;
this.target=_5.SELF_WINDOW;
if(_7.targetWindow!==undefined){
this.target=_7.targetWindow;
}
},createGCWidget:function(){
if(this.targetUri!=null){
this.fLinkNode=dojo.create("div",null,this._gcLink);
this.createOslcResourceLink();
}
},createOslcResourceLink:function(){
var _8=dojo.doc;
var _9=this.defaultLabel==null||this.defaultLabel.length===0?this.messages.Links_tab_UnresolvedLink:this.defaultLabel;
var _a=null;
if(!this.noIcon){
var _b="";
if(this.showGCIcon){
_b=this.gc_default_icon;
}
if(_b==null||_b.length<1){
_b=this.broken_link_icon;
}
_a=dojo.create("img",{src:_b,className:"icon"},this.fLinkNode);
dojo.addClass(_a,"gcconfiguration-widget");
}
var _c={};
_c.uri=this.targetUri;
_c.presentationUri=this.targetUri;
_c.label=jazz.util.html.escape(_9);
_c.iconNode=_a;
var _d=_8.createElement("a");
_d.appendChild(_8.createTextNode(_9));
_d.href=this.targetUri;
_d.target=this.target;
var _e=new _4(_c,_d);
dojo.place(_e.domNode,this.fLinkNode);
},postCreate:function(){
this.inherited("postCreate",arguments,[]);
this.createGCWidget();
},destroy:function(_f){
this._clear();
this.inherited("destroy",arguments,[_f]);
},_clear:function(){
dojo.empty(this._gcLink);
}});
_5.SELF_WINDOW="_self";
_5.NEW_WINDOW="_blank";
_5.createOslcLinkWidget=function(_10,_11,_12){
var _13={};
_13.targetUri=_10;
_13.noIcon=!_11;
_13.showGCIcon=_12;
return new _5(_13);
};
})();


;dojo.cache("com.ibm.team.scm.web", "ui/internal/widgets/templates/OverlayIcon32.html", "<span class=\"com-ibm-team-scm-OverlayIcon32\">	<img class=\"icon\" src=\"${icon}\" alt=\"${description}\"></img>	<img class=\"overlay\" src=\"${overlay}\" alt=\"${overlayDescription}\" dojoAttachPoint=\"_overlay\"></img></span>");

;dojo.provide("com.ibm.team.scm.web.ui.internal.widgets.OverlayIcon32");




(function(){
var _1={TOP_LEFT:"topLeft",TOP_RIGHT:"topRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_RIGHT:"bottomRight"};
dojo.declare("com.ibm.team.scm.web.ui.internal.widgets.OverlayIcon32",[dijit._Widget,dijit._Templated],{icon:"",description:"",overlay:"",overlayDescription:"",layout:_1.BOTTOM_RIGHT,templatePath:dojo.moduleUrl("com.ibm.team.scm.web","ui/internal/widgets/templates/OverlayIcon32.html"),postCreate:function(){
if(!this.overlay){
this.domNode.removeChild(this._overlay);
return;
}
if(typeof this.layout==="string"){
dojo.addClass(this._overlay,this.layout);
}else{
if(typeof this.layout==="object"){
if(typeof this.layout.left==="number"){
this._overlay.style.left=this.layout.left+"px";
}else{
if(typeof this.layout.right==="number"){
this._overlay.style.right=this.layout.right+"px";
}
}
if(typeof this.layout.top==="number"){
this._overlay.style.top=this.layout.top+"px";
}else{
if(typeof this.layout.bottom==="number"){
this._overlay.style.bottom=this.layout.bottom+"px";
}
}
}
}
}});
dojo.mixin(com.ibm.team.scm.web.ui.internal.widgets.OverlayIcon32,_1);
})();


;define("dojo/NodeList-manipulate",["./query","./_base/lang","./_base/array","./dom-construct","./dom-attr","./NodeList-dom"],function(_1,_2,_3,_4,_5){
var _6=_1.NodeList;
function _7(_8){
while(_8.childNodes[0]&&_8.childNodes[0].nodeType==1){
_8=_8.childNodes[0];
}
return _8;
};
function _9(_a,_b){
if(typeof _a=="string"){
_a=_4.toDom(_a,(_b&&_b.ownerDocument));
if(_a.nodeType==11){
_a=_a.childNodes[0];
}
}else{
if(_a.nodeType==1&&_a.parentNode){
_a=_a.cloneNode(false);
}
}
return _a;
};
_2.extend(_6,{_placeMultiple:function(_c,_d){
var _e=typeof _c=="string"||_c.nodeType?_1(_c):_c;
var _f=[];
for(var i=0;i<_e.length;i++){
var _10=_e[i];
var _11=this.length;
for(var j=_11-1,_12;_12=this[j];j--){
if(i>0){
_12=this._cloneNode(_12);
_f.unshift(_12);
}
if(j==_11-1){
_4.place(_12,_10,_d);
}else{
_10.parentNode.insertBefore(_12,_10);
}
_10=_12;
}
}
if(_f.length){
_f.unshift(0);
_f.unshift(this.length-1);
Array.prototype.splice.apply(this,_f);
}
return this;
},innerHTML:function(_13){
if(arguments.length){
return this.addContent(_13,"only");
}else{
return this[0].innerHTML;
}
},text:function(_14){
if(arguments.length){
for(var i=0,_15;_15=this[i];i++){
if(_15.nodeType==1){
_5.set(_15,"textContent",_14);
}
}
return this;
}else{
var _16="";
for(i=0;_15=this[i];i++){
_16+=_5.get(_15,"textContent");
}
return _16;
}
},val:function(_17){
if(arguments.length){
var _18=_2.isArray(_17);
for(var _19=0,_1a;_1a=this[_19];_19++){
var _1b=_1a.nodeName.toUpperCase();
var _1c=_1a.type;
var _1d=_18?_17[_19]:_17;
if(_1b=="SELECT"){
var _1e=_1a.options;
for(var i=0;i<_1e.length;i++){
var opt=_1e[i];
if(_1a.multiple){
opt.selected=(_3.indexOf(_17,opt.value)!=-1);
}else{
opt.selected=(opt.value==_1d);
}
}
}else{
if(_1c=="checkbox"||_1c=="radio"){
_1a.checked=(_1a.value==_1d);
}else{
_1a.value=_1d;
}
}
}
return this;
}else{
_1a=this[0];
if(!_1a||_1a.nodeType!=1){
return undefined;
}
_17=_1a.value||"";
if(_1a.nodeName.toUpperCase()=="SELECT"&&_1a.multiple){
_17=[];
_1e=_1a.options;
for(i=0;i<_1e.length;i++){
opt=_1e[i];
if(opt.selected){
_17.push(opt.value);
}
}
if(!_17.length){
_17=null;
}
}
return _17;
}
},append:function(_1f){
return this.addContent(_1f,"last");
},appendTo:function(_20){
return this._placeMultiple(_20,"last");
},prepend:function(_21){
return this.addContent(_21,"first");
},prependTo:function(_22){
return this._placeMultiple(_22,"first");
},after:function(_23){
return this.addContent(_23,"after");
},insertAfter:function(_24){
return this._placeMultiple(_24,"after");
},before:function(_25){
return this.addContent(_25,"before");
},insertBefore:function(_26){
return this._placeMultiple(_26,"before");
},remove:_6.prototype.orphan,wrap:function(_27){
if(this[0]){
_27=_9(_27,this[0]);
for(var i=0,_28;_28=this[i];i++){
var _29=this._cloneNode(_27);
if(_28.parentNode){
_28.parentNode.replaceChild(_29,_28);
}
var _2a=_7(_29);
_2a.appendChild(_28);
}
}
return this;
},wrapAll:function(_2b){
if(this[0]){
_2b=_9(_2b,this[0]);
this[0].parentNode.replaceChild(_2b,this[0]);
var _2c=_7(_2b);
for(var i=0,_2d;_2d=this[i];i++){
_2c.appendChild(_2d);
}
}
return this;
},wrapInner:function(_2e){
if(this[0]){
_2e=_9(_2e,this[0]);
for(var i=0;i<this.length;i++){
var _2f=this._cloneNode(_2e);
this._wrap(_2._toArray(this[i].childNodes),null,this._NodeListCtor).wrapAll(_2f);
}
}
return this;
},replaceWith:function(_30){
_30=this._normalize(_30,this[0]);
for(var i=0,_31;_31=this[i];i++){
this._place(_30,_31,"before",i>0);
_31.parentNode.removeChild(_31);
}
return this;
},replaceAll:function(_32){
var nl=_1(_32);
var _33=this._normalize(this,this[0]);
for(var i=0,_34;_34=nl[i];i++){
this._place(_33,_34,"before",i>0);
_34.parentNode.removeChild(_34);
}
return this;
},clone:function(){
var ary=[];
for(var i=0;i<this.length;i++){
ary.push(this._cloneNode(this[i]));
}
return this._wrap(ary,this,this._NodeListCtor);
}});
if(!_6.prototype.html){
_6.prototype.html=_6.prototype.innerHTML;
}
return _6;
});


;define("dojo/request/iframe",["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom","../NodeList-manipulate"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){
var _d=_1.id.replace(/[\/\.\-]/g,"_"),_e=_d+"_onload";
if(!_c.global[_e]){
_c.global[_e]=function(){
var _f=_10._currentDfd;
if(!_f){
_10._fireNextRequest();
return;
}
var _11=_f.response,_12=_11.options,_13=_a.byId(_12.form)||_f._tmpForm;
if(_13){
var _14=_f._contentToClean;
for(var i=0;i<_14.length;i++){
var key=_14[i];
for(var j=0;j<_13.childNodes.length;j++){
var _15=_13.childNodes[j];
if(_15.name===key){
_b.destroy(_15);
break;
}
}
}
_f._originalAction&&_13.setAttribute("action",_f._originalAction);
if(_f._originalMethod){
_13.setAttribute("method",_f._originalMethod);
_13.method=_f._originalMethod;
}
if(_f._originalTarget){
_13.setAttribute("target",_f._originalTarget);
_13.target=_f._originalTarget;
}
}
if(_f._tmpForm){
_b.destroy(_f._tmpForm);
delete _f._tmpForm;
}
_f._finished=true;
};
}
function _16(_17,_18,uri){
if(_c.global[_17]){
return _c.global[_17];
}
if(_c.global.frames[_17]){
return _c.global.frames[_17];
}
if(!uri){
if(_9("config-useXDomain")&&!_9("config-dojoBlankHtmlUrl")){
console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");
}
uri=(_9("config-dojoBlankHtmlUrl")||_2.toUrl("dojo/resources/blank.html"));
}
var _19=_b.place("<iframe id=\""+_17+"\" name=\""+_17+"\" src=\""+uri+"\" onload=\""+_18+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",_c.body());
_c.global[_17]=_19;
return _19;
};
function _1a(_1b,src,_1c){
var _1d=_c.global.frames[_1b.name];
if(_1d.contentWindow){
_1d=_1d.contentWindow;
}
try{
if(!_1c){
_1d.location=src;
}else{
_1d.location.replace(src);
}
}
catch(e){
console.log("dojo/request/iframe.setSrc: ",e);
}
};
function doc(_1e){
if(_1e.contentDocument){
return _1e.contentDocument;
}
var _1f=_1e.name;
if(_1f){
var _20=_c.doc.getElementsByTagName("iframe");
if(_1e.document&&_20[_1f].contentWindow&&_20[_1f].contentWindow.document){
return _20[_1f].contentWindow.document;
}else{
if(_c.doc.frames[_1f]&&_c.doc.frames[_1f].document){
return _c.doc.frames[_1f].document;
}
}
}
return null;
};
function _21(){
return _b.create("form",{name:_d+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},_c.body());
};
function _22(){
var dfd;
try{
if(_10._currentDfd||!_10._dfdQueue.length){
return;
}
do{
dfd=_10._currentDfd=_10._dfdQueue.shift();
}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_10._dfdQueue.length);
if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){
_10._currentDfd=null;
return;
}
var _23=dfd.response,_24=_23.options,c2c=dfd._contentToClean=[],_25=_a.byId(_24.form),_26=_4.notify,_27=_24.data||null,_28;
if(!dfd._legacy&&_24.method==="POST"&&!_25){
_25=dfd._tmpForm=_21();
}else{
if(_24.method==="GET"&&_25&&_23.url.indexOf("?")>-1){
_28=_23.url.slice(_23.url.indexOf("?")+1);
_27=_6.mixin(_7.queryToObject(_28),_27);
}
}
if(_25){
if(!dfd._legacy){
var _29=_25;
do{
_29=_29.parentNode;
}while(_29&&_29!==_c.doc.documentElement);
if(!_29){
_25.style.position="absolute";
_25.style.left="-1000px";
_25.style.top="-1000px";
_c.body().appendChild(_25);
}
if(!_25.name){
_25.name=_d+"_form";
}
}
if(_27){
var _2a=function(_2b,_2c){
_b.create("input",{type:"hidden",name:_2b,value:_2c},_25);
c2c.push(_2b);
};
for(var x in _27){
var val=_27[x];
if(_6.isArray(val)&&val.length>1){
for(var i=0;i<val.length;i++){
_2a(x,val[i]);
}
}else{
var n=_8("input[name='"+x+"']",_25);
if(n.indexOf()==-1){
_2a(x,val);
}else{
n.val(val);
}
}
}
}
var _2d=_25.getAttributeNode("action"),_2e=_25.getAttributeNode("method"),_2f=_25.getAttributeNode("target");
if(_23.url){
dfd._originalAction=_2d?_2d.value:null;
if(_2d){
_2d.value=_23.url;
}else{
_25.setAttribute("action",_23.url);
}
}
if(!dfd._legacy){
dfd._originalMethod=_2e?_2e.value:null;
if(_2e){
_2e.value=_24.method;
}else{
_25.setAttribute("method",_24.method);
}
}else{
if(!_2e||!_2e.value){
if(_2e){
_2e.value=_24.method;
}else{
_25.setAttribute("method",_24.method);
}
}
}
dfd._originalTarget=_2f?_2f.value:null;
if(_2f){
_2f.value=_10._iframeName;
}else{
_25.setAttribute("target",_10._iframeName);
}
_25.target=_10._iframeName;
_26&&_26.emit("send",_23,dfd.promise.cancel);
_10._notifyStart(_23);
_25.submit();
}else{
var _30="";
if(_23.options.data){
_30=_23.options.data;
if(typeof _30!=="string"){
_30=_7.objectToQuery(_30);
}
}
var _31=_23.url+(_23.url.indexOf("?")>-1?"&":"?")+_30;
_26&&_26.emit("send",_23,dfd.promise.cancel);
_10._notifyStart(_23);
_10.setSrc(_10._frame,_31,true);
}
}
catch(e){
dfd.reject(e);
}
};
function _32(_33){
return !this.isFulfilled();
};
function _34(_35){
return !!this._finished;
};
function _36(_37,_38){
if(!_38){
try{
var _39=_37.options,doc=_10.doc(_10._frame),_3a=_39.handleAs;
if(_3a!=="html"){
if(_3a==="xml"){
if(doc.documentElement.tagName.toLowerCase()==="html"){
_8("a",doc.documentElement).orphan();
var _3b=doc.documentElement.innerText||doc.documentElement.textContent;
_3b=_3b.replace(/>\s+</g,"><");
_37.text=_6.trim(_3b);
}else{
_37.data=doc;
}
}else{
_37.text=doc.getElementsByTagName("textarea")[0].value;
}
_5(_37);
}else{
_37.data=doc;
}
}
catch(e){
_38=e;
}
}
if(_38){
this.reject(_38);
}else{
if(this._finished){
this.resolve(_37);
}else{
this.reject(new Error("Invalid dojo/request/iframe request state"));
}
}
};
function _3c(_3d){
this._callNext();
};
var _3e={method:"POST"};
function _10(url,_3f,_40){
var _41=_4.parseArgs(url,_4.deepCreate(_3e,_3f),true);
url=_41.url;
_3f=_41.options;
if(_3f.method!=="GET"&&_3f.method!=="POST"){
throw new Error(_3f.method+" not supported by dojo/request/iframe");
}
if(!_10._frame){
_10._frame=_10.create(_10._iframeName,_e+"();");
}
var dfd=_4.deferred(_41,null,_32,_34,_36,_3c);
dfd._callNext=function(){
if(!this._calledNext){
this._calledNext=true;
_10._currentDfd=null;
_10._fireNextRequest();
}
};
dfd._legacy=_40;
_10._dfdQueue.push(dfd);
_10._fireNextRequest();
_3(dfd);
return _40?dfd:dfd.promise;
};
_10.create=_16;
_10.doc=doc;
_10.setSrc=_1a;
_10._iframeName=_d+"_IoIframe";
_10._notifyStart=function(){
};
_10._dfdQueue=[];
_10._currentDfd=null;
_10._fireNextRequest=_22;
_4.addCommonMethods(_10,["GET","POST"]);
return _10;
});


;define("dojo/io/iframe",["../_base/config","../_base/json","../_base/kernel","../_base/lang","../_base/xhr","../sniff","../_base/window","../dom","../dom-construct","../query","require","../aspect","../request/iframe"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d){
_3.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");
var _e=_d._iframeName;
_e=_e.substring(0,_e.lastIndexOf("_"));
var _f=_4.delegate(_d,{create:function(){
return _f._frame=_d.create.apply(_d,arguments);
},get:null,post:null,send:function(_10){
var _11;
var dfd=_5._ioSetArgs(_10,function(dfd){
_11&&_11.cancel();
},function(dfd){
var _12=null,_13=dfd.ioArgs;
try{
var _14=_13.handleAs;
if(_14==="xml"||_14==="html"){
_12=_11.response.data;
}else{
_12=_11.response.text;
if(_14==="json"){
_12=_2.fromJson(_12);
}else{
if(_14==="javascript"){
_12=_3.eval(_12);
}
}
}
}
catch(e){
_12=e;
}
return _12;
},function(_15,dfd){
dfd.ioArgs._hasError=true;
return _15;
});
var _16=dfd.ioArgs;
var _17="GET",_18=_8.byId(_10.form);
if(_10.method&&_10.method.toUpperCase()==="POST"&&_18){
_17="POST";
}
var _19={method:_17,handleAs:_10.handleAs==="json"||_10.handleAs==="javascript"?"text":_10.handleAs,form:_10.form,query:_18?null:_10.content,data:_18?_10.content:null,timeout:_10.timeout,ioArgs:_16};
if(_19.method){
_19.method=_19.method.toUpperCase();
}
if(_1.ioPublish&&_3.publish&&_16.args.ioPublish!==false){
var _1a=_c.after(_d,"_notifyStart",function(_1b){
if(_1b.options.ioArgs===_16){
_1a.remove();
_5._ioNotifyStart(dfd);
}
},true);
}
_11=_d(_16.url,_19,true);
_16._callNext=_11._callNext;
_11.then(function(){
dfd.resolve(dfd);
}).otherwise(function(_1c){
dfd.ioArgs.error=_1c;
dfd.reject(_1c);
});
return dfd;
},_iframeOnload:_7.global[_e+"_onload"]});
_4.setObject("dojo.io.iframe",_f);
return _f;
});


;define("dojox/uuid",["dojox/uuid/_base"],function(_1){
return _1;
});


;define("dojox/uuid/generateTimeBasedUuid",["dojo/_base/lang","./_base"],function(_1){
dojox.uuid.generateTimeBasedUuid=function(_2){
var _3=dojox.uuid.generateTimeBasedUuid._generator.generateUuidString(_2);
return _3;
};
dojox.uuid.generateTimeBasedUuid.isValidNode=function(_4){
var _5=16;
var _6=parseInt(_4,_5);
var _7=_1.isString(_4)&&_4.length==12&&isFinite(_6);
return _7;
};
dojox.uuid.generateTimeBasedUuid.setNode=function(_8){
dojox.uuid.assert((_8===null)||this.isValidNode(_8));
this._uniformNode=_8;
};
dojox.uuid.generateTimeBasedUuid.getNode=function(){
return this._uniformNode;
};
dojox.uuid.generateTimeBasedUuid._generator=new function(){
this.GREGORIAN_CHANGE_OFFSET_IN_HOURS=3394248;
var _9=null;
var _a=null;
var _b=null;
var _c=0;
var _d=null;
var _e=null;
var _f=16;
function _10(_11){
_11[2]+=_11[3]>>>16;
_11[3]&=65535;
_11[1]+=_11[2]>>>16;
_11[2]&=65535;
_11[0]+=_11[1]>>>16;
_11[1]&=65535;
dojox.uuid.assert((_11[0]>>>16)===0);
};
function _12(x){
var _13=new Array(0,0,0,0);
_13[3]=x%65536;
x-=_13[3];
x/=65536;
_13[2]=x%65536;
x-=_13[2];
x/=65536;
_13[1]=x%65536;
x-=_13[1];
x/=65536;
_13[0]=x;
return _13;
};
function _14(_15,_16){
dojox.uuid.assert(_1.isArray(_15));
dojox.uuid.assert(_1.isArray(_16));
dojox.uuid.assert(_15.length==4);
dojox.uuid.assert(_16.length==4);
var _17=new Array(0,0,0,0);
_17[3]=_15[3]+_16[3];
_17[2]=_15[2]+_16[2];
_17[1]=_15[1]+_16[1];
_17[0]=_15[0]+_16[0];
_10(_17);
return _17;
};
function _18(_19,_1a){
dojox.uuid.assert(_1.isArray(_19));
dojox.uuid.assert(_1.isArray(_1a));
dojox.uuid.assert(_19.length==4);
dojox.uuid.assert(_1a.length==4);
var _1b=false;
if(_19[0]*_1a[0]!==0){
_1b=true;
}
if(_19[0]*_1a[1]!==0){
_1b=true;
}
if(_19[0]*_1a[2]!==0){
_1b=true;
}
if(_19[1]*_1a[0]!==0){
_1b=true;
}
if(_19[1]*_1a[1]!==0){
_1b=true;
}
if(_19[2]*_1a[0]!==0){
_1b=true;
}
dojox.uuid.assert(!_1b);
var _1c=new Array(0,0,0,0);
_1c[0]+=_19[0]*_1a[3];
_10(_1c);
_1c[0]+=_19[1]*_1a[2];
_10(_1c);
_1c[0]+=_19[2]*_1a[1];
_10(_1c);
_1c[0]+=_19[3]*_1a[0];
_10(_1c);
_1c[1]+=_19[1]*_1a[3];
_10(_1c);
_1c[1]+=_19[2]*_1a[2];
_10(_1c);
_1c[1]+=_19[3]*_1a[1];
_10(_1c);
_1c[2]+=_19[2]*_1a[3];
_10(_1c);
_1c[2]+=_19[3]*_1a[2];
_10(_1c);
_1c[3]+=_19[3]*_1a[3];
_10(_1c);
return _1c;
};
function _1d(_1e,_1f){
while(_1e.length<_1f){
_1e="0"+_1e;
}
return _1e;
};
function _20(){
var _21=Math.floor((Math.random()%1)*Math.pow(2,32));
var _22=_21.toString(_f);
while(_22.length<8){
_22="0"+_22;
}
return _22;
};
this.generateUuidString=function(_23){
if(_23){
dojox.uuid.assert(dojox.uuid.generateTimeBasedUuid.isValidNode(_23));
}else{
if(dojox.uuid.generateTimeBasedUuid._uniformNode){
_23=dojox.uuid.generateTimeBasedUuid._uniformNode;
}else{
if(!_9){
var _24=32768;
var _25=Math.floor((Math.random()%1)*Math.pow(2,15));
var _26=(_24|_25).toString(_f);
_9=_26+_20();
}
_23=_9;
}
}
if(!_a){
var _27=32768;
var _28=Math.floor((Math.random()%1)*Math.pow(2,14));
_a=(_27|_28).toString(_f);
}
var now=new Date();
var _29=now.valueOf();
var _2a=_12(_29);
if(!_d){
var _2b=_12(60*60);
var _2c=_12(dojox.uuid.generateTimeBasedUuid._generator.GREGORIAN_CHANGE_OFFSET_IN_HOURS);
var _2d=_18(_2c,_2b);
var _2e=_12(1000);
_d=_18(_2d,_2e);
_e=_12(10000);
}
var _2f=_2a;
var _30=_14(_d,_2f);
var _31=_18(_30,_e);
if(now.valueOf()==_b){
_31[3]+=_c;
_10(_31);
_c+=1;
if(_c==10000){
while(now.valueOf()==_b){
now=new Date();
}
}
}else{
_b=now.valueOf();
_c=1;
}
var _32=_31[2].toString(_f);
var _33=_31[3].toString(_f);
var _34=_1d(_32,4)+_1d(_33,4);
var _35=_31[1].toString(_f);
_35=_1d(_35,4);
var _36=_31[0].toString(_f);
_36=_1d(_36,3);
var _37="-";
var _38="1";
var _39=_34+_37+_35+_37+_38+_36+_37+_a+_37+_23;
_39=_39.toLowerCase();
return _39;
};
}();
return dojox.uuid.generateTimeBasedUuid;
});


;(function(){
dojo.provide("jazz.app.ua.SectionHoverHelp");










dojo.declare("jazz.app.ua.SectionHoverHelp",[dijit._Widget,dijit._Templated],{templateString:"<span class='jazz-app-ua-SectionHoverHelp'><img src='${_imageSrc}' dojoAttachPoint='_helpImg' style='margin-right:5px'></img></span>",_imageSrc:dojo.moduleUrl("jazz.app","ua/images/sctn-help.gif?etag=d2KMCCc"),_imageHoverSrc:dojo.moduleUrl("jazz.app","ua/images/sctn-help-hov.gif?etag=d2KMCCc"),constructor:function(_1){
this.uaKey=_1.uaKey;
this.showOnHoverOver=_1.showOnHoverOver;
this.showOnFocus=_1.showOnFocus;
this.contentNode=_1.contentNode;
this.contentString=_1.contentString;
},postCreate:function(){
this.connect(this._helpImg,"onmouseover",function(_2){
_2.currentTarget.src=this._imageHoverSrc;
});
this.connect(this._helpImg,"onmouseout",function(_3){
_3.currentTarget.src=this._imageSrc;
});
if(this.uaKey){
this.hoverPopup=new jazz.app.ua.internal.HelpHoverPopup({uaKey:this.uaKey,around:this._helpImg});
}else{
if(!this.contentNode){
this.contentNode=document.createElement("div");
this.contentNode.appendChild(document.createTextNode(this.contentString));
}
this.hoverPopup=new jazz.ui.HoverPopup({around:this._helpImg,createContents:dojo.hitch(this,function(_4){
return this.contentNode;
})});
}
if(this.showOnHoverOver||this.showOnFocus){
dojo.toggleClass(this.domNode,"hidden",true);
this.connect(this.hoverPopup,"open",this._handlePopupOpen);
this.connect(this.hoverPopup,"close",this._handlePopupClose);
}
if(this.showOnHoverOver){
for(var i=0;i<this.showOnHoverOver.length;i++){
this.connect(this.showOnHoverOver[i],"onmouseover",this._handleMouseOver);
this.connect(this.showOnHoverOver[i],"onmouseout",this._handleMouseOut);
}
}
if(this.showOnFocus){
for(var i=0;i<this.showOnFocus.length;i++){
this.connect(this.showOnFocus[i],"onfocus",this._handleFocus);
this.connect(this.showOnFocus[i],"onblur",this._handleBlur);
}
}
},_handleMouseOver:function(_5){
_5.currentTarget._hovering=true;
this._updateShowHide();
},_handleMouseOut:function(_6){
_6.currentTarget._hovering=false;
this._updateShowHide();
},_handleFocus:function(_7){
_7.currentTarget._focused=true;
this._updateShowHide();
},_handleBlur:function(_8){
_8.currentTarget._focused=false;
this._updateShowHide();
},_handlePopupOpen:function(){
this._popupOpen=true;
this._updateShowHide();
},_handlePopupClose:function(){
this._popupOpen=false;
this._updateShowHide();
},_updateShowHide:function(){
var _9=this._popupOpen;
if(!_9&&this.showOnHoverOver){
for(var i=0;i<this.showOnHoverOver.length;i++){
if(this.showOnHoverOver[i]._hovering){
_9=true;
break;
}
}
}
if(!_9&&this.showOnFocus){
for(var i=0;i<this.showOnFocus.length;i++){
if(this.showOnFocus[i]._focused){
_9=true;
break;
}
}
}
dojo.toggleClass(this.domNode,"hidden",!_9);
},destroy:function(){
if(this.hoverPopup){
this.hoverPopup.destroy();
this.hoverPopup=null;
}
this.inherited(arguments);
}});
})();


;dojo.provide("com.ibm.team.scm.web.client.util");






















































(function(){
var _1=com.ibm.jdojo;
var _2=_1.lang.Runtime;
var _3=_1.util.Assert;
var _4=com.ibm.team;
var _5=_4.dashboard.web;
var _6=_5.ui.DashboardConstants;
var _7=_5.util.DashboardUtil;
var _8=_4.repository.web.transport.TeamServerClient;
var _9=_4.rtc.foundation.web.util;
var _a=_9.ConfigurationManagementUtil;
var _b=_9.JsonIO;
var _c=_4.scm.web;
var _d=_c.client.utilNative;
var _e=_c.oslcScm;
var _f=_e.JazzScmConstants;
var _10=_e.OslcScmConstants;
var _11=_c.ui.internal;
var _12=_11.view.browse.OslcLinkWidget;
var _13=_11.widgets.OverlayIcon32;
var _14=dojo.string;
var _15=dojox.uuid;
var _16=jazz.app.context;
var ua=jazz.app.ua;
var _17=ua.PageHoverHelp;
var _18=ua.SectionHoverHelp;
var _19=jazz.ui.Breadcrumbs;
var _1a=jazz.ui.Dialog;
var _1b=jazz.ui.HoverPopup;
var _1c=jazz.ui.OverlayIcon;
var _1d=jazz.ui.ResourceLink;
var _1e=net.jazz.ajax.contextRoot;
var _1f=dojo.declare("com.ibm.team.scm.web.client.util",null,{"-chains-":{constructor:"manual"}});
_2.declareInterface("com.ibm.team.scm.web.client.util.IDestroyableHandle");
var _20=dojo.declare("com.ibm.team.scm.web.client.util.DestroyableConnectHandle",null,{"-chains-":{constructor:"manual"},destroy:function(_21){
if(this.connectHandle!=null){
dojo.disconnect(this.connectHandle);
}
},$interfaces:{"com.ibm.team.scm.web.client.util.IDestroyableHandle":true}});
_1f.SCM_PACKAGE="com.ibm.team.scm";
_1f.SCM_VIEW_HISTORY_TYPE=_1f.SCM_PACKAGE;
_1f.SCM_FILES_FOLDERS_VIEW_HISTORY_TYPE=_1f.SCM_PACKAGE+".filesFolders";
_1f.PROJECT_AREA_TYPE="com.ibm.team.process.ProjectArea";
_1f.TEAM_AREA_TYPE="com.ibm.team.process.TeamArea";
_1f.STREAM_TYPE="com.ibm.team.scm.Stream";
_1f.WORKSPACE_TYPE="com.ibm.team.scm.Workspace";
_1f.BASELINE_TYPE="com.ibm.team.scm.Baseline";
_1f.SNAPSHOT_TYPE="com.ibm.team.scm.BaselineSet";
_1f.CHANGE_SET_TYPE="com.ibm.team.scm.ChangeSet";
_1f.COMPONENT_TYPE="com.ibm.team.scm.Component";
_1f.SYMBOLIC_LINK_TYPE_ID="com.ibm.team.filesystem.SymbolicLink";
_1f.FILE_TYPE_ID="com.ibm.team.filesystem.FileItem";
_1f.FOLDER_TYPE_ID="com.ibm.team.scm.Folder";
_1f.COMPONENT_TYPE_ID="com.ibm.team.scm.Component";
_1f.CODE_REVIEW_TYPE_ID="com.ibm.team.filesystem.reviews.CodeReview";
_1f.URI_FRAGMENT_SEPARATOR="#";
_1f.URI_QUERY_SEPARATOR="?";
_1f.JAZZ_URI=net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL;
_1f.APPLICATION_ABOUT_URI=_1f.JAZZ_URI+"/"+"application-about";
_1f.WEB_URI=_1f.JAZZ_URI+"/web";
_1f.ICONS_URI=_1f.WEB_URI+"/com.ibm.team.scm.web/graphics/icons";
_1f.PROJECTS_URI=_1f.WEB_URI+"/projects";
_1f.ITEMOID_URI=_1f.JAZZ_URI+"/resource/itemOid";
_1f.WORKSPACE_RESOURCE_URI=_1f.ITEMOID_URI+"/"+_1f.WORKSPACE_TYPE+"/${0}";
_1f.CHANGE_SET_RESOURCE_URI=_1f.ITEMOID_URI+"/"+_1f.CHANGE_SET_TYPE+"/${0}";
_1f.BASELINE_RESOURCE_URI=_1f.ITEMOID_URI+"/"+_1f.BASELINE_TYPE+"/${0}";
_1f.INTERNAL_CODE_REVIEW_COMPARE_SERVICE="/service/com.ibm.team.filesystem.reviews.service.web.ICodeReviewWebService/codeReviewCompare.html?itemId=";
_1f.INTERNAL_CODE_REVIEW_COMPARE_URL="../.."+_1f.INTERNAL_CODE_REVIEW_COMPARE_SERVICE;
_1f.CODE_REVIEW_ITEM_RESOURCE="/resource/itemOid/"+_1f.CODE_REVIEW_TYPE_ID+"/${0}";
_1f.CODE_REVIEW_ITEM_RESOURCE_URI="../.."+_1f.CODE_REVIEW_ITEM_RESOURCE;
_1f.WORKSPACE_QUERY_PARAM="workspace=itemOid/"+_1f.WORKSPACE_TYPE+"/${0}";
_1f.MAX_CHANGES=500;
_1f.BEFORE_STATE_CONTENT_TYPE_NOT_SUPPORTED="BEFORE STATE CONTENT TYPE NOT SUPPORTED FOR DIFFERENCE COMPUTATION: ";
_1f.AFTER_STATE_CONTENT_TYPE_NOT_SUPPORTED="AFTER STATE CONTENT TYPE NOT SUPPORTED FOR DIFFERENCE COMPUTATION: ";
_1f.NEITHER_STATES_CONTENT_TYPE_SUPPORTED="NEITHER STATES CONTENT TYPE SUPPORTED FOR DIFFERENCE COMPUTATION: ";
_1f.BEFORE_STATE_CONTENT_DELETED="BEFORE STATE CONTENT HAS BEEN DELETED";
_1f.AFTER_STATE_CONTENT_DELETED="AFTER STATE CONTENT HAS BEEN DELETED";
_1f.BOTH_STATES_CONTENT_DELETED="BOTH STATES CONTENT HAS BEEN DELETED";
_1f.DOWNLOAD_CONTENT_DELETED_ERROR_PREFIX="File Download Response:error:";
_1f.PageRegistry="net.jazz.ajax.ui.internal.PageRegistry";
_1f.ICON_URI_PREFIX="../com.ibm.team.scm.web/graphics/icons/";
_1f.OWNER_TYPE_CONTRIBUTOR="contributor";
_1f.OWNER_TYPE_TEAM_AREA="teamarea";
_1f.OWNER_TYPE_PROJECT_AREA="projectarea";
_1f.OWNER_TYPE_UNKNOWN="unknown";
_1f.CREATE_OWNER_TYPE_PROJECT_AREA="ProjectArea";
_1f.CREATE_OWNER_TYPE_TEAM_AREA="TeamArea";
_1f.VISIBILITY_TYPE_PRIVATE="private";
_1f.VISIBILITY_TYPE_PUBLIC="public";
_1f.VISIBILITY_TYPE_TEAM_AREA="teamarea";
_1f.VISIBILITY_TYPE_PROJECT_AREA="projectarea";
_1f.VISIBILITY_TYPE_ACCESS_GROUP="accessgroup";
_1f.VISIBILITY_TYPE_UNKNOWN="unknown";
_1f.READSCOPE_PUBLIC="public_scope";
_1f.READSCOPE_CONTRIBUTOR_DEFERRING="contributor_deferring_scope";
_1f.READSCOPE_PRIVATE="private_scope";
_1f.READSCOPE_PROCESS_AREA="process_area_scope";
_1f.READSCOPE_TEAM_AREA_PRIVATE="team_area_private_scope";
_1f.READSCOPE_ACCESS_GROUP="access_group_scope";
_1f.READSCOPE_UNKNOWN="unknown_scope";
_1f.READSCOPE_ARCHIVED="archived_scope";
_1f.messages=_d.messages;
_1f._basicPrefix="#action=com.ibm.team.scm.";
_1f.SOURCE_CONTROL_WELCOME_URI="#action=com.ibm.team.scm.welcome";
_1f.SOURCE_CONTROL_STREAMS_URI="#action=com.ibm.team.scm.showStreams";
_1f.SOURCE_CONTROL_WORKSPACES_URI="#action=com.ibm.team.scm.showWorkspaces";
_1f.SOURCE_CONTROL_LOCKS_URI="#action=com.ibm.team.scm.showLocks";
_1f.SOURCE_CONTROL_CREATE_STREAM_URI="#action=com.ibm.team.scm.createStream";
_1f.SOURCE_CONTROL_CREATE_WORKSPACE_URI="#action=com.ibm.team.scm.createWorkspace";
_1f.GIT_WELCOME_URI="#action=com.ibm.team.git.web.ui.action.view_welcome";
_1f.GIT_REPO_URI="#action=com.ibm.team.git.web.ui.action.browse_registered_git_repositories";
_1f.GIT_AUTHORIZE_URI="#action=com.ibm.team.git.web.ui.action.authorize_git_repository";
_1f._browseStreamURIPrefix="#action=com.ibm.team.scm.browseStream&id=";
_1f._browseWorkspaceURIPrefix="#action=com.ibm.team.scm.browseWorkspace&id=";
_1f._browseBaselineURIPrefix="#action=com.ibm.team.scm.browseBaseline&id=";
_1f._browseSnapshotURIPrefix="#action=com.ibm.team.scm.browseSnapshot&id=";
_1f._browseElementURIPrefix="#action=com.ibm.team.scm.browseElement";
_1f._viewComponentURIPrefix="#action=com.ibm.team.scm.viewComponent&itemId=";
_1f._browseCodeReviewsURIPrefix="#action=com.ibm.team.scm.browseCodeReviews";
_1f._viewComponentHistoryURIPrefix="#action=com.ibm.team.scm.viewComponentHistory&workspaceItemId=";
_1f._viewItemHistoryURIPrefix="#action=com.ibm.team.scm.viewItemHistory&workspaceItemId=";
_1f._viewChangeSetURIPrefix="#action=com.ibm.team.scm.viewChangeSet&contextItemId=";
_1f._viewChangeSetItemURIPrefix="#action=com.ibm.team.scm.viewChangeSetItem&contextItemId=";
_1f._viewSnapshotsURIPrefix="#action=com.ibm.team.scm.viewSnapshots&workspaceItemId=";
_1f._compareContextsURIPrefix="#action=com.ibm.team.scm.compareContexts&itemId1=";
_1f._contributorProfilePrefix="#action=com.ibm.team.repository.viewUserProfile&itemId=";
_1f._viewTeamAreaDashboardPrefix="#action=com.ibm.team.dashboard.viewDashboard&team=";
_1f._viewProjectAreaDashboardPrefix="#action=com.ibm.team.dashboard.viewDashboard";
_1f._editProjectAreaPrefix="#action=com.ibm.team.process.editProjectArea&itemId=";
_1f._editTeamAreaPrefix="#action=com.ibm.team.process.editTeamArea&itemId=";
_1f._editTeamAreaWithProjectArea="#action=com.ibm.team.process.editTeamArea&itemId=${0}&projectAreaItemId=${1}";
_1f._runSearchURIPrefix="#action=com.ibm.team.scm.runSearch";
_1f._editSearchURIPrefix="#action=com.ibm.team.scm.advancedSearch";
_1f._locateChangeSetURIPrefix="#action=com.ibm.team.scm.locateChangeSet";
_1f._resourceURIChangeSetWithWorkspace="../../resource/itemOid/com.ibm.team.scm.ChangeSet/${0}?workspace=itemOid/com.ibm.team.scm.Workspace/${1}";
_1f._resourceURIChangeSetNoWorkspace="../../resource/itemOid/com.ibm.team.scm.ChangeSet/${0}";
_1f._resourceURIChangeSetWithWorkspacePreview="../../resource/itemOid/com.ibm.team.scm.ChangeSet/${0}?workspace=itemOid/com.ibm.team.scm.Workspace/${1}&preview=${2}";
_1f._resourceURIChangeSetNoWorkspacePreview="../../resource/itemOid/com.ibm.team.scm.ChangeSet/${0}?preview=${1}";
_1f._resourceURIProjectArea="../../process/project-areas/";
_1f.OSLC_SERVICE_URL_PREFIX="../../oslc-scm/";
_1f.OSLC_BASELINE_SERVICE_URL_PREFIX=_1f.OSLC_SERVICE_URL_PREFIX+"baselineId/";
_1f.OSLC_WORKSPACE_URL_PREFIX=_1f.OSLC_SERVICE_URL_PREFIX+"workspace/";
_1f.OSLC_WORKSPACE_BY_ID_URL_PREFIX=_1f.OSLC_SERVICE_URL_PREFIX+"workspaceId/";
_1f.OSLC_COMPONENT_BY_ID_URL_PREFIX=_1f.OSLC_SERVICE_URL_PREFIX+"componentId/";
_1f._getFileDownloadURIPrefix="../../service/com.ibm.team.filesystem.service.internal.rest.IFilesystemContentService/";
_1f._workItemPrefix="#action=com.ibm.team.workitem.viewWorkItem&id=";
_1f._defaultServicePrefix="../../resource/";
_1f.stateTypeIconAdd=_1f.ICON_URI_PREFIX+"add-state_obj.gif";
_1f.stateTypeIconDelete=_1f.ICON_URI_PREFIX+"delete-state_obj.gif";
_1f.stateTypeIconInitial=_1f.ICON_URI_PREFIX+"initial-state_obj.gif";
_1f.stateTypeIconMergeDelete=_1f.ICON_URI_PREFIX+"merge-delete-state_obj.gif";
_1f.stateTypeIconMerge=_1f.ICON_URI_PREFIX+"merge-state_obj.gif";
_1f.stateTypeIconModify=_1f.ICON_URI_PREFIX+"modify-state_obj.gif";
_1f.stateTypeIconMove=_1f.ICON_URI_PREFIX+"move-state_obj.gif";
_1f.stateTypeIconRename=_1f.ICON_URI_PREFIX+"rename-state_obj.gif";
_1f.stateTypeIconUndo=_1f.ICON_URI_PREFIX+"undo-state_obj.gif";
_1f.LINE_DELIMITER_NONE=0;
_1f.LINE_DELIMITER_LF=1;
_1f.LINE_DELIMITER_CR=2;
_1f.LINE_DELIMITER_CRLF=3;
_1f.LINE_DELIMITER_PLATFORM=4;
_1f.SEARCH_OWNER_TYPE_CONTRIBUTOR="Contributor";
_1f.SEARCH_OWNER_TYPE_PROJECT_AREA="ProjectArea";
_1f.SEARCH_OWNER_TYPE_TEAM_AREA="TeamArea";
_1f.WORKSPACE_KIND_STREAM="stream";
_1f.WORKSPACE_KIND_WORKSPACE="workspace";
_1f.COMPACT_RENDERER_PREVIEW_LARGE="large";
_1f.COMPACT_RENDERER_PREVIEW_SMALL="small";
_1f.BASELINE="baseline";
_1f.CHANGE_SET="changeSet";
_1f.CHANGE="change";
_1f.COMPONENT="component";
_1f.COMPONENT_PA="component_project_area";
_1f.COMPONENT_TA="component_team_area";
_1f.COMPONENT_PRIVATE="component_private";
_1f.COMPONENT_ADDED="component_added";
_1f.SNAPSHOT="snapshot";
_1f.BASELINESET="baselineset";
_1f.STREAM="stream";
_1f.WORKSPACE="workspace";
_1f.STREAMS="streams";
_1f.WORKSPACES="workspaces";
_1f.SCM="scm";
_1f.GIT_WELCOME="gitWelcome";
_1f.GIT_REPO="gitRepository";
_1f.GIT_AUTHORIZE="gitAuthorize";
_1f.SOURCE_CONTROL="sourceControl";
_1f.FOLDER="folder";
_1f.FILE="file";
_1f.SYMLINK="symlink";
_1f.HISTORY="history";
_1f.SEARCH="search";
_1f.ADVANCED_SEARCH="advanced_search";
_1f.LOCK="lock";
_1f.LOCKS="locks";
_1f.OSLC_PROPERTIES="oslc.properties";
_1f.SPINNING_GIF="spinning_gif";
_1f.WARNING_ICON="warning_hunk";
_1f.WARNING_OBJ="warning_obj";
_1f.PROJECT_AREA="project_area";
_1f.TEAM_AREA="team_area";
_1f.USER="user";
_1f.TASK="task";
_1f.INFO="info";
_1f.MATCH_FULL="match_full";
_1f.MATCH_QUATER="match_quater";
_1f.MATCH_HALF="match_half";
_1f.MATCH_THREE_QUATER="match_three_quater";
_1f.MATCH_EMPTY="match_empty";
_1f.ERROR="error";
_1f.DIS_WORK_ITEM="dis_workitem";
_1f.LOCATE_CHANGE_SETS="locate_ChangeSets";
_1f.CODE_REVIEW="codeReview";
_1f.CUSTOM_ATTRIBUTE_TAGS_KEY="tags";
_1f.COMPARE_IMAGE_KEY="compare";
_1f.CSH_LEVEL_PAGE=1;
_1f.CSH_LEVEL_SECTION=2;
_1f.CSH_LEVEL_FORM_LABEL=3;
_1f.AND_SIGN="&";
_1f.OSLC_CONFIGURATION="oslc_config.context";
_1f.EQUAL_SIGN="=";
_1f.gcContextKey=_1f.AND_SIGN+_1f.OSLC_CONFIGURATION+_1f.EQUAL_SIGN;
_1f.NEXT_PAGE_TAG="nextPage";
_1f.MAX_RESULTS_TAG="maxResults";
_1f.DIRECTION="direction";
_1f.KEY_RESULT="result";
_1f.KEY_COMPONENT="component";
_1f.KEY_COMPONENTS_ONLY_IN_RESOURCE="componentsOnlyInResource";
_1f.KEY_COMPONENTS_ONLY_IN_OTHER="componentsOnlyInOther";
_1f.KEY_COMPONENTS_IN_COMMON_DIFF_REPORT="componentsInCommonDiffReport";
_1f.KEY_ONLY_IN_RESOURCE="onlyInResource";
_1f.KEY_ONLY_IN_OTHER="onlyInOther";
_1f.CSS_BUTTON_CLASS_PRIMARY="j-button-primary";
_1f.CSS_BUTTON_CLASS_SECONDARY="j-button-secondary";
_1f.CSS_BUTTON_CLASS_TERTIARY="j-button-tertiary";
_1f.CSS_BUTTON_CLASS_GHOST="j-button-ghost";
_1f.CSS_BUTTON_CLASS_DANGER="j-button-danger";
_1f.CSS_BUTTON_CLASS_FULL_BLEED_ONE="j-buttonGroup-bleed-one";
_1f.CSS_BUTTON_CLASS_FULL_BLEED_TWO="j-buttonGroup-bleed-two";
_1f.CSS_BUTTON_CLASS_FULL_BLEED_THREE="j-buttonGroup-bleed-three";
_1f.CSS_BUTTON_CLASS_FULL_BLEED_FOUR="j-buttonGroup-bleed-four";
_1f.getOslcBaselineServiceURI=function(_22){
return _d.getOslcBaselineServiceURI(_22);
};
_1f.getOslcStreamSearchByProjectArea=function(_23){
var uri=dojo.baseUrl;
uri+=_1f.OSLC_SERVICE_URL_PREFIX+"stream?"+_f.JAZZ_SCM_PROJECT_AREA+"="+encodeURIComponent("itemOid/com.ibm.team.process.ProjectArea/"+_23);
return uri;
};
_1f.getOslcWorkspaceServiceURI=function(_24){
return _d.getOslcWorkspaceServiceURI(_24);
};
_1f.getOslcStreamServiceURI=function(_25){
return _d.getOslcStreamServiceURI(_25);
};
_1f.getOslcComponentServiceURI=function(_26,_27,_28){
return _d.getOslcComponentServiceURI(_26,_27,_28);
};
_1f.getFileDownloadURI=function(_29){
var _2a,_2b;
if(!(_29!=null)){
_3.fail("args != null","util:454");
}
if(!(_29.componentItemId!=null)){
_3.fail("args.componentItemId != null","util:455");
}
if(!(_29.fileName!=null)){
_3.fail("args.fileName != null","util:456");
}
if(!(_29.fileItemId!=null)){
_3.fail("args.fileItemId != null","util:457");
}
var _2c;
if((_1f.WORKSPACE_TYPE===_29.contextItemType)||(_1f.STREAM_TYPE===_29.contextItemType)||(_1f.SNAPSHOT_TYPE===_29.contextItemType)||(_1f.BASELINE_TYPE===_29.contextItemType)){
_2c=_29.contextItemId;
}else{
_2c="-";
}
_2a=_1f._getFileDownloadURIPrefix+_2c+"/"+encodeURIComponent(_29.componentItemId)+"/"+encodeURIComponent(_29.fileName)+"?"+"itemId="+encodeURIComponent(_29.fileItemId);
if(_29.fileStateId!=null){
_2a+="&"+"stateId="+encodeURIComponent(_29.fileStateId);
}
if(_29.itemType!=null){
_2a+="&"+"itemType="+encodeURIComponent(_29.itemType);
}
if(_1f.hasValue(_29.contextItemType)){
_2a+="&"+"contextType="+encodeURIComponent(_29.contextItemType);
}
if(_29.format!=null){
_2a+="&"+"format="+encodeURIComponent(_29.format);
}else{
if((_29.itemType==="com.ibm.team.scm.Folder")){
_2a+="&format=zip";
}
}
if((_29.itemType==="com.ibm.team.scm.Folder")){
_2a+="&tzOffset="+new Date().getTimezoneOffset();
}
_2b=_1f.getPlatformLineDelimiter();
if(_2b!=null){
_2a+="&"+"platformLineDelimiter="+encodeURIComponent(_2b);
}
if(_29.iframe===true){
_2a+="&"+"iframe=true";
}
return _2a;
};
_1f.getBrowseStreamURI=function(id,tab){
var _2d;
if(!(id!=null)){
_3.fail("id != null","util:505");
}
_2d=_1f._browseStreamURIPrefix+encodeURIComponent(id);
if(tab!=null){
_2d+="&tab="+tab;
}
return _2d;
};
_1f.getGCAwareBrowseStreamURI=function(id,tab,_2e){
var _2f=_1f.getBrowseStreamURI(id,tab);
_2f=_1f.UpdateURIWithGCContext(_2f,_2e);
return _2f;
};
_1f.UpdateURIWithGCContext=function(_30,_31){
var _32=null;
var _33=_1f.getConfigurationURI();
if(_31!=null&&_31!==undefined){
_32=_31;
}else{
if(_33!=null&&_33!==undefined){
_32=_33;
}
}
if(_32!=null){
_30=_1f.createURIUsingGCContext(_30,_32);
}
return _30;
};
_1f.getBrowseWorkspaceURI=function(id,tab){
var _34;
if(!(id!=null)){
_3.fail("id != null","util:540");
}
_34=_1f._browseWorkspaceURIPrefix+encodeURIComponent(id);
if(tab!=null){
_34+="&tab="+tab;
}
return _34;
};
_1f.getBrowseWorkspaceURI2=function(id,tab,_35,_36,_37,_38){
var _39=_1f.getBrowseWorkspaceURI(id,tab);
_39+=_1f.makeKey(_1f.NEXT_PAGE_TAG,_36);
_39+=_1f.makeKey(_1f.DIRECTION,_37);
_39+=_1f.makeKey(_1f.MAX_RESULTS_TAG,_38);
_39=_1f.UpdateURIWithGCContext(_39,_35);
return _39;
};
_1f.getGCAwareBrowseWorkspaceURI=function(id,tab,_3a){
var _3b=_1f.getBrowseWorkspaceURI(id,tab);
return _1f.UpdateURIWithGCContext(_3b,_3a);
};
_1f.makeKey=function(tag,_3c){
if(_1f.hasValue(_3c)){
return "&"+tag+"="+_3c;
}else{
return "";
}
};
_1f.getBrowseBaselineURI=function(id,tab){
var _3d;
if(!(id!=null)){
_3.fail("id != null","util:579");
}
_3d=_1f._browseBaselineURIPrefix+encodeURIComponent(id);
if(tab!=null){
_3d+="&tab="+tab;
}
return _3d;
};
_1f.getBrowseBaselineURI2=function(_3e,tab,_3f,_40){
var _41=_1f.getBrowseBaselineURI(_3e,tab);
if(_1f.hasValue(_3f)&&_1f.hasValue(_40)){
_41+=("&owningContextId="+encodeURIComponent(_3f));
_41+=("&owningContextType="+encodeURIComponent(_40));
}
return _41;
};
_1f.getBrowseBaselineURI3=function(_42,tab,_43,_44,_45){
var _46=_1f.getBrowseBaselineURI2(_42,tab,_43,_44);
return _1f.UpdateURIWithGCContext(_46,_45);
};
_1f.getGCAwareBrowseBaselineURI=function(id,tab,_47){
var _48=_1f.getBrowseBaselineURI(id,tab);
return _1f.UpdateURIWithGCContext(_48,_47);
};
_1f.getBrowseSnapshotURI=function(id,_49,_4a){
if(!(id!=null)){
_3.fail("id != null","util:608");
}
var uri=_1f._browseSnapshotURIPrefix+encodeURIComponent(id);
if(_1f.hasValue(_49)&&_49.length>0){
uri+="&ownerId="+encodeURIComponent(_49);
}
if(_1f.hasValue(_4a)&&_4a.length>0){
uri+="&ownerType="+encodeURIComponent(_4a);
}
return uri;
};
_1f.getGCAwareBrowseSnapshotURI=function(id,_4b,_4c,tab,_4d){
var _4e=_1f.getBrowseSnapshotURI(id,_4b,_4c);
if(tab!=null&&tab!==undefined){
_4e+="&tab="+tab;
}
_4e=_1f.UpdateURIWithGCContext(_4e,_4d);
return _4e;
};
_1f.encodePath=function(_4f){
var _50="";
var _51=_4f;
var _52=_51.length;
for(var _53=0;_53<_52;_53++){
var _54=_51[_53];
_50+="/"+encodeURIComponent(_54);
}
return _50;
};
_1f.replaceLocationParameter=function(_55,_56){
var _57=window.location.hash;
var _58=dojo.queryToObject(_57);
_58[_55]=_56;
window.location.hash=decodeURIComponent(dojo.objectToQuery(_58));
};
_1f.updateConfigurationURI=function(_59){
var _5a=window.location.hash.replace(new RegExp("#"),"");
_5a=_5a.replace("+","%20");
var _5b=dojo.queryToObject(_5a);
var _5c=_5b[_1f.OSLC_CONFIGURATION];
if(_5c!==_59){
if(_59==null){
delete _5b[_1f.OSLC_CONFIGURATION];
}else{
_5b[_1f.OSLC_CONFIGURATION]=encodeURIComponent(_59);
}
window.location.hash=decodeURIComponent(dojo.objectToQuery(_5b));
}
};
_1f.createURIUsingGCContext=function(uri,_5d){
return uri+_1f.gcContextKey+encodeURIComponent(_5d);
};
_1f.getBrowseElementURI=function(_5e){
var _5f;
if(!(_5e.contextItemId!=null)){
_3.fail("args.contextItemId != null","util:713");
}
if(!(_5e.contextItemType!=null)){
_3.fail("args.contextItemType != null","util:714");
}
if(!(_5e.componentItemId!=null)){
_3.fail("args.componentItemId != null","util:715");
}
if(!(_5e.path!=null||(_5e.itemId!=null&&_5e.itemType!=null))){
_3.fail("args.path != null || (args.itemId != null && args.itemType != null)","util:718");
}
_5f=_1f._browseElementURIPrefix;
if(_5e.contextItemType===_1f.WORKSPACE_TYPE||_5e.contextItemType===_1f.STREAM_TYPE){
_5f+="&workspaceItemId=";
}
if(_5e.contextItemType===_1f.SNAPSHOT_TYPE){
_5f+="&snapshotItemId=";
}
if(_5e.contextItemType===_1f.BASELINE_TYPE){
_5f+="&baselineItemId=";
}
_5f+=encodeURIComponent(_5e.contextItemId);
_5f+="&componentItemId="+encodeURIComponent(_5e.componentItemId);
if(_5e.path!=null&&_5e.path==="/"){
_5f+="&path=/";
}else{
if(_5e.itemId!=null){
_5f+="&itemType="+encodeURIComponent(_5e.itemType)+"&itemId="+encodeURIComponent(_5e.itemId);
}else{
if(_5e.path!=null){
var _60=_5e.path.split("/");
var _61="/";
for(var i=0;i<_60.length;i++){
if(_60[i].length>0){
_61+=encodeURIComponent(_60[i])+"/";
}
}
_5f+="&path="+_61;
}
}
}
if(_5e.tab!==undefined){
_5f+="&tab="+encodeURIComponent(_5e.tab);
}
if(_5e.n!==undefined){
_5f+="&n="+encodeURIComponent(""+_5e.n);
}
if(_1f.hasValue(_5e.first)){
_5f+="&first="+encodeURIComponent(_5e.first);
}
if(_1f.hasValue(_5e.last)){
_5f+="&last="+encodeURIComponent(_5e.last);
}
return _5f;
};
_1f.getGCAwareBrowseElementURI=function(_62,_63){
var _64=_1f.getBrowseElementURI(_62);
return _1f.UpdateURIWithGCContext(_64,_63);
};
_1f.getComponentURI=function(_65){
if(!(_65!=null)){
_3.fail("componentId != null","util:780");
}
return _1f._viewComponentURIPrefix+encodeURIComponent(_65);
};
_1f.getBrowseComponentOperationHistoryURI=function(_66,_67,tab,_68,_69,_6a,_6b){
var _6c=_1f._browseElementURIPrefix;
_6c=_6c+"&workspaceItemId="+_66;
_6c=_6c+"&componentItemId="+_67;
_6c+="&path=/";
if(tab!=null){
_6c+="&tab="+tab;
}
_6c+=_1f.makeKey(_1f.NEXT_PAGE_TAG,_69);
_6c+=_1f.makeKey(_1f.DIRECTION,_6a);
_6c+=_1f.makeKey(_1f.MAX_RESULTS_TAG,_6b);
if(_68!=null&&_68!==undefined){
_6c=_1f.createURIUsingGCContext(_6c,_68);
}
return _6c;
};
_1f.getComponentHistoryURI=function(_6d,_6e,n){
if(!(_6d!=null)){
_3.fail("workspaceId != null","util:815");
}
if(!(_6e!=null)){
_3.fail("componentId != null","util:816");
}
if(n!==undefined){
return _1f._viewComponentHistoryURIPrefix+encodeURIComponent(_6d)+"&componentItemId="+encodeURIComponent(_6e)+"&n="+encodeURIComponent(""+n);
}else{
return _1f._viewComponentHistoryURIPrefix+encodeURIComponent(_6d)+"&componentItemId="+encodeURIComponent(_6e);
}
};
_1f.getComponentHistoryURIWithFirst=function(_6f,_70,_71,n){
if(!(_6f!=null)){
_3.fail("workspaceId != null","util:838");
}
if(!(_70!=null)){
_3.fail("componentId != null","util:839");
}
if(n!==-1){
return _1f._viewComponentHistoryURIPrefix+encodeURIComponent(_6f)+"&componentItemId="+encodeURIComponent(_70)+"&first="+encodeURIComponent(_71)+"&n="+encodeURIComponent(""+n);
}else{
return _1f._viewComponentHistoryURIPrefix+encodeURIComponent(_6f)+"&componentItemId="+encodeURIComponent(_70)+"&first="+encodeURIComponent(_71);
}
};
_1f.getComponentHistoryURIWithLast=function(_72,_73,_74,n){
if(!(_72!=null)){
_3.fail("workspaceId != null","util:863");
}
if(!(_73!=null)){
_3.fail("componentId != null","util:864");
}
if(n!==-1){
return _1f._viewComponentHistoryURIPrefix+encodeURIComponent(_72)+"&componentItemId="+encodeURIComponent(_73)+"&last="+encodeURIComponent(_74)+"&n="+encodeURIComponent(""+n);
}else{
return _1f._viewComponentHistoryURIPrefix+encodeURIComponent(_72)+"&componentItemId="+encodeURIComponent(_73)+"&last="+encodeURIComponent(_74);
}
};
_1f.getItemHistoryURI=function(_75,_76,oid){
if(!(_75!=null)){
_3.fail("workspaceId != null","util:887");
}
if(!(_76!=null)){
_3.fail("componentId != null","util:888");
}
if(!(oid!=null)){
_3.fail("oid != null","util:889");
}
return _1f._viewItemHistoryURIPrefix+encodeURIComponent(_75)+"&componentItemId="+encodeURIComponent(_76)+"&oid="+encodeURIComponent(oid);
};
_1f.getCompactRendererChangeSetURI=function(_77,_78,_79){
if(_77!=null){
return dojo.string.substitute(_1f._resourceURIChangeSetWithWorkspacePreview,[encodeURIComponent(_78),encodeURIComponent(_77),encodeURIComponent(_79)]);
}
return dojo.string.substitute(_1f._resourceURIChangeSetNoWorkspacePreview,[encodeURIComponent(_78),encodeURIComponent(_79)]);
};
_1f.getResourceChangeSetURI=function(_7a,_7b){
if(_7a!=null){
return dojo.string.substitute(_1f._resourceURIChangeSetWithWorkspace,[encodeURIComponent(_7b),encodeURIComponent(_7a)]);
}
return dojo.string.substitute(_1f._resourceURIChangeSetNoWorkspace,[encodeURIComponent(_7b)]);
};
_1f.getChangeSetInContextURI=function(_7c,_7d,_7e,_7f){
if(!(_7e!=null)){
_3.fail("changeSetItemId != null","util:928");
}
if(!_1f.hasValue(_7c)){
_7c="";
}
var _80=_1f._viewChangeSetURIPrefix+encodeURIComponent(_7c)+"&contextItemType="+encodeURIComponent(_7d)+"&changeSetItemId="+encodeURIComponent(_7e);
if(_7f!=null){
_80+="&maxChanges="+encodeURIComponent(_7f);
}
return _80;
};
_1f.getChangeSetInContextURIWithLocation=function(_81,_82,_83,_84){
if(!(_83!=null)){
_3.fail("changeSetId != null","util:951");
}
if(!(_84!=null)){
_3.fail("diffId != null","util:952");
}
return _1f.getChangeSetInContextURI(_81,_82,_83,null)+"&diffId="+encodeURIComponent(_84);
};
_1f.getViewChangeSetItemCompareInContextUri=function(_85,_86,_87,_88,_89,_8a){
if(!(_87!=null)){
_3.fail("componentId != null","util:976");
}
if(!(_88!=null)){
_3.fail("itemType != null","util:977");
}
if(!(_89!=null)){
_3.fail("itemId != null","util:978");
}
if(!_1f.hasValue(_85)){
_85="";
}
if(!_1f.hasValue(_86)){
_86="";
}
return _1f._viewChangeSetItemURIPrefix+encodeURIComponent(_85)+"&contextItemType="+encodeURIComponent(_86)+"&componentItemId="+encodeURIComponent(_87)+"&itemType="+encodeURIComponent(_88)+"&itemId="+encodeURIComponent(_89)+"&changeSetId="+encodeURIComponent(_8a);
};
_1f.getViewChangeSetItemInContextURI=function(_8b,_8c,_8d,_8e,_8f,_90,tab){
if(!(_8d!=null)){
_3.fail("componentId != null","util:1012");
}
if(!(_8e!=null)){
_3.fail("itemType != null","util:1013");
}
if(!(_8f!=null)){
_3.fail("itemId != null","util:1014");
}
if(!_1f.hasValue(_8b)){
_8b="";
}
if(!_1f.hasValue(_8c)){
_8c="";
}
return _1f._viewChangeSetItemURIPrefix+encodeURIComponent(_8b)+"&contextItemType="+encodeURIComponent(_8c)+"&componentItemId="+encodeURIComponent(_8d)+"&itemType="+encodeURIComponent(_8e)+"&itemId="+encodeURIComponent(_8f)+"&stateId="+encodeURIComponent(_90)+(_1f.hasValue(tab)?"&tab="+encodeURIComponent(tab):"");
};
_1f.getViewSnapshotsURI=function(_91){
if(!(_91!=null)){
_3.fail("workspaceId != null","util:1033");
}
return _1f._viewSnapshotsURIPrefix+encodeURIComponent(_91);
};
_1f.buildShowBaselinesURI=function(_92,_93,_94,_95,dir,_96){
if(!(_93!=null)){
_3.fail("componentId != null","util:1040");
}
if(!(_92!=null)){
_3.fail("workspaceId != null","util:1041");
}
var uri=_1f._browseElementURIPrefix+"&workspaceItemId="+encodeURIComponent(_92)+"&componentItemId="+encodeURIComponent(_93)+"&path=/&tab=show_baselines";
return uri;
};
_1f.getCompareContextsURI=function(_97,_98,_99,_9a,_9b,_9c,_9d,_9e,tab){
var _9f;
if(!(_97!=null)){
_3.fail("context1ItemId != null","util:1053");
}
if(!(_98!=null)){
_3.fail("context1ItemType != null","util:1054");
}
if(!(_9b!=null)){
_3.fail("context2ItemId != null","util:1055");
}
if(!(_9c!=null)){
_3.fail("context2ItemType != null","util:1056");
}
_9f=_1f._compareContextsURIPrefix+encodeURIComponent(_97)+"&itemType1="+encodeURIComponent(_98);
if(_99!=null&&_9a!=null){
_9f+="&itemOwner1="+encodeURIComponent(_99)+"&ownerType1="+encodeURIComponent(_9a);
}
_9f+="&itemId2="+encodeURIComponent(_9b)+"&itemType2="+encodeURIComponent(_9c);
if(_9d!=null&&_9e!=null){
_9f+="&itemOwner2="+encodeURIComponent(_9d)+"&ownerType2="+encodeURIComponent(_9e);
}
if(tab!=null){
_9f+="&tab="+encodeURIComponent(tab);
}
return _9f;
};
_1f.getCompareContextsURI2=function(_a0,_a1,_a2,_a3,_a4,_a5,_a6,_a7,tab){
var _a8;
if(!(_a0!=null)){
_3.fail("itemId1 != null","util:1076");
}
if(!(_a5!=null)){
_3.fail("itemType2 != null","util:1077");
}
if(!(_a4!=null)){
_3.fail("itemId2 != null","util:1078");
}
if(!(_a5!=null)){
_3.fail("itemType2 != null","util:1079");
}
_a8=_1f._compareContextsURIPrefix+encodeURIComponent(_a0)+"&itemType1="+encodeURIComponent(_a1);
if(_a2!=null&&_a3!=null){
_a8+="&contextItemId1="+encodeURIComponent(_a2)+"&contextItemType1="+encodeURIComponent(_a3);
}
_a8+="&itemId2="+encodeURIComponent(_a4)+"&itemType2="+encodeURIComponent(_a5);
if(_a6!=null&&_a7!=null){
_a8+="&contextItemId2="+encodeURIComponent(_a6)+"&contextItemType2="+encodeURIComponent(_a7);
}
if(tab!=null){
_a8+="&tab="+encodeURIComponent(tab);
}
return _a8;
};
_1f.getAdvancedSearchURI=function(){
return _1f._editSearchURIPrefix;
};
_1f.getLocateChangeSetURI=function(){
return _1f._locateChangeSetURIPrefix;
};
_1f.getBrowseCodeReviewsURI=function(){
return _1f._browseCodeReviewsURIPrefix;
};
_1f.getRunStreamSearchForProjectAreaURI=function(_a9,_aa,_ab,_ac){
var uri=_1f.SOURCE_CONTROL_STREAMS_URI;
if(_1f.hasValue(_a9)){
uri+="&bt="+_a9;
}
if(_1f.hasValue(_aa)){
uri+="&ft="+_aa;
}
if(_1f.hasValue(_ab)){
uri+="&lt="+_ab;
}
if(_1f.hasValue(_ac)){
uri+="&n="+_ac;
}
return uri;
};
_1f.getRunSearchURI=function(_ad,_ae,_af,_b0,_b1,_b2,_b3,_b4,_b5,_b6,_b7,_b8,_b9,_ba,_bb,_bc,_bd,_be){
if(!(_ae!=null)){
_3.fail("searchType != null","util:1148");
}
if(!(_af!=null)){
_3.fail("searchText != null","util:1149");
}
var uri=_1f._runSearchURIPrefix+"&type="+_ae+"&text="+encodeURIComponent(_af);
if(_1f.hasValue(_b0)){
var _bf=(_ae==="changeSet")?"creator":"owner";
uri+="&"+_bf+"="+encodeURIComponent(_b0);
}
if(_1f.hasValue(_b1)){
uri+="&ownerType="+encodeURIComponent(_b1);
}
if(_1f.hasValue(_b2)){
uri+="&name="+encodeURIComponent(_b2);
}
if(_1f.hasValue(_b3)){
uri+="&comp="+encodeURIComponent(_b3);
}
if(_1f.hasValue(_b5)){
uri+="&wsp="+encodeURIComponent(_b5);
}
if(_1f.hasValue(_b6)){
uri+="&susp="+encodeURIComponent(_b6);
}
if(_1f.hasValue(_b7)){
uri+="&af="+_b7;
}
if(_1f.hasValue(_b8)){
uri+="&bf="+_b8;
}
if(_1f.hasValue(_b9)&&_b9>0){
uri+="&kind="+_b9;
}
if(_1f.hasValue(_ba)){
uri+="&bt="+_ba;
}
if(_1f.hasValue(_bb)){
uri+="&nh="+encodeURIComponent(_bb);
}
if(_1f.hasValue(_bc)){
uri+="&ft="+_bc;
}
if(_1f.hasValue(_bd)){
uri+="&lt="+_bd;
}
if(_1f.hasValue(_be)){
uri+="&n="+_be;
}
if(_1f.hasValue(_b4)){
uri+="&baseline="+_b4;
}else{
if(_ae!=="lock"){
uri+="&n="+_1f.getDefaultSearchPageCount();
}
}
uri+="&searchId="+(_1f.hasValue(_ad)?_ad:_15.generateTimeBasedUuid());
return uri;
};
_1f.getRunFileSearchURI=function(_c0,_c1,_c2,_c3,_c4,_c5,_c6,_c7,_c8){
if(!(_c1!=null)){
_3.fail("searchType != null","util:1220");
}
if(!(_c2!=null)){
_3.fail("searchText != null","util:1221");
}
var uri=_1f._runSearchURIPrefix+"&type="+_c1+"&text="+encodeURIComponent(_c2);
if(_1f.hasValue(_c5)){
uri+="&comp="+encodeURIComponent(_c5);
}
if(_1f.hasValue(_c3)){
uri+="&cxtItemId="+encodeURIComponent(_c3);
}
if(_1f.hasValue(_c4)){
uri+="&cxtItemType="+encodeURIComponent(_c4);
}
if(_1f.hasValue(_c6)){
uri+="&mc="+_c6;
}
if(_1f.hasValue(_c7)){
uri+="&mr="+_c7;
}
if(_1f.hasValue(_c8)){
uri+="&n="+_c8;
}
uri+="&searchId="+(_1f.hasValue(_c0)?_c0:_15.generateTimeBasedUuid());
return uri;
};
_1f.getRunSearchURI2=function(_c9,_ca,_cb,_cc,_cd,_ce,_cf,_d0,_d1){
if(!(_c9!=null)){
_3.fail("searchType != null","util:1263");
}
if(!((_ca!=null||_cb!=null||_cd!=null||_ce!=null))){
_3.fail("(searchText != null || ownerId != null || componentId != null || workspaceId != null)","util:1264");
}
var uri;
if(_ca!=null){
uri=_1f._runSearchURIPrefix+"&type="+_c9+"&text="+encodeURIComponent(_ca);
}else{
uri=_1f._runSearchURIPrefix+"&type="+_c9;
}
if(_1f.hasValue(_cb)){
var _d2=(_c9==="changeSet")?"creator":"owner";
var _d3="ownerType";
if(_cc!=null){
uri+="&"+_d2+"="+encodeURIComponent(_cb)+"&"+_d3+"="+encodeURIComponent(_cc);
}else{
uri+="&"+_d2+"="+encodeURIComponent(_cb);
}
}
if(_1f.hasValue(_cd)){
uri+="&comp="+encodeURIComponent(_cd);
}
if(_1f.hasValue(_ce)){
uri+="&wsp="+encodeURIComponent(_ce);
}
if(_1f.hasValue(_cf)){
uri+="&n="+_cf;
}else{
if(_c9!=="lock"){
uri+="&n="+_1f.getDefaultSearchPageCount();
}
}
if(_1f.hasValue(_d0)){
uri+="&pd="+encodeURIComponent(_d0);
}
if(_1f.hasValue(_d1)){
uri+="&prev="+_d1;
}
uri+="&searchId="+_15.generateTimeBasedUuid();
return uri;
};
_1f.getDefaultSearchPageCount=function(){
return 25;
};
_1f.getSimpleLockSearchURI=function(_d4,_d5){
if(!(_d4!=null)){
_3.fail("ownerId != null","util:1319");
}
return _1f._runSearchURIPrefix+"&type=lock&text="+encodeURIComponent(_d4)+(_d5!=null?"&name="+encodeURIComponent(_d5):"");
};
_1f.createContributorElement=function(_d6){
if(_d6==null){
return window.document.createElement("a");
}else{
return _1f.createAnchorElement(_1f.getContributorURI(_d6),_d6.name);
}
};
_1f.createWorkspaceElement=function(ws){
if(ws==null){
return window.document.createElement("a");
}else{
return _1f.createAnchorElement(_1f.getBrowseWorkspaceURI(ws.itemId,null),ws.name);
}
};
_1f.computeHref=function(obj,_d7,_d8){
var _d9=obj[_10.DC_TYPE];
var _da=obj[_f.JAZZ_SCM_ITEM_ID];
var _db=obj[_f.JAZZ_SCM_OWNER];
var _dc=(_db!=null)?_db[_f.JAZZ_SCM_ITEM_ID]:null;
var _dd=(_db!=null)?_db[_f.JAZZ_SCM_ITEM_TYPE]:null;
return _1f.computeItemHref(_d9,_da,_dd,_dc,_d7,_d8);
};
_1f.computeItemHref=function(_de,_df,_e0,_e1,_e2,_e3){
var _e4=_de.toLowerCase();
var _e5=(_e4===_1f.BASELINE_TYPE.toLowerCase())?_1f.getBrowseBaselineURI(_df,null):(_e4===_1f.STREAM_TYPE.toLowerCase())?_1f.getBrowseStreamURI(_df,null):(_e4===_1f.WORKSPACE_TYPE.toLowerCase())?_1f.getBrowseWorkspaceURI(_df,null):(_e4===_1f.CHANGE_SET_TYPE.toLowerCase())?_1f.getChangeSetInContextURI(_e2,_e3,_df,null):(_e4===_1f.SNAPSHOT_TYPE.toLowerCase())?_1f.getBrowseSnapshotURI(_df,_e1,_e0):_1f.getComponentURI(_df);
return _e5;
};
_1f.createOwnerElementOslcScm=function(_e6){
if(!_1f.hasValue(_e6)){
return _1f.createAnchorElement(null,null);
}
var uri=_e6[_f.JAZZ_SCM_URI];
if(!_1f.hasValue(uri)){
return _1f.createAnchorElement(null,null);
}
var _e7=_e6[_f.JAZZ_SCM_ITEM_TYPE];
if(_e7==="com.ibm.team.process.TeamArea"){
uri=_e6[_f.JAZZ_SCM_PATHNAME];
var _e8=uri.indexOf("/")+1;
var _e9=uri.slice(_e8);
var _ea=_e9.split("/");
var _eb=uri.slice(0,(_e8-1));
var _ec=_7.getDashboardHref(_6.SCOPE_TEAM_AREA,_ea,null,_eb);
return _1f.createAnchorElement(_ec,uri);
}else{
if(_e7==="com.ibm.team.process.ProjectArea"){
uri=_e6[_f.JAZZ_SCM_PATHNAME];
var _ec=_7.getDashboardHref(_6.SCOPE_PROJECT_AREA,uri,null,uri);
return _1f.createAnchorElement(_ec,uri);
}else{
if(_e7===_1f.WORKSPACE_TYPE){
uri=_1f.getBrowseWorkspaceURI(_e6[_f.JAZZ_SCM_ITEM_ID],null);
var _ed=_e6[_10.DC_NAME];
if(_1f.hasValue(_e6[_f.JAZZ_SCM_WORKSPACE_OWNER_NAME])){
_ed=dojo.string.substitute(_1f.messages.Workspace_And_Owner_Label,[_ed,_e6[_f.JAZZ_SCM_WORKSPACE_OWNER_NAME]]);
}
return _1f.createAnchorElement(uri,_ed);
}
}
}
return _1f.createAnchorElement(_1f.getContributorUriGivenItemId(_e6[_f.JAZZ_SCM_ITEM_ID]),_e6[_10.DC_NAME]);
};
_1f.createOwnerElement=function(_ee){
if(_ee==null){
return _1f.createAnchorElement(null,null);
}
var _ef=_ee.name===undefined?null:_ee.name;
if(_ee["com.ibm.team.repository.typeName"]==="com.ibm.team.process.TeamArea"){
return _1f.createAnchorElement(_1f.getTeamAreaDashboardURI(_ee.name),_ef);
}else{
if(_ee["com.ibm.team.repository.typeName"]==="com.ibm.team.process.ProjectArea"){
return _1f.createAnchorElement(_1f.getProjectAreaDashboardURI(),_ef);
}else{
return _1f.createAnchorElement(_1f.getContributorURI(_ee),_ef);
}
}
};
_1f.createAnchorElement=function(uri,_f0){
if(uri==null){
return window.document.createTextNode(_f0!=null?_f0:_1f.messages.Util_text_unknown);
}
var _f1=window.document.createElement("a");
_f1.href=uri;
_f0=_f0==null?_1f.messages.Util_text_unknown:_f0;
var _f2=window.document.createTextNode(_f0);
_f1.appendChild(_f2);
return _f1;
};
_1f.getContributorUriGivenItemId=function(_f3){
var _f4=null;
if(_f3!==undefined&&_f3!=null){
_f4=_1f._contributorProfilePrefix+_f3;
}
return _f4;
};
_1f.getContributorURI=function(_f5){
return _1f.getContributorUriGivenItemId(_f5.itemId);
};
_1f.getTeamAreaDashboardURI=function(_f6){
return _1f._viewTeamAreaDashboardPrefix+encodeURIComponent(_f6);
};
_1f.getProjectAreaDashboardURI=function(){
return _1f._viewProjectAreaDashboardPrefix;
};
_1f.getProjectAreaDashboardURIByName=function(_f7){
return _7.getDashboardHref(_6.SCOPE_PROJECT_AREA,_f7,null,_f7);
};
_1f.getEditProjectAreaURI=function(_f8){
if(_f8!==undefined&&_f8!=null){
return _1f._editProjectAreaPrefix+_f8;
}else{
return null;
}
};
_1f.getEditTeamAreaURI=function(_f9,_fa){
if(_f9!==undefined&&_f9!=null){
if(_fa!==undefined&&_fa!=null){
return dojo.string.substitute(_1f._editTeamAreaWithProjectArea,[_f9,_fa]);
}else{
return _1f._editTeamAreaPrefix+_f9;
}
}
return null;
};
_1f.getProjectAreaResourceURI=function(_fb){
return _d.getProjectAreaResourceURI(_fb);
};
_1f.getCurrentProjectAreaResourceURI=function(){
return _d.getCurrentProjectAreaResourceURI();
};
_1f.createReasonElement=function(_fc){
var _fd,uri;
var _fe=window.document.createElement("a");
_fe.href=_1f.getReasonURI(_fc);
_fd=_1f.getReasonWorkItemId(_fc);
uri=_1f.getWorkItemURI(_fd);
var _ff=window.document.createTextNode(_1f.restoreTags(_fc.label));
_fe.appendChild(_ff);
var _100={};
_100.lazyFetch=true;
_100.uri=uri;
_100.presentationUri=_fe.href;
var _101=new _1d(_100,_fe);
var _102={};
_102.anchor=_fe;
_102.resourceLink=_101;
return _102;
};
_1f.createOslLinkElement=function(_103){
var _104=window.document.createElement("a");
_104.href=_103.targetUri;
var _105=_1f.hasValue(_103.targetComment)?_103.targetComment:_1f.messages.StreamWorkspaceView_33;
var text=window.document.createTextNode(_105);
_104.appendChild(text);
var _106={};
_106.lazyFetch=true;
_106.uri=_103.targetUri;
_106.presentationUri=_103.targetUri;
var _107=new _1d(_106,_104);
var _108={};
_108.anchor=_104;
_108.resourceLink=_107;
return _108;
};
_1f.getWorkItemURI=function(_109){
var _10a=_8._getServicePrefix();
return _10a+"../resource/itemName/com.ibm.team.workitem.WorkItem/"+_109;
};
_1f.getChangeRequestURI=function(_10b){
return _1f.JAZZ_URI+"/resource/itemName/com.ibm.team.workitem.WorkItem/"+_10b;
};
_1f.restoreTags=function(_10c){
return _d.restoreTags(_10c);
};
_1f.getReasonURI=function(_10d){
return _d.getReasonURI(_10d);
};
_1f.getReasonWorkItemId=function(_10e){
return _d.getReasonWorkItemId(_10e);
};
_1f.createFlowTargetElement=function(_10f){
var _110=window.document.createElement("a");
_110.href=_1f.getBrowseStreamURI(_10f.itemId,null);
var img=window.document.createElement("img");
var _111=_1f.getIconSrc(_1f.STREAM);
img.src=_111.imageLocation;
img.alt=_111.imageDescription;
img.className="headerIcon";
_110.appendChild(img);
var text=window.document.createTextNode(_10f.name);
_110.appendChild(text);
return _110;
};
_1f.dashboardInstalled=function(){
return _d.dashboardInstalled();
};
_1f.workItemsInstalled=function(){
return _d.workItemsInstalled();
};
_1f.getIconSrc=function(_112){
return _1f.getIconSrcWithURIPrefix(_112,null);
};
_1f.getIconSrcWithURIPrefix=function(_113,_114){
var _115=_1f.getIconImageLocation(_113);
var _116={};
if(_114!=null&&_114.length>0){
_116.imageLocation=_114+_115.imageLocation;
}else{
_116.imageLocation=_1f.ICON_URI_PREFIX+_115.imageLocation;
}
_116.imageDescription=_115.imageDescription;
return _116;
};
_1f.getIconImageLocation=function(_117){
var _118=null;
var _119=null;
if(_117===_1f.STREAMS){
_118="streams_obj.gif";
_119=_1f.messages.util_iconStreamsDescription;
}else{
if(_117===_1f.STREAM){
_118="stream_obj.png";
_119=_1f.messages.util_iconStreamDescription;
}else{
if(_117===_1f.WORKSPACES){
_118="workspaces_obj.gif";
_119=_1f.messages.util_iconWorkspacesDescription;
}else{
if(_117===_1f.WORKSPACE){
_118="workspace_obj.png";
_119=_1f.messages.util_iconWorkspaceDescription;
}else{
if(_117===_1f.COMPONENT){
_118="component_obj.png";
_119=_1f.messages.util_iconComponentDescription;
}else{
if(_117===_1f.COMPONENT_PA){
_118="Component_project_area.gif";
_119=_1f.messages.util_iconComponentProjectAreaDescription;
}else{
if(_117===_1f.COMPONENT_TA){
_118="Component_team_area.gif";
_119=_1f.messages.util_iconComponentTeamAreaDescription;
}else{
if(_117===_1f.COMPONENT_PRIVATE){
_118="Component_personal.gif";
_119=_1f.messages.util_iconComponentPersonalDescription;
}else{
if(_117===_1f.SNAPSHOT){
_118="snapshot_obj.png";
_119=_1f.messages.util_iconSnapshotDescription;
}else{
if(_117===_1f.BASELINE){
_118="baseline_obj.gif";
_119=_1f.messages.util_iconBaselineDescription;
}else{
if(_117===_1f.PROJECT_AREA){
_118="projectarea_obj.gif";
_119=_1f.messages.util_iconProjectAreaDescription;
}else{
if(_117===_1f.TEAM_AREA){
_118="teamarea_obj.gif";
_119=_1f.messages.util_iconTeamAreaDescription;
}else{
if(_117===_1f.USER){
_118="user_obj.gif";
_119=_1f.messages.util_iconUserDescription;
}else{
if(_117===_1f.CHANGE||_117===_1f.CHANGE_SET||_117===_1f.SCM||_117===_1f.SOURCE_CONTROL){
_118="changeset_obj.png";
if(_117===_1f.CHANGE||_117===_1f.CHANGE_SET){
_119=_1f.messages.util_iconChangeSetDescription;
}else{
_119="";
}
}else{
if(_117===_1f.SEARCH){
_118="adv-search_obj.gif";
_119="";
}else{
if(_117===_1f.ADVANCED_SEARCH){
_118="advanced_search_icon.gif";
_119="";
}else{
if(_117===_1f.FOLDER){
_118="fldr_obj.gif";
_119=_1f.messages.util_iconFolderDescription;
}else{
if(_117===_1f.FILE){
_118="file_obj.gif";
_119=_1f.messages.util_iconFileDescription;
}else{
if(_117===_1f.SYMLINK){
_118="symbolic_link.gif";
_119=_1f.messages.util_iconSymLinkDescription;
}else{
if(_117===_1f.HISTORY){
_118="history_view.gif";
_119=_1f.messages.util_iconHistoryDescription;
}else{
if(_117==="folderLockedByMe"){
_118="folder_lock_blue.gif";
_119=_1f.messages.util_lockedByMe;
}else{
if(_117==="folderLockedByOther"){
_118="folder_lock_orange.gif";
_119=_1f.messages.util_lockedByOther;
}else{
if(_117==="fileLockedByMe"){
_118="file_lock_blue.gif";
_119=_1f.messages.util_lockedByMe;
}else{
if(_117==="fileLockedByOther"){
_118="file_lock_orange.gif";
_119=_1f.messages.util_lockedByOther;
}else{
if(_117==="download_co"){
_118="download_co.gif";
_119=_1f.messages.util_iconDownloadDescription;
}else{
if(_117==="lockdownload_co"){
_118="lockdownload_co.gif";
_119=_1f.messages.util_iconLockDownloadDescription;
}else{
if(_117==="upload_co"){
_118="upload_co.gif";
_119=_1f.messages.util_iconUploadDescription;
}else{
if(_117==="include_obj"){
_118="includ_obj.gif";
_119="";
}else{
if(_117==="crtWorkItem"){
_118="crtworkitem.gif";
_119="";
}else{
if(_117==="delete_edit"){
_118="delete_edit.gif";
_119=_1f.messages.util_iconDeleteDescription;
}else{
if(_117==="restore"){
_118="restore.gif";
_119=_1f.messages.util_iconRestoreDescription;
}else{
if(_117==="remove"){
_118="remove.gif";
_119=_1f.messages.util_iconRemoveDescription;
}else{
if(_117===_1f.LOCK||_117==="locks"){
_118="locks_obj.png";
_119=_117===_1f.LOCK?_1f.messages.util_iconLocksDescription:"";
}else{
if(_117==="unlock"){
_118="unlock.gif";
_119=_1f.messages.util_iconUnlockDescription;
}else{
if(_117==="lockByMeOverlay"){
_118="lock_blue_ovr.gif";
_119=_1f.messages.util_lockedByMe;
}else{
if(_117==="lockByOtherOverlay"){
_118="lock_orange_ovr.gif";
_119=_1f.messages.util_lockedByOther;
}else{
if(_117==="expand_to_changes"){
_118="expand_to_changes.gif";
_119="";
}else{
if(_117==="wi_preview"){
_118="wi_preview.gif";
_119=_1f.messages.util_iconRenameDescription;
}else{
if(_117==="calendar"){
_118="calendar.gif";
_119=_1f.messages.util_iconDatePickerDescription;
}else{
if(_117==="gitRepository"){
_118="git_browse_registered_repo.gif";
_119=_1f.messages.util_iconGitBrowseDescription;
}else{
if(_117==="gitAuthorize"){
_118="authorize_git_repo.gif";
_119=_1f.messages.util_iconGitAuthorizeDescription;
}else{
if(_117==="gitWelcome"){
_118="git_welcome.gif";
_119=_1f.messages.util_iconGitWelcomeDescription;
}else{
if(_117===_1f.SPINNING_GIF){
_118="progress.gif";
_119="";
}else{
if(_117===_1f.WARNING_ICON){
_118="warning_hunk.gif";
_119="";
}else{
if(_117===_1f.WARNING_OBJ){
_118="warning_obj.gif";
_119="";
}else{
if(_117===_1f.COMPONENT_ADDED){
_118="component_added.gif";
_119="";
}else{
if(_117==="task"){
_118="task.gif";
_119="";
}else{
if(_117==="info"){
_118="info.gif";
_119="";
}else{
if(_117==="match_full"){
_118="match-full_obj.png";
_119="";
}else{
if(_117==="match_quater"){
_118="match-quater_obj.png";
_119="";
}else{
if(_117==="match_half"){
_118="match-half_obj.png";
_119="";
}else{
if(_117==="match_three_quater"){
_118="match-threequater_obj.png";
_119="";
}else{
if(_117==="match_empty"){
_118="match-empty_obj.png";
_119="";
}else{
if(_117==="question"){
_118="confirm_question.gif";
_119="";
}else{
if(_117===_1f.ERROR){
_118="error_obj.gif";
_119="";
}else{
if(_117===_1f.DIS_WORK_ITEM){
_118="dis_workitem_obj.gif";
_119="";
}else{
if(_117===_1f.LOCATE_CHANGE_SETS){
_118="locate-chg-sets_obj.gif";
_119="";
}else{
if(_117===_1f.CODE_REVIEW){
_118="codereview.svg";
_119="";
}else{
if(_117===_1f.COMPARE_IMAGE_KEY){
_118="compare.gif";
_119="";
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
}
var _11a={};
_11a.imageLocation=_118;
_11a.imageDescription=_119;
return _11a;
};
_1f.getIcon32Src=function(_11b){
var _11c={};
_11c.imageLocation=null;
_11c.imageDescription=null;
if(_11b===_1f.STREAM){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"stream_obj32.png";
_11c.imageDescription=_1f.messages.util_iconStreamDescription;
}else{
if(_11b===_1f.WORKSPACE){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"workspace_obj32.png";
_11c.imageDescription=_1f.messages.util_iconWorkspaceDescription;
}else{
if(_11b===_1f.COMPONENT){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"component_obj32.png";
_11c.imageDescription=_1f.messages.util_iconComponentDescription;
}else{
if(_11b===_1f.CHANGE_SET){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"change-set_obj32.png";
_11c.imageDescription=_1f.messages.util_iconChangeSetDescription;
}else{
if(_11b===_1f.FOLDER){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"open-folder_obj32.png";
_11c.imageDescription=_1f.messages.util_iconFolderDescription;
}else{
if(_11b===_1f.SYMLINK){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"symbolic-link_obj32.png";
_11c.imageDescription=_1f.messages.util_iconSymLinkDescription;
}else{
if(_11b===_1f.SNAPSHOT){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"snapshot_obj32.png";
_11c.imageDescription=_1f.messages.util_iconSnapshotDescription;
}else{
if(_11b===_1f.BASELINE){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"baseline_obj32.png";
_11c.imageDescription=_1f.messages.util_iconBaselineDescription;
}else{
if(_11b==="lockByMeOverlay"){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"locked-by-me_ovr16.png";
_11c.imageDescription=_1f.messages.util_lockedByMe;
}else{
if(_11b==="lockByOtherOverlay"){
_11c.imageLocation=_1f.ICON_URI_PREFIX+"locked-by-others_ovr16.png";
_11c.imageDescription=_1f.messages.util_lockedByOther;
}
}
}
}
}
}
}
}
}
}
return _11c;
};
_1f.getIconUrl=function(_11d,_11e){
var _11f={};
if(_11d===_1f.FILE){
_11f=_1f.getIconFilenameByExtension(_11e);
}else{
_11f=_1f.getIconImageLocation(_11d);
}
if(_11f.imageLocation!=null){
_11f.imageLocation=dojo.moduleUrl("com.ibm.team.scm.web","graphics/icons/"+_11f.imageLocation).toString();
}
return _11f;
};
_1f.getImageIcon=function(_120,_121){
var img=window.document.createElement("img");
var _122=_1f.getIconSrc(_120);
img.src=_122.imageLocation;
img.alt=_122.imageDescription;
if(_1f.hasValue(_121)){
dojo.addClass(img,_121);
}
return img;
};
_1f.getDateString=function(_123){
return _d.getDateString(_123);
};
_1f.getDateStringFromLong=function(_124){
return _d.getDateStringFromLong(_124);
};
_1f.parsePathIntoArray=function(path){
var _125=[];
var _126=1;
var i=0;
var _127=0;
while(_126<path.length){
_127=path.indexOf("/",_126);
if(_127!==-1){
_125[i]=path.slice(_126,_127);
i+=1;
_126=_127+1;
}else{
_125[i]=path.slice(_126);
_126=path.length;
}
}
return _125;
};
_1f.parseParentPath=function(path){
var _128=path.lastIndexOf("/");
if(_128===-1){
return "";
}
if(_128===0){
return "/";
}
return path.substring(0,_128);
};
_1f.parseFileName=function(path){
var _129=path.lastIndexOf("/");
if(_129===-1){
_129=path.lastIndexOf("\\");
}
if(_129===-1){
return path;
}
return path.substring(_129+1);
};
_1f.getExtension=function(path){
var _12a=path.lastIndexOf(".");
if(_12a===-1){
return "";
}
return path.substring(_12a+1);
};
_1f.hasTextContentType=function(_12b){
var _12c=_1f.getVersionablePropertyValue(_12b,"contentType");
return _12c!=null&&_1f.isKnownTextContentType(_12c);
};
_1f.KnownTextContentTypePrefixes=["text/"];
_1f.KnownTextContentTypeStrings=["application/xml","application/javascript","application/ecmascript","application/x-javascript"];
_1f.UnknownContentTypeStrings=["application/unknown"];
_1f.isKnownTextContentType=function(_12d){
var _12e=_1f.KnownTextContentTypePrefixes;
var _12f=_12e.length;
for(var _130=0;_130<_12f;_130++){
var _131=_12e[_130];
if(_12d.indexOf(_131)===0){
return true;
}
}
var _132=_1f.KnownTextContentTypeStrings;
var _133=_132.length;
for(var _134=0;_134<_133;_134++){
var _135=_132[_134];
if(_12d===_135){
return true;
}
}
return false;
};
_1f.hasUnKnownContentType=function(_136){
var _137=_1f.getVersionablePropertyValue(_136,"contentType");
if(_137==null){
return true;
}
return _1f.isUnknownContentType(_137);
};
_1f.isUnknownContentType=function(_138){
var _139=_1f.UnknownContentTypeStrings;
var _13a=_139.length;
for(var _13b=0;_13b<_13a;_13b++){
var _13c=_139[_13b];
if(_138===_13c){
return true;
}
}
return false;
};
_1f.trimLeadingZeros=function(_13d){
var _13e=0;
for(var i=0;i<_13d.length;i++){
if(_13d.charAt(i)==="0"){
_13e++;
}else{
break;
}
}
return _13d.substring(_13e);
};
_1f.validMimeType=function(mime){
var _13f=mime.length;
var _140=mime.indexOf("/");
if(_140===-1||(_140===0)||(_140===_13f-1)){
return false;
}
var _141=mime.indexOf(";");
var end=_13f;
if(_141!==-1){
if(_141<_140){
return false;
}
end=_141;
}
var _142=0;
loop:
for(;_142<end;_142++){
var c=mime.charAt(_142);
if(_142!==_140){
if(_1f.isWhiteSpace(c)){
break loop;
}else{
if(!_1f.isMimeTypeTokenPart(c)){
return false;
}
}
}
}
if(_141!==-1){
_142=_1f.skipAllWhiteSpaceCharacters(mime,_142);
if(_142!==_141){
return false;
}
var _143=mime.charAt(_142);
while(_143===";"&&_142<_13f){
_142=_1f.skipAllWhiteSpaceCharacters(mime,_142+1);
if(_142<_13f){
while(_142<_13f&&_1f.isMimeTypeTokenPart(_143=mime.charAt(_142))){
_142++;
}
_142=_1f.skipAllWhiteSpaceCharacters(mime,_142);
if(_142<_13f){
_143=mime.charAt(_142);
if(_143==="="){
_142=_1f.skipAllWhiteSpaceCharacters(mime,_142+1);
if(_142<_13f){
_143=mime.charAt(_142);
if(_143==="\""){
_142++;
while(_142<_13f&&((_143=mime.charAt(_142))!=="\"")){
_142++;
}
if(_142===_13f){
return false;
}
_142++;
}else{
while(_142<_13f&&_1f.isMimeTypeTokenPart(_143=mime.charAt(_142))){
_142++;
}
}
_142=_1f.skipAllWhiteSpaceCharacters(mime,_142);
if(_142<_13f){
_143=mime.charAt(_142);
}else{
return true;
}
}else{
return false;
}
}else{
return false;
}
}else{
return false;
}
}else{
return false;
}
}
}else{
if(_142!==_13f){
return false;
}
}
return true;
};
_1f.isMimeTypeTokenPart=function(c){
var code=c.charCodeAt(0);
if(code>32&&code<58){
switch(c){
case "\"":
case "(":
case ")":
case ",":
case "/":
return false;
}
}else{
if(code>64&&code<127){
switch(c){
case "[":
case "\\":
case "]":
return false;
}
}else{
return false;
}
}
return true;
};
_1f.skipAllWhiteSpaceCharacters=function(mime,_144){
while(_144<mime.length){
if(_1f.isWhiteSpace(mime.charAt(_144))){
_144++;
}else{
break;
}
}
return _144;
};
_1f.isWhiteSpace=function(ch){
var code=ch.charCodeAt(0);
switch(code){
case 9:
case 10:
case 11:
case 12:
case 13:
case 28:
case 29:
case 30:
case 31:
case 32:
case 8199:
case 8239:
return true;
}
return false;
};
_1f.parseDiff=function(_145,diff){
if(_145>0){
if(_145===1){
return [_1f.messages.FileDiffView_initial_content_deleted];
}
if(_145===2){
return [_1f.messages.FileDiffView_final_content_deleted];
}
if(_145===3){
return [_1f.messages.FileDiffView_initial_and_final_content_deleted];
}
}
var _146;
var _147=[];
var i=0;
var _148=diff.indexOf("@@",0);
if(_148===-1){
if((diff==="TOO BIG TO DIFF")){
return [_1f.messages.util_TooManyDifferences];
}
var _149=diff.indexOf(_1f.BEFORE_STATE_CONTENT_TYPE_NOT_SUPPORTED);
if(_149===0){
var _14a=diff.substring(_1f.BEFORE_STATE_CONTENT_TYPE_NOT_SUPPORTED.length);
return [dojo.string.substitute(_1f.messages.util_InitialContentTypeNotSupported,[decodeURIComponent(_14a)])];
}
_149=diff.indexOf(_1f.AFTER_STATE_CONTENT_TYPE_NOT_SUPPORTED);
if(_149===0){
var _14a=diff.substring(_1f.AFTER_STATE_CONTENT_TYPE_NOT_SUPPORTED.length);
return [dojo.string.substitute(_1f.messages.util_FinalContentTypeNotSupported,[decodeURIComponent(_14a)])];
}
_149=diff.indexOf(_1f.NEITHER_STATES_CONTENT_TYPE_SUPPORTED);
if(_149===0){
var _14b=diff.substring(_1f.NEITHER_STATES_CONTENT_TYPE_SUPPORTED.length);
var sep=_14b.indexOf("/");
var _14c=decodeURIComponent(_14b.substring(0,sep));
var _14d=decodeURIComponent(_14b.substring(sep+1));
return [dojo.string.substitute(_1f.messages.util_InitialAndFinalContentTypesNotSupported,[_14c,_14d])];
}
_149=diff.indexOf(_1f.BEFORE_STATE_CONTENT_DELETED);
if(_149===0){
return [_1f.messages.FileDiffView_initial_content_deleted];
}
_149=diff.indexOf(_1f.AFTER_STATE_CONTENT_DELETED);
if(_149===0){
return [_1f.messages.FileDiffView_final_content_deleted];
}
_149=diff.indexOf(_1f.BOTH_STATES_CONTENT_DELETED);
if(_149===0){
return [_1f.messages.FileDiffView_initial_and_final_content_deleted];
}
}
while(_148<diff.length&&_148!==-1){
if(i>1000){
return [_1f.messages.util_TooManyDifferences];
}
_146=diff.indexOf("@@",_148+2);
if(diff.indexOf("@@",_146+1)!==-1){
_146=diff.indexOf("@@",_146+1);
_147[i]=diff.slice(_148,_146);
_148=_146;
i+=1;
}else{
_147[i]=diff.slice(_148,diff.length);
_148=diff.length;
}
}
return _147;
};
_1f.getPlatformString=function(){
var _14e=window.navigator.platform;
if(_14e==null){
return "";
}
return _14e.toLowerCase();
};
_1f.isWindows=function(){
return _1f.getPlatformString().indexOf("win")!==-1;
};
_1f.isMac=function(){
return _1f.getPlatformString().indexOf("mac")!==-1;
};
_1f.isUnix=function(){
var _14f=_1f.getPlatformString();
return _14f.indexOf("linux")!==-1||_14f.indexOf("unix")!==-1;
};
_1f.getPlatformLineDelimiter=function(){
if(_1f.isWindows()){
return "CRLF";
}else{
if(_1f.isUnix()){
return "CR";
}else{
if(_1f.isMac()){
return "LF";
}else{
return null;
}
}
}
};
_1f.getLoggedInContributor=function(){
return _d.getLoggedInContributor();
};
_1f.getSizeDisplay=function(_150,_151){
if(_150<1024){
if(_151){
return dojo.string.substitute(_1f.messages.FileSizeUnit_Bytes,[_150]);
}else{
return dojo.string.substitute(_1f.messages.FileSizeUnit_KB,[1]);
}
}else{
if(_150<1048576){
return dojo.string.substitute(_1f.messages.FileSizeUnit_KB,[_1f.Math_Round(_150,1024)]);
}else{
if(_150<1073741824){
return dojo.string.substitute(_1f.messages.FileSizeUnit_MB,[_1f.Math_Round(_150,1048576)]);
}else{
if(_150<1099511627776){
return dojo.string.substitute(_1f.messages.FileSizeUnit_GB,[_1f.Math_Round(_150,1073741824)]);
}else{
return dojo.string.substitute(_1f.messages.FileSizeUnit_TB,[_1f.Math_Round(_150,1099511627776)]);
}
}
}
}
};
_1f.getResourceIconSrc=function(args){
return _1f.getResourceIconSrcWithURIPrefix(args,null);
};
_1f.getResourceIconSrcWithURIPrefix=function(args,_152){
var _153={};
var _154=null;
if(args.iconSrc===_1f.FILE){
if(args.fileExtension!=null){
_154=args.fileExtension;
}else{
if(args.fileName!=null){
_154=_1f.getExtension(args.fileName);
}
}
var _155=_1f.getIconFilenameByExtension(_154);
if(_152!=null&&_152.length>0){
_153.imageLocation=_152+_155.imageLocation;
}else{
_153.imageLocation=_1f.ICON_URI_PREFIX+_155.imageLocation;
}
_153.imageDescription=_155.imageDescription;
}else{
_153=_1f.getIconSrcWithURIPrefix(args.iconSrc,_152);
}
return _153;
};
_1f.getIconFilenameByExtension=function(_156){
var _157={};
if(_156==="txt"){
_157.imageLocation="textfile_obj.gif";
_157.imageDescription=_1f.messages.util_iconTxtDescription;
}else{
if(_156==="html"||_156==="htm"){
_157.imageLocation="htmlfile_obj.gif";
_157.imageDescription=_1f.messages.util_iconHtmlDescription;
}else{
if(_156==="pdf"){
_157.imageLocation="pdf_obj.gif";
_157.imageDescription=_1f.messages.util_iconPdfDescription;
}else{
if(_156==="java"){
_157.imageLocation="javafile_obj.gif";
_157.imageDescription=_1f.messages.util_iconJavaDescription;
}else{
if(_156==="zip"){
_157.imageLocation="zip_obj.gif";
_157.imageDescription=_1f.messages.util_iconZipDescription;
}else{
if(_156==="doc"||_156==="docx"){
_157.imageLocation="wordprocess_obj.gif";
_157.imageDescription=_1f.messages.util_iconDocDescription;
}else{
if(_156==="ppt"){
_157.imageLocation="presentation_obj.gif";
_157.imageDescription=_1f.messages.util_iconPptDescription;
}else{
if(_156==="xls"){
_157.imageLocation="spreadsheet_obj.gif";
_157.imageDescription=_1f.messages.util_iconXlsDescription;
}else{
if(_156==="loadrule"){
_157.imageLocation="load-rules_obj.gif";
_157.imageDescription=_1f.messages.util_iconLoadRuleDescription;
}else{
if(_156==="c"){
_157.imageLocation="cfile_obj.gif";
_157.imageDescription=_1f.messages.util_iconCSourceDescription;
}else{
if(_156==="h"){
_157.imageLocation="hfile_obj.gif";
_157.imageDescription=_1f.messages.util_iconCHeaderDescription;
}
}
}
}
}
}
}
}
}
}
}
if(_157.imageLocation==null){
_157.imageLocation="binary_obj.gif";
_157.imageDescription=_1f.messages.util_iconBinaryDescription;
}
return _157;
};
_1f.getResourceIcon32Src=function(args){
var _158={};
_158.imageLocation=null;
_158.imageDescription=null;
var _159=null;
if(args.iconSrc===_1f.FILE){
if(args.fileExtension!=null){
_159=args.fileExtension;
}else{
if(args.fileName!=null){
_159=_1f.getExtension(args.fileName);
}
}
if(_159==="txt"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"text-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconTxtDescription;
}else{
if(_159==="html"||_159==="htm"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"html-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconHtmlDescription;
}else{
if(_159==="pdf"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"pdf_obj32.png";
_158.imageDescription=_1f.messages.util_iconPdfDescription;
}else{
if(_159==="java"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"java-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconJavaDescription;
}else{
if(_159==="zip"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"zip-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconZipDescription;
}else{
if(_159==="doc"||_159==="docx"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"word-proc-doc_obj32.png";
_158.imageDescription=_1f.messages.util_iconDocDescription;
}else{
if(_159==="ppt"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"presentation_obj32.png";
_158.imageDescription=_1f.messages.util_iconPptDescription;
}else{
if(_159==="xls"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"spreadsheet_obj32.png";
_158.imageDescription=_1f.messages.util_iconXlsDescription;
}else{
if(_159==="h"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"h-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconCHeaderDescription;
}else{
if(_159==="c"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"c-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconCSourceDescription;
}else{
if(_159==="loadrule"){
_158.imageLocation=_1f.ICON_URI_PREFIX+"load-rule_obj32.png";
_158.imageDescription=_1f.messages.util_iconLoadRuleDescription;
}
}
}
}
}
}
}
}
}
}
}
if(_158.imageLocation==null){
_158.imageLocation=_1f.ICON_URI_PREFIX+"binary-file_obj32.png";
_158.imageDescription=_1f.messages.util_iconBinaryDescription;
}
}else{
_158=_1f.getIcon32Src(args.iconSrc);
}
if(_158.imageDescription===undefined){
_158.imageDescription=null;
}
return _158;
};
_1f.createOverlayIconWithURIPrefix=function(args,_15a){
return _1f.createOverlayIconWithURIPrefix2(args,_15a,_1c.TOP_LEFT);
};
_1f.createOverlayIconWithURIPrefix2=function(args,_15b,_15c){
var _15d=_1f.getResourceIconSrcWithURIPrefix(args,_15b);
var _15e=null;
if(args.isLockedByMe){
_15e=_1f.getIconSrcWithURIPrefix("lockByMeOverlay",_15b);
}
if(args.isLockedByOther){
_15e=_1f.getIconSrcWithURIPrefix("lockByOtherOverlay",_15b);
}
var _15f={};
_15f.icon=_15d.imageLocation;
_15f.overlay=_15e!=null?_15e.imageLocation:null;
_15f.layout=_15c;
var _160=new _1c(_15f);
var imgs=_160.domNode.getElementsByTagName("img");
for(var i=0;i<imgs.length;i++){
var img=imgs.item(i);
if(_15e!=null&&dojo.hasClass(img,"overlay")){
dojo.attr(img,"alt",_15e.imageDescription);
}else{
dojo.attr(img,"alt",_15d.imageDescription);
}
}
return _160;
};
_1f.createOverlayIcon=function(args){
return _1f.createOverlayIconWithURIPrefix(args,null);
};
_1f.createOverlayIcon32=function(args){
var _161=_1f.getResourceIcon32Src(args);
var _162=_161.imageLocation;
var _163=_161.imageDescription;
var _164;
var _165;
var _166=null;
if(args.isLockedByMe){
_166=_1f.getIcon32Src("lockByMeOverlay");
}
if(args.isLockedByOther){
_166=_1f.getIcon32Src("lockByOtherOverlay");
}
_164=_166!=null?_166.imageLocation:null;
_165=_166!=null?_166.imageDescription:null;
var _167={};
_167.icon=_162;
_167.overlay=_164;
_167.layout=_13.TOP_LEFT;
_167.description=_163;
_167.overlayDescription=_165;
return new _13(_167);
};
_1f.asVersionableDTO=function(_168){
if(_168===undefined||_168.versionableDTO===undefined){
return null;
}
var _169=_168.versionableDTO;
_168.versionableDTO=null;
_169.versionablePlusDTO=_168;
return _169;
};
_1f.getVersionableDTOPropertyValue=function(_16a,key){
return _1f.getVersionablePropertyValue(_16a.versionable,key);
};
_1f.getVersionablePropertyValue=function(_16b,key){
return _d.getVersionablePropertyValue(_16b,key);
};
_1f.getVersionableDTOContextItemId=function(_16c){
return _16c.versionablePlusDTO.context!=null?_16c.versionablePlusDTO.context.itemId:null;
};
_1f.getVersionableDTOContextItemType=function(_16d){
return _16d.versionablePlusDTO.context!=null?_16d.versionablePlusDTO.context.itemType:null;
};
_1f.getVersionableDTOContextName=function(_16e){
return _16e.versionablePlusDTO.context!=null?_16e.versionablePlusDTO.context.name:null;
};
_1f.Math_Round=function(_16f,_170){
return _d.Math_Round(_16f,_170);
};
_1f.hasValue=function(obj){
return obj!==undefined&&obj!=null&&obj!=="";
};
_1f.isNull=function(obj){
return obj===undefined||obj==null;
};
_1f.getOslcStreamSearchByProjectAreaWithQuery=function(_171,_172,_173,_174){
var uri=dojo.baseUrl;
uri+=_1f.OSLC_SERVICE_URL_PREFIX+"stream?"+_f.JAZZ_SCM_PROJECT_AREA+"="+encodeURIComponent("itemOid/com.ibm.team.process.ProjectArea/"+_171);
if(_172!=null){
if(uri.length>0){
uri+="&";
}
uri+=_f.JAZZ_SCM_MAX_RESULTS+"="+_172;
}
if(_1f.hasValue(_174)){
if(uri.length>0){
uri+="&";
}
uri+=_f.JAZZ_SCM_FIRST_TIMESTAMP+"="+_174;
}
if(_1f.hasValue(_173)){
if(uri.length>0){
uri+="&";
}
uri+=_f.JAZZ_SCM_LAST_TIMESTAMP+"="+_173;
}
return uri;
};
_1f.computeOslcScmQueryUrlWithQueryString=function(name,type,_175,_176,_177,_178,_179,_17a,_17b,_17c,_17d,_17e){
var _17f=(type===_1f.BASELINE);
var _180=(type===_1f.CHANGE_SET);
var _181=(type===_1f.COMPONENT);
var _182=(type===_1f.SNAPSHOT);
var _183=(type===_1f.STREAM);
var _184=(type===_1f.WORKSPACE);
var _185="";
if(_1f.hasValue(name)){
_185+=_10.DC_NAME+"="+encodeURIComponent(name);
_185+="&jazz_scm:nameKind=jazz_scm:partialIgnorecase";
}
if(_1f.hasValue(_175)){
if(_185.length>0){
_185+="&";
}
if(_182){
_185+=_f.JAZZ_SCM_PROCESS_AREA_ID+"="+encodeURIComponent(_175);
}else{
var _186;
if(_181){
var ns=(_176==="Contributor")?"com.ibm.team.repository":"com.ibm.team.process";
_186="itemOid/"+ns+"."+_176+"/"+_175;
}else{
if(_184||_17f){
_186="itemOid/com.ibm.team.repository.Contributor/"+_175;
}else{
_186="itemOid/com.ibm.team.process."+_176+"/"+_175;
}
}
_185+=_f.JAZZ_SCM_OWNER_SPEC+"=";
_185+=encodeURIComponent(_186);
}
}
if(_1f.hasValue(_177)&&(_180||_182)){
if(_185.length>0){
_185+="&";
}
_185+=_f.JAZZ_SCM_WORKSPACE_ID+"="+encodeURIComponent(_177);
}
if(_1f.hasValue(_178)&&(_180||_17f||_183||_184)){
if(_185.length>0){
_185+="&";
}
_185+=_f.JAZZ_SCM_COMPONENT_ID+"="+encodeURIComponent(_178);
}
if(_1f.hasValue(_179)&&(_183||_184)){
if(_185.length>0){
_185+="&";
}
_185+=_f.JAZZ_SCM_BASELINE_ID+"="+encodeURIComponent(_179);
}
if(_17a!=null){
if(_185.length>0){
_185+="&";
}
_185+=_f.JAZZ_SCM_MAX_RESULTS+"="+_17a;
}
var _187=type;
if(_184){
_187="ws";
}else{
if(_183){
_187=_1f.STREAM;
}
}
if(_1f.hasValue(_17c)){
if(_185.length>0){
_185+="&";
}
if(_17e){
_185+=_f.JAZZ_SCM_PREVIOUS+"="+_17c;
}else{
_185+=_f.JAZZ_SCM_FIRST_TIMESTAMP+"="+_17c;
}
}
if(_1f.hasValue(_17b)){
if(_185.length>0){
_185+="&";
}
if(_17e){
_185+=_f.JAZZ_SCM_NEXT+"="+_17b;
}else{
_185+=_f.JAZZ_SCM_LAST_TIMESTAMP+"="+_17b;
}
}
if(_1f.hasValue(_17d)){
if(_185.length>0){
_185+="&";
}
_185+=_f.JAZZ_SCM_OLDEST_FIRST+"="+_17d;
}
if(_17e&&(_184||_183||_181)){
if(_185.length>0){
_185+="&";
}
_185+=_f.OSLC_ORDER_BY+"="+_10.DC_NAME;
}
var _188=dojo.baseUrl+_1f.OSLC_SERVICE_URL_PREFIX+_187+"?"+_185;
return _188;
};
_1f.additionalChangeSetQueryString=function(_189,_18a,_18b,_18c,_18d,_18e){
var _18f="";
var _190=new Array(5);
var i=0;
if(_1f.hasValue(_189)){
_190[i++]=_f.JAZZ_SCM_SUSPENDED_BY_CONTRIBUTOR_ID+"="+encodeURIComponent(_189);
}
if(_1f.hasValue(_18a)){
_190[i++]=_f.JAZZ_SCM_AUTHOR_ID+"="+encodeURIComponent(_18a);
}
if(_1f.hasValue(_18b)){
_190[i++]=_f.JAZZ_SCM_FIRST_TIMESTAMP+"="+_18b;
}
if(_1f.hasValue(_18c)){
_190[i++]=_f.JAZZ_SCM_LAST_TIMESTAMP+"="+_18c;
}
if(_1f.hasValue(_18d)){
_190[i++]=_f.JAZZ_SCM_CHANGE_KIND+"="+_18d;
}
if(_1f.hasValue(_18e)){
_190[i++]=_f.JAZZ_SCM_OLDEST_FIRST+"="+_18e;
}
var _191=i;
for(i=0;i<_191;++i){
if(i>0){
_18f+="&";
}
_18f+=_190[i];
}
return _18f;
};
_1f.additionalBaselineSetQueryString=function(_192,_193,_194){
var _195="";
var _196=new Array(2);
var i=0;
if(_1f.hasValue(_192)){
_196[i++]=_f.JAZZ_SCM_FIRST_TIMESTAMP+"="+_192;
}
if(_1f.hasValue(_193)){
_196[i++]=_f.JAZZ_SCM_LAST_TIMESTAMP+"="+_193;
}
if(_1f.hasValue(_194)){
_196[i++]=_f.JAZZ_SCM_OLDEST_FIRST+"="+_194;
}
var _197=i;
for(i=0;i<_197;++i){
if(i>0){
_195+="&";
}
_195+=_196[i];
}
return _195;
};
_1f.toOslcPropertiesString=function(_198){
var _199="";
var _19a=false;
var _19b=_2.getProperties(_198);
var _19c=_19b.length;
for(var _19d=0;_19d<_19c;_19d++){
var key=_19b[_19d];
if(_19a){
_199+=",";
}else{
_19a=true;
}
_199+=key;
var _19e=_198[key];
if(_19e!=null){
_199+=encodeURIComponent("{");
_199+=_1f.toOslcPropertiesString(_19e);
_199+=encodeURIComponent("}");
}
}
return _199;
};
_1f.propertyRequest=function(){
var keys=Array.prototype.slice.call(arguments,0);
var _19f={};
_1f.addRequest.apply(null,[_19f].concat(keys));
return _19f;
};
_1f.propertyRequestWithValue=function(key,_1a0){
var _1a1={};
return _1f.addRequestWithValue(_1a1,key,_1a0);
};
_1f.addRequest=function(_1a2){
var keys=Array.prototype.slice.call(arguments,1);
var _1a3=keys;
var _1a4=_1a3.length;
for(var _1a5=0;_1a5<_1a4;_1a5++){
var key=_1a3[_1a5];
_1f.addRequestWithValue(_1a2,key,null);
}
return _1a2;
};
_1f.addRequestWithValue=function(_1a6,key,_1a7){
_1a6[key]=_1a7;
return _1a6;
};
_1f.computeOslcScmQueryPropertyRequest=function(type){
var _1a8=_1f.propertyRequest(_f.JAZZ_SCM_LAST_MODIFIED);
if((type===_1f.WORKSPACE_KIND_STREAM)||(type===_1f.WORKSPACE_KIND_WORKSPACE)||(type===_1f.COMPONENT)){
_1f.addRequestWithValue(_1a8,_f.JAZZ_SCM_OWNER,_1f.propertyRequest(_f.JAZZ_SCM_PATHNAME));
_1f.addRequest(_1a8,_f.JAZZ_SCM_VISIBILITY);
}else{
if((type===_1f.BASELINE)||(type===_1f.SNAPSHOT)){
_1f.addRequestWithValue(_1a8,_f.JAZZ_SCM_CREATOR,_1f.propertyRequest(_10.DC_NAME,_10.RDF_RESOURCE));
_1f.addRequest(_1a8,_10.DC_CREATED);
if((type===_1f.SNAPSHOT)){
_1f.addRequest(_1a8,_f.JAZZ_SCM_OWNER);
}
}else{
if((type===_1f.CHANGE_SET)){
_1f.addRequestWithValue(_1a8,_f.JAZZ_SCM_CREATOR,_1f.propertyRequest(_10.DC_NAME,_10.RDF_RESOURCE));
_1f.addRequestWithValue(_1a8,_f.JAZZ_SCM_REASONS,_1f.propertyRequest(_10.DC_TITLE,_10.RDF_RESOURCE));
_1f.addRequestWithValue(_1a8,_f.JAZZ_SCM_RELATED_ARTIFACTS,_1f.propertyRequest(_10.DC_TITLE,_10.DC_DESCRIPTION,_10.RDF_RESOURCE,_f.JAZZ_SCM_TYPE_ID,_10.OSLC_SCM_MIME_TYPE));
}
}
}
var _1a9=_1f.propertyRequestWithValue(_f.JAZZ_SCM_PROPERTY_REQUEST,_1a8);
return _1a9;
};
_1f.convertToCustomAttributeCriteriaMap=function(_1aa){
var _1ab=_b.parse(_1aa);
return _1ab;
};
_1f.getOslcWorkspaceUrl=function(_1ac){
var _1ad=_1f.propertyRequestWithValue(_f.JAZZ_SCM_CHILD_LIST,_1f.propertyRequestWithValue(_f.JAZZ_SCM_CHECKED_IN,_1f.propertyRequest(_10.DC_TITLE)));
_1f.addRequest(_1ad,_f.JAZZ_SCM_FLOWS);
_1f.addRequest(_1ad,_f.JAZZ_SCM_OWNER);
_1f.addRequest(_1ad,_f.JAZZ_SCM_VISIBILITY);
var _1ae=_1f.toOslcPropertiesString(_1ad);
var url=dojo.baseUrl;
url+=_1f.OSLC_SERVICE_URL_PREFIX;
url+="workspaceId/";
url+=_1ac+"?"+_1f.OSLC_PROPERTIES+"="+_1ae;
return url;
};
_1f.createPlusFromJazzScmChangeSet=function(_1af){
var _1b0=_1f.createFromJazzScmChangeSet(_1af);
var _1b1={};
_1b1.changeSetDTO=_1b0;
if(_1f.hasValue(_1af[_f.JAZZ_SCM_RELATED_ARTIFACTS])){
var _1b2=_1af[_f.JAZZ_SCM_RELATED_ARTIFACTS];
var _1b3=_1b2.length;
var _1b4=new Array(_1b3);
var i=0;
var _1b5=_1b2;
var _1b6=_1b5.length;
for(var _1b7=0;_1b7<_1b6;_1b7++){
var link=_1b5[_1b7];
var dto={};
dto.linkTypeId=link[_f.JAZZ_SCM_TYPE_ID];
dto.targetComment=link[_10.DC_TITLE];
dto.targetContentType=link[_10.OSLC_SCM_MIME_TYPE];
dto.targetExtraInfo=link[_10.DC_DESCRIPTION];
dto.targetUri=link[_f.JAZZ_SCM_URI];
_1b4[i++]=dto;
}
_1b1.oslcLinks=_1b4;
}
return _1b1;
};
_1f.createFromJazzScmChangeSet=function(_1b8){
var _1b9={};
if(_1f.hasValue(_1b8[_f.JAZZ_SCM_ITEM_ID])){
_1b9.itemId=_1b8[_f.JAZZ_SCM_ITEM_ID];
}
if(_1f.hasValue(_1b8[_10.DC_DESCRIPTION])){
_1b9.comment=_1b8[_10.DC_DESCRIPTION];
}
if(_1f.hasValue(_1b8[_f.JAZZ_SCM_REASONS])&&_1b8[_f.JAZZ_SCM_REASONS].length>0){
var _1ba=new Array(_1b8[_f.JAZZ_SCM_REASONS].length);
var i=0;
var _1bb=_1b8[_f.JAZZ_SCM_REASONS];
var _1bc=_1bb.length;
for(var _1bd=0;_1bd<_1bc;_1bd++){
var _1be=_1bb[_1bd];
var _1bf={};
_1bf.label=_1be[_10.DC_TITLE];
_1bf.location=_1be[_f.JAZZ_SCM_URI];
_1ba[i++]=_1bf;
}
_1b9.reasons=_1ba;
}
if(_1f.hasValue(_1b8[_f.JAZZ_SCM_CREATOR])){
var _1c0={};
var src=_1b8[_f.JAZZ_SCM_CREATOR];
_1c0.itemId=src[_f.JAZZ_SCM_ITEM_ID];
_1c0.name=src[_10.DC_NAME];
_1c0["com.ibm.team.repository.typeName"]=src[_f.JAZZ_SCM_ITEM_TYPE];
_1c0.emailAddress=src[_f.JAZZ_SCM_EMAIL_ADDR];
_1c0.userId=src[_f.JAZZ_SCM_USER_ID];
_1b9.author=_1c0;
}
if(_1f.hasValue(_1b8[_10.DC_MODIFIED])){
var date=new Date(_1b8[_10.DC_MODIFIED]);
var o={};
o.zulu=true;
_1b9.dateModified=dojo.date.stamp.toISOString(date,o);
}
return _1b9;
};
_1f.createChangeDTOFromJazzScmChange=function(_1c1){
var _1c2={};
_1c2.afterPath=_1c1[_f.JAZZ_SCM_AFTER_PATH];
_1c2.afterStateId=_1c1[_f.JAZZ_SCM_AFTER_STATE_ID];
_1c2.beforeStateId=_1c1[_f.JAZZ_SCM_BEFORE_STATE_ID];
_1c2.changeType=((_1c1[_f.JAZZ_SCM_CHANGE_KIND])|0);
_1c2.diff=_1c1[_f.JAZZ_SCM_DIFF_IF_CHANGE_IS_MODIFY];
_1c2.itemId=_1c1[_f.JAZZ_SCM_ITEM_ID];
_1c2.itemType=_1c1[_f.JAZZ_SCM_ITEM_TYPE];
_1c2.path=_1c1[_f.JAZZ_SCM_PATH];
return _1c2;
};
_1f.createBaselineDTOFromJazzScmBaseline=function(_1c3){
var _1c4={};
if(_1f.hasValue(_1c3[_f.JAZZ_SCM_ITEM_ID])){
_1c4.baseline={};
_1c4.baseline.itemId=_1c3[_f.JAZZ_SCM_ITEM_ID];
}
if(_1f.hasValue(_1c3[_10.DC_TITLE])){
_1c4.id=parseInt(_1c3[_10.DC_TITLE]);
}
if(_1f.hasValue(_1c3[_10.DC_NAME])){
_1c4.name=_1c3[_10.DC_NAME];
}
if(_1f.hasValue(_1c3[_10.DC_DESCRIPTION])){
_1c4.comment=_1c3[_10.DC_DESCRIPTION];
}
if(_1f.hasValue(_1c3[_f.JAZZ_SCM_CREATOR])){
var _1c5={};
var src=_1c3[_f.JAZZ_SCM_CREATOR];
_1c5.itemId=src[_f.JAZZ_SCM_ITEM_ID];
_1c5.name=src[_10.DC_NAME];
_1c5["com.ibm.team.repository.typeName"]=src[_f.JAZZ_SCM_ITEM_TYPE];
_1c5.emailAddress=src[_f.JAZZ_SCM_EMAIL_ADDR];
_1c5.userId=src[_f.JAZZ_SCM_USER_ID];
_1c4.creator=_1c5;
}
if(_1f.hasValue(_1c3[_10.DC_MODIFIED])){
var date=new Date(_1c3[_10.DC_MODIFIED]);
var o={};
o.zulu=true;
_1c4.creationDate=dojo.date.stamp.toISOString(date,o);
}
return _1c4;
};
_1f.oneOf=function(_1c6,_1c7){
return (_1f.hasValue(_1c6))?_1c6:_1c7;
};
_1f.getOslcWorkspaceSearchURI=function(_1c8,_1c9,_1ca){
var uri=dojo.baseUrl+_1f.OSLC_WORKSPACE_URL_PREFIX;
var _1cb="";
if(_1c8!=null){
_1cb="jazz_scm:workspaceKind=com.ibm.team.scm."+_1c8;
}
if(_1c9!=null&&_1ca!=null&&_1c9.length===_1ca.length){
for(var i=0;i<_1c9.length;i++){
if(_1cb.length>0){
_1cb+="&";
}
_1cb+=_f.JAZZ_SCM_OWNER_SPEC+"=";
if(_1c9[i]==="Contributor"){
_1cb+=encodeURIComponent("itemOid/"+"com.ibm.team.repository."+_1c9[i]+"/"+_1ca[i]);
}else{
_1cb+=encodeURIComponent("itemOid/"+"com.ibm.team.process."+_1c9[i]+"/"+_1ca[i]);
}
}
}
if(_1cb.length>0){
uri+="?"+_1cb;
}
return uri;
};
_1f.createContextSensitiveHelp=function(_1cc,node,_1cd){
dojo.empty(node);
var help=null;
switch(_1cd){
case _1f.CSH_LEVEL_SECTION:
var p={};
p.uaKey=_1cc;
help=new _18(p);
node.appendChild(help.domNode);
break;
case _1f.CSH_LEVEL_PAGE:
default:
var p={uaKey:_1cc};
help=new _17(p);
node.appendChild(help.domNode);
break;
}
return help;
};
_1f.sanitizeAppendTextInLines=function(_1ce,text){
if(!_1f.hasValue(text)){
return;
}
var _1cf=text.split("\r\n");
if(_1cf.length===1){
_1cf=text.split("\n");
}
if(_1cf.length===1){
_1cf=text.split("\r");
}
for(var l=0;l<_1cf.length;l++){
_1ce.appendChild(window.document.createTextNode(_1cf[l]));
if(l<(_1cf.length-1)){
_1ce.appendChild(window.document.createElement("br"));
}
}
};
_1f.createRootBreadcrumb=function(){
var seg={};
seg.label=_1f.messages.ScmPageController_0;
seg.tooltip=_1f.messages.Scm_welcome_page_title;
seg.href=_1f.SOURCE_CONTROL_WELCOME_URI;
return seg;
};
_1f.createWorkspacesQueryBreadcrumb=function(_1d0){
var seg={};
seg.label=_1d0?_1f.messages.Scm_breadcrumb_streams:_1f.messages.Scm_breadcrumb_workspaces;
seg.icon=_1f.getIconUrl(_1d0?_1f.STREAMS:_1f.WORKSPACES,null).imageLocation;
seg.tooltip=_1d0?_1f.messages.Scm_breadcrumb_streams_tooltip:_1f.messages.Scm_breadcrumb_workspaces_tooltip;
seg.href=_1d0?_1f.SOURCE_CONTROL_STREAMS_URI:_1f.SOURCE_CONTROL_WORKSPACES_URI;
return seg;
};
_1f.createContextItemBreadcrumb=function(_1d1,_1d2,_1d3,_1d4,_1d5){
var seg={};
seg.label=_1d1;
if(_1d3===_1f.SNAPSHOT_TYPE){
seg.icon=_1f.getIconUrl(_1f.SNAPSHOT,null).imageLocation;
seg.href=_1f.getGCAwareBrowseSnapshotURI(_1d2,null,null,null,_1d5);
}else{
if(_1d3===_1f.BASELINE_TYPE){
seg.icon=_1f.getIconUrl(_1f.BASELINE,null).imageLocation;
seg.href=_1f.getGCAwareBrowseBaselineURI(_1d2,null,_1d5);
}else{
if(_1d3===_1f.STREAM_TYPE){
seg.icon=_1f.getIconUrl(_1f.STREAM,null).imageLocation;
seg.href=_1f.getGCAwareBrowseStreamURI(_1d2,null,_1d5);
}else{
if(_1d3===_1f.WORKSPACE_TYPE){
seg.icon=_1f.getIconUrl(_1f.WORKSPACE,null).imageLocation;
seg.href=_1f.getGCAwareBrowseWorkspaceURI(_1d2,null,_1d5);
}else{
if(!(false)){
_3.fail("false","util:3272");
}
}
}
}
}
return seg;
};
_1f.createBreadcrumbsForChangeSets=function(_1d6,_1d7,_1d8){
var _1d9=_1f.hasValue(_1d7)?dojo.clone(_1d7):null;
var _1da=_1d6.component;
var _1db=[];
var _1dc;
_1db.push(_1f.createRootBreadcrumb());
var _1dd=_1f.hasValue(_1d9)&&_1f.hasValue(_1d9.itemId);
if(_1dd){
if(_1d9.isStream){
_1d9.itemType=_1f.STREAM_TYPE;
}
if((_1f.WORKSPACE_TYPE===_1d9.itemType)||(_1f.STREAM_TYPE===_1d9.itemType)){
_1db.push(_1f.createWorkspacesQueryBreadcrumb(_1d9.isStream));
}
_1db.push(_1f.createContextItemBreadcrumb(_1d9.name,_1d9.itemId,_1d9.itemType,_1d9.isStream,_1d8));
}
_1dc={};
_1dc.label=_1da.name;
_1dc.icon=_1f.getIconUrl(_1f.COMPONENT,null).imageLocation;
if(_1dd){
var _1de={};
_1de.contextItemType=_1d9.itemType;
_1de.contextItemId=_1d9.itemId;
_1de.componentItemId=_1da.itemId;
_1de.path="/";
_1dc.href=_1f.getGCAwareBrowseElementURI(_1de,_1d8);
}
_1db.push(_1dc);
var bc=new _19();
bc.segments=_1db;
bc.refresh();
return bc;
};
_1f.createBreadcrumbsForVersionableDTO=function(_1df,_1e0){
var _1e1=_1df.versionablePlusDTO.context;
var _1e2=_1df.workspace!==undefined&&_1df.workspace.stream;
var _1e3=_1df.component;
var path=_1df.path;
var _1e4=[];
var _1e5;
_1e4.push(_1f.createRootBreadcrumb());
var _1e6=_1f.hasValue(_1e1);
if(_1e6){
if(_1e1.isStream&&(_1f.WORKSPACE_TYPE===_1e1.itemType)){
_1e1.itemType=_1f.STREAM_TYPE;
}
if(_1e1.itemType===_1f.WORKSPACE_TYPE||_1e1.itemType===_1f.STREAM_TYPE){
_1e4.push(_1f.createWorkspacesQueryBreadcrumb(_1e2));
}
_1e4.push(_1f.createContextItemBreadcrumb(_1e1.name,_1e1.itemId,_1e1.itemType,_1e2,_1e0));
}else{
_1e5={};
_1e5.label=_1f.messages.ScmPageController_UnknownWorkspace;
_1e5.icon=_1f.getIconUrl(_1f.WORKSPACE,null).imageLocation;
_1e4.push(_1e5);
}
if(_1f.hasValue(path)&&path!=="/"&&_1f.hasValue(_1e1)){
var _1e7={};
if(_1e1.itemType!==_1f.BASELINE_TYPE){
_1e5={};
_1e5.label=_1e3.name;
_1e5.icon=_1f.getIconUrl(_1f.COMPONENT,null).imageLocation;
_1e7.contextItemType=_1e1.itemType;
_1e7.contextItemId=_1e1.itemId;
_1e7.componentItemId=_1e3.itemId;
_1e7.path="/";
_1e5.href=_1e6?_1f.getGCAwareBrowseElementURI(_1e7,_1e0):null;
_1e4.push(_1e5);
}
var _1e8=_1f.parsePathIntoArray(path);
var dir="";
for(var i=0;i<_1e8.length-1;i+=1){
dir=dir+"/"+_1e8[i];
_1e5={};
_1e5.label=decodeURIComponent(_1e8[i]);
_1e7={};
_1e7.contextItemType=_1e1.itemType;
_1e7.contextItemId=_1e1.itemId;
_1e7.componentItemId=_1e3.itemId;
_1e7.path=dir;
_1e5.href=_1e6?_1f.getGCAwareBrowseElementURI(_1e7,_1e0):null;
_1e5.icon=_1f.getIconUrl(_1f.FOLDER,null).imageLocation;
_1e4.push(_1e5);
}
}
var bc=new _19();
bc.segments=_1e4;
bc.refresh();
return bc;
};
_1f.createBreadcrumbsForSnapshot=function(_1e9,_1ea,_1eb,_1ec,_1ed,_1ee){
var _1ef=[];
var _1f0;
_1ef.push(_1f.createRootBreadcrumb());
var _1f1=_1f.hasValue(_1ec);
var _1f2=null;
if(_1f1){
_1f2=_1ed?_1f.STREAM_TYPE:_1f.WORKSPACE_TYPE;
_1ef.push(_1f.createWorkspacesQueryBreadcrumb(_1ed));
_1ef.push(_1f.createContextItemBreadcrumb(_1eb,_1ec,_1f2,_1ed,_1ee));
}else{
_1f0={};
_1f0.label=_1f.messages.ScmPageController_UnknownWorkspace;
_1f0.icon=_1f.getIconUrl(_1f.WORKSPACE,null).imageLocation;
_1ef.push(_1f0);
}
_1f0={};
_1f0.label=_1e9;
_1f0.icon=_1f.getIconUrl(_1f.SNAPSHOT,null).imageLocation;
_1f0.href=_1f.getBrowseSnapshotURI(_1ea,_1ec,_1f2);
_1ef.push(_1f0);
var bc=new _19();
bc.segments=_1ef;
bc.refresh();
return bc;
};
_1f.createSnapshotBreadcrumb=function(_1f3,_1f4,_1f5,_1f6){
var _1f7={};
_1f7.label=_1f3;
_1f7.icon=_1f.getIconUrl(_1f.SNAPSHOT,null).imageLocation;
_1f7.href=_1f.getBrowseSnapshotURI(_1f4,_1f5,_1f6);
return _1f7;
};
_1f.areChangesTruncated=function(_1f8){
var _1f9=_1f8.changeSetDTO.changes;
var _1fa=(_1f.hasValue(_1f9)&&_1f9.length<_1f8.totalChanges);
return _1fa;
};
_1f.getStreamsLandingPagePropertyRequest=function(){
var _1fb=_1f.propertyRequest(_10.DC_NAME);
_1f.addRequest(_1fb,_10.RDF_RESOURCE);
_1f.addRequest(_1fb,_f.JAZZ_SCM_PARENT_LIST);
_1f.addRequest(_1fb,_f.JAZZ_SCM_CONTRIBUTOR_IS_MEMBER);
var _1fc=_1f.propertyRequestWithValue(_f.JAZZ_SCM_PROPERTY_REQUEST,_1f.propertyRequestWithValue(_f.JAZZ_SCM_OWNER,_1fb));
var _1fd=dojo.toJson(_1fc,false);
return _1fd;
};
_1f.getOslcComponentURL=function(_1fe){
if(!(_1fe!=null)){
_3.fail("componentId != null","util:3484");
}
return dojo.baseUrl+_1f.OSLC_COMPONENT_BY_ID_URL_PREFIX+_1fe;
};
_1f.appendOwnerNode=function(_1ff,_200,_201){
var type=_200.type;
if(_200.name!=null){
var _202=window.document.createElement("div");
var a=window.document.createElement("a");
a.className="com-ibm-team-scm-ContextView-anchor";
a.appendChild(window.document.createTextNode(_200.name));
var img=window.document.createElement("img");
var _203=null;
if(type===_1f.OWNER_TYPE_CONTRIBUTOR){
a.href=_1f.getContributorUriGivenItemId(_200.itemId);
_203=_1f.getIconSrc(_1f.USER);
}else{
if(type===_1f.OWNER_TYPE_PROJECT_AREA){
a.href=_1f.getProjectAreaDashboardURIByName(_200.name);
_203=_1f.getIconSrc(_1f.PROJECT_AREA);
}else{
if(type===_1f.OWNER_TYPE_TEAM_AREA){
a.href=_1f.getEditTeamAreaURI(_200.itemId,_201);
_203=_1f.getIconSrc(_1f.TEAM_AREA);
}
}
}
img.src=_203.imageLocation;
img.alt=_203.imageDescription;
img.className="com-ibm-team-scm-ContextView-icon";
_202.appendChild(img);
_202.appendChild(a);
_1ff.appendChild(_202);
}else{
_1f.handleNoChildNodeToAppend(_1ff);
}
return _1ff.firstChild;
};
_1f.appendVisibilityNode=function(_204,_205,_206){
var _207=_205.type;
if(_207===_1f.VISIBILITY_TYPE_PUBLIC){
_204.appendChild(window.document.createTextNode(_1f.messages.ContextView_visibility_public));
}else{
if(_207===_1f.VISIBILITY_TYPE_PRIVATE){
_204.appendChild(window.document.createTextNode(_1f.messages.ContextView_visibility_private));
}else{
if(_207===_1f.VISIBILITY_TYPE_ACCESS_GROUP){
var _208=_14.substitute(_1f.messages.ContextView_visibility_accessgroup,[_1f.getVisibilityName(_205)]);
_204.appendChild(window.document.createTextNode(_208));
}else{
if(_207===_1f.VISIBILITY_TYPE_PROJECT_AREA){
var _209=((_206===_1f.STREAM)||(_206===_1f.COMPONENT))?_1f.messages.ContextView_visibility_projectArea:_14.substitute(_1f.messages.ContextView_visibility_projectAreaName,[_1f.getVisibilityName(_205)]);
_204.appendChild(window.document.createTextNode(_209));
}else{
if(_207===_1f.VISIBILITY_TYPE_TEAM_AREA){
_204.appendChild(window.document.createTextNode(_1f.messages.ContextView_visibility_teamArea));
}
}
}
}
}
if(_204.childNodes.length===0){
_1f.handleNoChildNodeToAppend(_204);
}
return _204.firstChild;
};
_1f.getVisibilityName=function(_20a){
var name=_1f.messages.ContextView_unknown;
if(_20a!=null){
if(_20a.name!=null){
name=_20a.name;
}else{
if(_20a.itemId!=null){
name=_20a.itemId;
}
}
}
return name;
};
_1f.handleNoChildNodeToAppend=function(_20b){
_20b.appendChild(window.document.createTextNode(_1f.messages.ContextView_unknown));
};
_1f.getProjectAreaURI=function(_20c){
var uri;
if(_1f.hasValue(_20c)){
uri=_1f.PROJECTS_URI+"/"+encodeURIComponent(_20c);
return uri;
}else{
var _20d=_16.get();
if(!(_20d!=null)){
_3.fail("currentProj != null","util:3583");
}
if(!(_20d.name!=null)){
_3.fail("currentProj.name != null","util:3584");
}
uri=_1f.PROJECTS_URI+"/"+encodeURIComponent(_20d.name);
return uri;
}
};
_1f.getProjectAreaId=function(){
var _20e=_16.get();
return (_20e!=null)?_20e.itemId:null;
};
_1f.getProjectAreaName=function(){
var _20f=_16.get();
return (_20f!=null)?_20f.name:null;
};
_1f.getWorkspaceURI=function(_210){
if(!(_210!=null)){
_3.fail("workspaceId != null","util:3609");
}
var uri=dojo.string.substitute(_1f.WORKSPACE_RESOURCE_URI,[encodeURIComponent(_210)]);
return uri;
};
_1f.getBaselineURI=function(blId){
if(!(blId!=null)){
_3.fail("blId != null","util:3620");
}
var uri=dojo.string.substitute(_1f.BASELINE_RESOURCE_URI,[encodeURIComponent(blId)]);
return uri;
};
_1f.getChangeSetURI=function(_211,_212){
if(!(_211!=null)){
_3.fail("changeSetId != null","util:3631");
}
var uri=dojo.string.substitute(_1f.CHANGE_SET_RESOURCE_URI,[encodeURIComponent(_211)]);
if(_212!=null){
uri+="?"+dojo.string.substitute(_1f.WORKSPACE_QUERY_PARAM,[encodeURIComponent(_212)]);
}
return uri;
};
_1f.getIconURI=function(_213,_214){
var _215=null;
if(_213===_1f.FILE){
_215=_1f.getIconFilenameByExtension(_214).imageLocation;
}else{
_215=_1f.getIconImageLocation(_213).imageLocation;
}
var uri=_1f.ICONS_URI+"/"+_215;
return uri;
};
_1f.updateTextContentTypesWithUnknown=function(){
var _216=[];
Array.prototype.push.apply(_216,_1f.KnownTextContentTypeStrings);
Array.prototype.push.apply(_216,_1f.UnknownContentTypeStrings);
_1f.KnownTextContentTypeStrings=_216;
};
_1f._diffUnsupportedForUnknownContentTypes=function(diff){
var _217=_1f._getUnsupportedContentTypesInDiff(diff);
if(_217.length===0){
return false;
}
var _218=_217;
var _219=_218.length;
for(var _21a=0;_21a<_219;_21a++){
var type=_218[_21a];
var _21b=_1f.UnknownContentTypeStrings;
var _21c=_21b.length;
for(var _21d=0;_21d<_21c;_21d++){
var _21e=_21b[_21d];
if(!(type===_21e)){
return false;
}
}
}
return true;
};
_1f._getUnsupportedContentTypesInDiff=function(diff){
var _21f=[];
if(diff==null){
return _21f;
}
var _220=diff.indexOf(_1f.BEFORE_STATE_CONTENT_TYPE_NOT_SUPPORTED);
if(_220===0){
var _221=diff.substring(_1f.BEFORE_STATE_CONTENT_TYPE_NOT_SUPPORTED.length);
_21f.push(decodeURIComponent(_221));
}
_220=diff.indexOf(_1f.AFTER_STATE_CONTENT_TYPE_NOT_SUPPORTED);
if(_220===0){
var _221=diff.substring(_1f.AFTER_STATE_CONTENT_TYPE_NOT_SUPPORTED.length);
_21f.push(decodeURIComponent(_221));
}
_220=diff.indexOf(_1f.NEITHER_STATES_CONTENT_TYPE_SUPPORTED);
if(_220===0){
var _222=diff.substring(_1f.NEITHER_STATES_CONTENT_TYPE_SUPPORTED.length);
var sep=_222.indexOf("/");
_21f.push(decodeURIComponent(_222.substring(0,sep)));
_21f.push(decodeURIComponent(_222.substring(sep+1)));
}
return _21f;
};
_1f.findElement=function(tag,id,_223){
var _224=_223.getElementsByTagName(tag);
for(var i=0;i<_224.length;i++){
var e=_224.item(i);
if((e.id===id)){
return e;
}
}
return null;
};
_1f.hideGitMenuOptions=false;
_1f.getHideGitMenuOptions=function(){
return _1f.hideGitMenuOptions;
};
_1f.setHideGitMenuOptions=function(_225){
_1f.hideGitMenuOptions=_225;
};
_1f.createElement=function(_226){
var _227=Array.prototype.slice.call(arguments,1);
var _228=window.document.createElement(_226);
if(_227!=null&&_227.length>0){
if(_227.length>0){
if(_226==="img"){
_228.src=_227[0];
}else{
_228.textContent=_227[0];
}
}
if(_227.length>1){
dojo.addClass(_228,_227[1]);
}
}
return _228;
};
_1f.intializeEditorScript=function(_229,_22a,_22b,_22c,_22d){
var _22e=null;
var _22f=window["orion"];
if(_22f!=null){
_22e=_22f[_229];
}
if(_22e==null){
var _230={};
_230.loaded=function(){
_1f.intializeEditorScript(_229,_22a,_22b,_22c,_22d);
};
_230.src=[_1e()+_22c+(_1f.isInDebugMode()?_22a:_22b)];
_d.addScriptTags(_230);
}else{
_22d();
}
};
_1f.intializeMonacoEditorScript=function(_231,_232,_233,_234,_235){
var _236=null;
var _237=window["monaco"];
if(_237!=null){
_236=_237[_231];
}
if(_236==null){
var _238={};
_238.loaded=function(){
_1f.intializeMonacoEditorScript(_231,_232,_233,_234,_235);
};
_238.src=new Array(4);
_238.src[0]=_1e()+"/web/com.ibm.team.scm.web/monaco/vs/loader.js";
_238.src[2]=_1e()+"/web/com.ibm.team.scm.web/monaco/vs/editor/editor.main.js";
_238.src[1]=_1e()+"/web/com.ibm.team.scm.web/monaco/vs/editor/editor.main.nls.js";
_238.src[3]=_1e()+"/web/com.ibm.team.scm.web/monaco/load_monaco.js";
_d.addScriptTags(_238);
var _239={};
_239.src=new Array(1);
_239.src[0]=_1e()+"/web/com.ibm.team.scm.web/monaco/vs/editor/editor.main.css";
_d.addLinkTags(_239);
}else{
_235();
}
};
_1f.shouldAskEditorForContentType=function(_23a){
return _23a==null||_23a===undefined||_1f.isUnknownContentType(_23a)||(_23a==="text/plain");
};
_1f.isInDebugMode=function(){
return window.location.search.indexOf("debug=true")>-1;
};
_1f.showLockedByOtherMessage=function(_23b,_23c){
var _23d=_1f.getLoggedInContributor();
var _23e=_23b!==undefined&&_23b.itemId!==_23d.itemId;
if(_23e){
var _23f=null;
if(_23c==null||_23c.length===0){
_23f=dojo.string.substitute(_1f.messages.FilesFoldersView_FileLocked_Warning,[_23b.name]);
}else{
_23f=dojo.string.substitute(_23c,[_23b.name]);
}
window.alert(_23f);
return true;
}
return false;
};
_1f.createGCToolbar=function(_240,_241,_242,_243,_244,_245,_246,_247){
if(!_1f.hasValue(_240)||!_1f.hasValue(_241)){
return;
}
if(_1f.hasValue(_242)){
var _248={};
_248.targetUri=_242;
_248.showGCIcon=true;
_248.targetWindow=_12.NEW_WINDOW;
var _249=new _12(_248);
_249.setTargetWindow(_12.NEW_WINDOW);
dojo.addClass(_245,"gcconfiguration-widget");
_245.appendChild(_249.domNode);
}else{
var text=window.document.createTextNode(_1f.messages.GC_not_selected_message);
dojo.addClass(_245,"light_text");
_245.appendChild(text);
}
_247.createGCPickerActionButton(_246,function(_24a){
var _24b={};
_24b.contextItemId=_240;
_24b.contextType=_241;
_24b.oslc_configuration=_24a.uri;
_247.updateGC(_24b);
});
if(_1f.hasValue(_242)){
if(!_1f.isNull(_244)){
_1f.errorWithGcContext(_244,_247);
}else{
if(!_243&&_241!==_1f.WORKSPACE_TYPE){
_1f.warnGlobalConfigurationConflict(_247);
}
}
}
if(_a.shouldDisplayBannerButton()){
dojo.style(_246,"pointer-events","none");
dojo.style(_246,"opacity",".5");
}
};
_1f.errorWithGcContext=function(_24c,_24d){
_24d.displayPageStatusMessage(_24c.message,"ERROR",null);
};
_1f.warnGlobalConfigurationConflict=function(_24e){
_24e.displayPageStatusMessage(_1f.messages.OslcLink_NotInContext,"WARNING",null);
};
_1f.getComponentItemId=function(_24f){
var _250=null;
if(_1f.hasValue(_24f.itemId)){
_250=_24f.itemId;
}else{
if(_1f.hasValue(_24f.component.itemId)){
_250=_24f.component.itemId;
}
}
return _250;
};
_1f.MESSAGE_DIALOG_ICON_INFO=1;
_1f.MESSAGE_DIALOG_ICON_QUESTION=2;
_1f.showMessageDialog=function(_251){
if(!(_1f.hasValue(_251))){
_3.fail("util.hasValue(dialogParams)","util:3982");
}
if(!(_1f.hasValue(_251.title))){
_3.fail("util.hasValue(dialogParams.title)","util:3983");
}
if(!(_1f.hasValue(_251.text))){
_3.fail("util.hasValue(dialogParams.text)","util:3984");
}
var args={};
args.heading=_251.title;
args.destroyContents=true;
args.width=_1f.hasValue(_251.width)?_251.width:"40em";
args.showCloseButton=false;
args.closeOnEsc=false;
args.closeOnBlur=false;
args.modal=true;
var _252=null;
if(!_1f.isNull(_251.buttonLabels)&&_251.buttonLabels.length>0){
_252=new Array(_251.buttonLabels.length);
var _253=!_1f.isNull(_251.buttonCssClasses)?_251.buttonCssClasses.length:0;
var _254=0;
var _255=_251.buttonLabels;
var _256=_255.length;
for(var _257=0;_257<_256;_257++){
var _258=_255[_257];
_252[_254]=window.document.createElement("button");
_252[_254].id="button_"+_258;
_252[_254].innerHTML=_258;
if(_254<_253){
var _259=_251.buttonCssClasses[_254];
if(_259!=null){
_252[_254].className=_259;
}
}
_254++;
}
}
args.contentNode=_1f.createDialogContent(_251,_252);
if(_1f.isNull(_252)||_252.length===0){
args.showCloseButton=true;
}else{
args.footerNode=_1f.findElement("div","buttonPanel",args.contentNode);
if(!_1f.isNull(_251.buttonFocus)&&_251.buttonFocus>=0&&_251.buttonFocus<_251.buttonLabels.length){
dojo.mixin(args,{focusNode:_252[_251.buttonFocus]});
}else{
dojo.mixin(args,{focusNode:_252[_252.length-1]});
}
}
var _25a=new _1a(args);
if(!_1f.isNull(_252)&&_252.length>0){
_1f.connectMessageDialogButtonEventHandlers(_25a,_252,_251.buttonHandlers);
}
};
_1f.createDialogContent=function(_25b,_25c){
var _25d=window.document.createElement("div");
_25d.id="dialogPanel";
dojo.addClass(_25d,"messageDialogPanel");
var _25e=window.document.createElement("div");
_25e.id="messagePanel";
dojo.addClass(_25e,"messageDialogMessagePanel");
if(!_1f.isNull(_25b.iconType)){
var _25f=null;
var _260=null;
if(_25b.iconType===_1f.MESSAGE_DIALOG_ICON_INFO){
_25f="messageDialogIcon1";
_260=_1f.getImageIcon("info","imgIcon");
}else{
if(_25b.iconType===_1f.MESSAGE_DIALOG_ICON_QUESTION){
_25f="messageDialogIcon";
_260=_1f.getImageIcon("question","imgIcon");
}
}
if(!_1f.isNull(_260)){
var _261=window.document.createElement("div");
dojo.addClass(_261,_25f);
_261.appendChild(_260);
_25e.appendChild(_261);
}
}
var _262=window.document.createElement("div");
dojo.addClass(_262,"messageDialogText");
var text=window.document.createTextNode(_25b.text);
_262.appendChild(text);
_25e.appendChild(_262);
var _263=window.document.createElement("div");
_263.id="buttonPanel";
if(!_1f.isNull(_25c)&&_25c.length>0){
for(var _264=0;_264<_25c.length;_264++){
_263.appendChild(_25c[_264]);
}
if(_25c.length===2){
dojo.addClass(_263,_1f.CSS_BUTTON_CLASS_FULL_BLEED_ONE);
}else{
if(_25c.length===2){
dojo.addClass(_263,_1f.CSS_BUTTON_CLASS_FULL_BLEED_TWO);
}else{
if(_25c.length===3){
dojo.addClass(_263,_1f.CSS_BUTTON_CLASS_FULL_BLEED_THREE);
}else{
if(_25c.length===4){
dojo.addClass(_263,_1f.CSS_BUTTON_CLASS_FULL_BLEED_FOUR);
}
}
}
}
}
_25d.appendChild(_25e);
_25d.appendChild(_263);
return _25d;
};
_1f.connectMessageDialogButtonEventHandlers=function(_265,_266,_267){
var _268=0;
var _269=!_1f.isNull(_267)?_267.length:0;
var _26a=_266;
var _26b=_26a.length;
for(var _26c=0;_26c<_26b;_26c++){
var _26d=_26a[_26c];
var _26e=(_268<_269)?_267[_268]:null;
dojo.connect(_26d,"click",_1f.createButtonEventHandler(_265,_26e));
_268++;
}
};
_1f.createButtonEventHandler=function(_26f,_270){
return function(_271){
dojo.stopEvent(_271);
_26f.close(null);
if(!_1f.isNull(_270)){
_270(_271);
}
};
};
_1f.proceedIfPageDirty=function(_272){
var _273=true;
if(!_272){
return _273;
}
_273=window.confirm(_1f.messages.ContextView_NavigatingAwayFromPage);
return _273;
};
_1f.downloadItem=function(href,_274,_275){
var _276={};
_276.url=href;
_276.timeout=2000;
_276.handle=function(_277,_278){
if(_277!=null){
var resp=String(_277);
var _279=resp.indexOf(_1f.DOWNLOAD_CONTENT_DELETED_ERROR_PREFIX);
if(_279===0){
var _27a=resp.substring(_1f.DOWNLOAD_CONTENT_DELETED_ERROR_PREFIX.length);
_27a=dojo.string.substitute(_1f.messages.FileFolderContentView_contentNotDownloadable,[_274,_27a]);
_275.displayPageStatusMessage(_27a,"INFO",null);
}
}
};
dojo.io.iframe.send(_276);
};
_1f.createHoverPopup=function(_27b,_27c){
var _27d={};
_27d.around=[_27b];
_27d.orientation="B";
_27d.createContents=function(_27e){
var _27f=dojo.create("div",null);
dojo.place(dojo.doc.createTextNode(_27c),_27f);
return _27f;
};
return new _1b(_27d);
};
_1f.isNodeName=function(node,_280){
return (!_1f.isNull(node)&&(_280.toLowerCase()===node.nodeName.toLowerCase()));
};
_1f.hasAttribute=function(_281,_282){
return (!_1f.isNull(_281)&&!_1f.isNull(_281.getAttributeNode(_282)));
};
_1f.trim=function(_283){
var _284="";
if(_1f.hasValue(_283)&&dojo.isString(_283)){
_284=_283.replace(new RegExp("^\\s+|\\s+$","g"),"");
}
return _284;
};
_1f.createSection=function(name,_285,_286,_287){
var _288=window.document.createElement("div");
if(_1f.hasValue(_285)){
_288.id=_285;
}
var _289=window.document.createElement("div");
_289.className="sectionHeader";
var _28a=window.document.createElement("div");
_28a.className="sectionHeaderTitle";
_28a.innerHTML=name;
_289.appendChild(_28a);
var _28b=window.document.createElement("div");
_28b.className="sectionHeaderToolbar";
if(!_1f.isNull(_287)){
if(_28b.hasChildNodes()){
dojo.empty(_28b);
}
_28b.appendChild(_287.domNode);
}
_289.appendChild(_28b);
_288.appendChild(_289);
var _28c=window.document.createElement("div");
_28c.className="sectionContent";
_288.appendChild(_28c);
_286.appendChild(_288);
return _28c;
};
_1f.createSectionWithFilter=function(name,_28d,_28e,_28f,_290){
var _291=window.document.createElement("div");
if(_1f.hasValue(_28d)){
_291.id=_28d;
}
var _292=window.document.createElement("div");
_292.className="sectionHeader";
var _293=window.document.createElement("div");
_293.className="filteredSectionHeaderTitle";
_293.innerHTML=name;
_292.appendChild(_293);
_292.appendChild(_28f);
var _294=window.document.createElement("div");
_294.className="sectionHeaderToolbar";
if(!_1f.isNull(_290)){
if(_294.hasChildNodes()){
dojo.empty(_294);
}
_294.appendChild(_290.domNode);
}
_292.appendChild(_294);
_291.appendChild(_292);
var _295=window.document.createElement("div");
_295.className="sectionContent";
_291.appendChild(_295);
_28e.appendChild(_291);
return _295;
};
_1f.constructNoDataRow=function(_296,_297){
var tr=window.document.createElement("tr");
var td=window.document.createElement("td");
td.setAttribute("colspan",""+_297);
td.setAttribute("align","left");
td.setAttribute("style","padding-top: 5px;");
td.innerHTML=_296;
tr.appendChild(td);
return tr;
};
_1f.generateAdvancedSearchId=function(){
return _15.generateTimeBasedUuid();
};
_1f.getCodeReviewResourceURI=function(_298,_299){
if(!(_298!=null)){
_3.fail("codeReviewItemId != null","util:4314");
}
var uri=_1f.hasValue(_299)?_299+_1f.CODE_REVIEW_ITEM_RESOURCE:_1f.CODE_REVIEW_ITEM_RESOURCE_URI;
uri=dojo.string.substitute(uri,[encodeURIComponent(_298)]);
return uri;
};
_1f._checkOrigin=function(_29a,_29b){
if(_29b.indexOf(_29a)!==1){
return true;
}
return false;
};
_1f._addPostMessageEventHandler=function(_29c,_29d){
var _29e=new _20();
var _29f=function(e){
var _2a0=e;
if(!_1f._checkOrigin(_2a0.origin,_29d)){
console.log("Message event cannot be processed because of origin mismatch. Data: "+_2a0.data+" origin:"+_2a0.origin);
return;
}
_29c(_2a0);
};
_29e.connectHandle=dojo.connect(window,"message",_29f);
return _29e;
};
_1f.addMessageEventHandler=function(_2a1,_2a2){
if((!dojo.isIE||dojo.isIE>7)){
return _1f._addPostMessageEventHandler(_2a1,_2a2);
}
return null;
};
_1f.resizeDialogContent=function(_2a3,_2a4,_2a5){
var _2a6=_2a5.getBoundingClientRect();
var _2a7=_2a3-64;
_2a4.setAttribute("style","overflow-y: hidden; height: "+(_2a3)+"px");
_2a5.setAttribute("style","padding-top: "+(_2a7-_2a6.top)+"px");
};
_1f.getConfigurationURI=function(){
var _2a8=_a.getDefaultConfigurationURI();
return _2a8==null?undefined:_2a8;
};
})();


;dojo.provide("com.ibm.team.scm.web.client.internal.ScmClient");


























(function(){
var _1=com.ibm.jdojo;
var _2=_1.lang.Runtime;
var _3=_1.util.Assert;
var _4=com.ibm.team;
var _5=_4.calm.foundation.web.client.CALMFoundationClient;
var _6=_4.repository.web.transport;
var _7=_6.ServiceRequest;
var _8=_6.ServiceResponseHandler;
var _9=_6.TeamServerClient;
var _a=_4.scm.web;
var _b=_a.client;
var _c=_b.internal.ScmClientNative;
var _d=_b.util;
var _e=_b.utilNative;
var _f=_a.oslcScm.JazzScmConstants;
var _10=net.jazz.ajax.ui.PlatformUI;
var _11=dojo.declare("com.ibm.team.scm.web.client.internal.ScmClient",null,{"-chains-":{constructor:"manual"}});
_2.declareInterface("com.ibm.team.scm.web.client.internal.ScmClient.IParameterWrapper");
_2.declareInterface("com.ibm.team.scm.web.client.internal.ScmClient.IValidityStatus",{VALID:1,INVALID:2,UNKNOWN:3,UNSUPPORTED:10001});
_11.SERVICE_URI="com.ibm.team.scm.common.internal.rest.IScmRestService";
_11.SERVICE_URI_2="com.ibm.team.scm.common.internal.rest.IScmRestService2";
_11.FILESYSTEM_SERVICE_URI="com.ibm.team.filesystem.common.internal.rest.IFilesystemRestService";
_11.FILESYSTEM_SERVICE_URI_2="com.ibm.team.filesystem.common.internal.rest.IFilesystemRestService2";
_11.FILESYSTEM_WORKITEM_SERVICE_URI="com.ibm.team.filesystem.common.workitems.internal.rest.IFilesystemWorkItemRestService";
_11.WORKSPACE_PREFIX="itemOid/com.ibm.team.scm.Workspace/";
_11.COMPONENT_PREFIX="itemOid/com.ibm.team.scm.Component/";
_11.MATCH_KIND_EXACT="exact";
_11.MATCH_KIND_PARTIAL="partial";
_11.MATCH_KIND_PARTIAL_IGNORECASE="partial ignorecase";
_11.OWNER_ITEMTYPE_PROJECTAREA="ProjectArea";
_11.OWNER_ITEMTYPE_TEAMAREA="TeamArea";
_11.OWNER_PROCESSAREA_NAMESPACE="com.ibm.team.process";
_11.messages=_e.messages;
_11.getWorkspaces=function(_12,_13){
_c._getResource(_12,"virtualPath/com.ibm.team.scm.rest.dto.WorkspaceListDTO",_13);
};
_11.getComponents=function(_14,_15){
_c._invokeScmService(_14,"getComponents",_15);
};
_11.getComponentsInHierarchy=function(_16,_17){
_c._invokeScmService2(_16,"getComponentsInHierarchy",_17);
};
_11.getComponentsInWorkspace=function(_18,_19){
_c._invokeScmService2(_18,"getComponentsInWorkspace",_19);
};
_11.getComponentHierarchy=function(_1a,_1b){
_c._invokeScmService2(_1a,"getComponentHierarchy",_1b);
};
_11.getRelatedArtifactsUsingType=function(_1c,_1d,_1e){
if((_1c===_d.WORKSPACE_TYPE)||(_1c===_d.STREAM_TYPE)){
_c._invokeScmOslcService(_1d,"getRelatedArtifactsInWorkspace",_1e);
}else{
if((_1c===_d.BASELINE_TYPE)){
_c._invokeScmOslcService(_1d,"getRelatedArtifactsInBaseline",_1e);
}else{
if((_1c===_d.SNAPSHOT_TYPE)){
_c._invokeScmOslcService(_1d,"getRelatedArtifactsInSnapshot",_1e);
}else{
var _1f={};
_1f.message="Unsupported context type "+_1c;
_1d.doErrorCallback(_1f);
}
}
}
};
_11.getProjectAreas=function(_20,_21){
_c._invokeScmService2(_20,"getAllProjectAreas",_21);
};
_11.getWorkspace=function(_22,_23){
_c._getResource(_22,"virtualPath/com.ibm.team.scm.rest.dto.WorkspaceDTO/"+_23.workspaceItemId,null);
};
_11.getSnapshot=function(_24,_25){
_c._invokeScmService2(_24,"getSnapshot",_25);
};
_11.getBaseline=function(_26,_27){
_c._invokeScmService2(_26,"getBaseline",_27);
};
_11.getBaseline2=function(_28,_29){
_c._invokeScmService2(_28,"getBaseline2",_29);
};
_11.createConfigurationPath=function(_2a){
if(_2a.baselineItemId!=null){
return "REAL_BASELINE_ID/"+_2a.baselineItemId;
}
if(_2a.contextItemType==="com.ibm.team.scm.Baseline"){
return "REAL_BASELINE_ID/"+_2a.contextItemId;
}
var _2b="";
if(_d.hasValue(_2a.workspaceItemId)){
_2b+="workspaceId/"+_2a.workspaceItemId;
}
if(_2a.snapshotItemId!=null){
_2b+="baselineId/"+_2a.snapshotItemId;
}
if(_2a.contextItemId!=null){
if(_2a.contextItemType==="com.ibm.team.scm.Workspace"||_2a.contextItemType==="com.ibm.team.scm.Stream"){
_2b+="workspaceId/";
}
if(_2a.contextItemType==="com.ibm.team.scm.BaselineSet"){
_2b+="baselineId/";
}
if(_2a.contextItemType==="com.ibm.team.scm.Baseline"){
_2b+="baselineId/";
}
_2b+=_2a.contextItemId;
}
if(_2a.componentItemId!=null){
if(_2b!==""){
_2b+="/";
}
_2b+="componentId/"+_2a.componentItemId;
}
return _2b;
};
_11.createChangeSetPath=function(_2c){
var _2d;
var _2e=_11.createConfigurationPath(_2c);
var _2f="changeSetId/"+_2c.changeSetItemId;
if(_d.hasValue(_2c.changeSetStateId)){
_2f="changeSetStateId/"+_2c.changeSetStateId+"/"+_2f;
}
if(_d.hasValue(_2e)&&_2e.length>0){
_2d=_2e+"/"+_2f;
}else{
_2d=_2f;
}
return _2d;
};
_11.createChangePath=function(_30){
var _31="../oslc-scm/"+_11.createChangeSetPath(_30);
var _32=_11.itemInfoToLocationSegments(_30.versionableItemType,_30.versionableItemId,null);
_31+="/id/"+encodeURIComponent(_32);
return _31;
};
_11.createVersionablePath=function(_33){
var _34,_35,_36;
_36=null;
_34=_11.createConfigurationPath(_33);
_35=null;
if(_33.location!=null){
_35=_33.location;
}
_35=_11.itemInfoToLocationSegments(_33.itemType,_33.itemId,_33.itemState);
if(_d.hasValue(_34)){
if(_33.path!=null){
_36=dojo.string.substitute("${0}/path${1}",[_34,_33.path]);
}else{
if(_d.hasValue(_35)){
_36=dojo.string.substitute("${0}/id/${1}",[_34,_35]);
}else{
_36=_34;
}
}
}else{
if(_35!=null){
_36=dojo.string.substitute("id/${0}",[_35]);
}
}
return _36;
};
_11.itemInfoToLocationSegments=function(_37,_38,_39){
var _3a="";
if(_37!=null&&_38!=null){
_3a=dojo.string.substitute("itemOid/${0}/${1}",[_37,_38]);
if(_39!=null){
_3a+="/"+_39;
}
_3a=encodeURIComponent(_3a);
}
return _3a;
};
_11.getVersionablePlus=function(_3b,_3c){
_11.getVersionablePlus2(_3b,_3c,null);
};
_11.getVersionablePlus2=function(_3d,_3e,_3f){
var _40=_3e.split("/");
var _41="";
for(var i=0;i<_40.length;i++){
if(_40[i].length>0){
_41+=encodeURIComponent(_40[i])+"/";
}
}
_c._getResource(_3d,"virtualPath/com.ibm.team.scm.rest2.dto.VersionablePlusDTO/"+_41,_3f);
};
_11.getValidityStatus=function(_42,_43){
_c._invokeFilesystemService2(_42,"getValidityStatus",_43);
};
_11.postSetValidityStatus=function(_44,_45){
_c._invokeFilesystemService2(_44,"postSetValidityStatus",_45);
};
_11.getValidityStatusHistory=function(_46,_47){
_c._invokeFilesystemService2(_46,"getValidityStatusHistory",_47);
};
_11.getIsInConfiguration=function(_48,_49){
_c._invokeScmOslcService(_48,"getIsInConfiguration",_49);
};
_11.getHistoryPlus=function(_4a,_4b,_4c){
if(_4c===undefined||_4c==null){
_4c={};
}
_4c.path=_4b;
_c._invokeScmService2(_4a,"getHistoryPlus",_4c);
};
_11.getChangeHistoryWithBaselines=function(_4d,_4e){
if(_4e===undefined||_4e==null){
return;
}
_c._invokeScmService2(_4d,"getChangeHistoryWithBaselines",_4e);
};
_11.postUpdateChangeSetComment=function(_4f,_50){
_c._invokeFilesystemService2(_4f,"postUpdateChangeSetComment",_50);
};
_11.postCreateChangeSetForStream=function(_51,_52){
_c._invokeFilesystemService2(_51,"postCreateChangeSetForStream",_52);
};
_11.postAssertWebUiReadAccess=function(_53){
var p={};
p.id="com.ibm.team.scm.readaccess.webUi";
_5.getAssertLicense(_53,p);
};
_11.postDeliver=function(_54,_55){
_c._invokeFilesystemService2(_54,"postDeliver",_55);
};
_11.OPERATION_ACQUIRE="acquire";
_11.OPERATION_RELEASE="release";
_11.OPERATION_ACQUIRE_SUBTREE="acquire_subtree";
_11.OPERATION_RELEASE_SUBTREE="release_subtree";
_11.OPERATION_DESTROY="destroy";
_11.postUpdateLocks=function(_56,_57){
_c._invokeScmService2(_56,"postUpdateLocks",_57);
};
_11.postAddChangeRequests=function(_58,_59){
_c._invokeScmService2(_58,"postAddChangeRequests",_59);
};
_11.postRemoveChangeRequests=function(_5a,_5b){
_c._invokeScmService2(_5a,"postRemoveChangeRequests",_5b);
};
_11.postAddLinks=function(_5c,_5d){
_c._invokeFilesystemWorkItemService(_5c,"postAddLinks",_5d);
};
_11.postRemoveLinks=function(_5e,_5f){
_c._invokeFilesystemWorkItemService(_5e,"postRemoveLinks",_5f);
};
_11.getChangeSets=function(_60,_61){
_c._invokeFilesystemWorkItemService(_60,"getChangeSets",_61);
};
_11.getWorkItemChildren=function(_62,_63){
_c._invokeFilesystemWorkItemService(_62,"getWorkItemChildren",_63);
};
_11.getLinkedWorkitems=function(_64,_65){
_c._invokeFilesystemWorkItemService(_64,"getLinkedWorkitems",_65);
};
_11.getChange=function(_66,_67,_68){
var _69={};
_69[_f.JAZZ_SCM_KNOWN_TEXT_CONTENT_TYPE_PREFIXES]=_d.KnownTextContentTypePrefixes;
_69[_f.JAZZ_SCM_KNOWN_TEXT_CONTENT_TYPE_STRINGS]=_d.KnownTextContentTypeStrings;
var _6a=encodeURIComponent(dojo.toJson(_69,false));
var _6b=_67;
var _6c="?jazz_scm:where="+_6a+"&"+_68;
_6b+=_6c;
_c._getResource(_66,_6b,null);
};
_11.getChangeSetPlus=function(_6d,_6e){
if(_d.isNull(_6e.knownTextContentTypePrefixes)||_6e.knownTextContentTypePrefixes.length===0){
_6e.knownTextContentTypePrefixes=_d.KnownTextContentTypePrefixes;
}
if(_d.isNull(_6e.knownTextContentTypeStrings)||_6e.knownTextContentTypeStrings.length===0){
_6e.knownTextContentTypeStrings=_d.KnownTextContentTypeStrings;
}
_c._invokeFilesystemService2(_6d,"getChangeSetPlus",_6e);
};
_11.getBaselineSets=function(_6f,_70){
_c._invokeScmService(_6f,"getBaselineSets",_70);
};
_11.getBaselineSets2=function(_71,_72){
_c._invokeScmService2(_71,"getBaselineSets",_72);
};
_11.searchStreams=function(_73,_74){
_74.workspaceKind="streams";
_c._invokeScmService2(_73,"getSearchWorkspaces",_74);
};
_11.searchWorkspaces=function(_75,_76){
_76.workspaceKind="workspaces";
_c._invokeScmService2(_75,"getSearchWorkspaces",_76);
};
_11.searchStreamOrWorkspaces=function(_77,_78){
_78.workspaceKind="both";
_c._invokeScmService2(_77,"getSearchWorkspaces",_78);
};
_11.searchStreamsPlus=function(_79,_7a){
_7a.workspaceKind="streams";
_c._invokeScmService2(_79,"getSearchWorkspacesPlus",_7a);
};
_11.searchWorkspacesPlus=function(_7b,_7c){
_7c.workspaceKind="workspaces";
_c._invokeScmService2(_7b,"getSearchWorkspacesPlus",_7c);
};
_11.searchStreamOWrorkspacesPlus=function(_7d,_7e){
_7e.workspaceKind="both";
_c._invokeScmService2(_7d,"getSearchWorkspacesPlus",_7e);
};
_11.searchComponents=function(_7f,_80){
var _81=function(_82){
if(_82.components!=null){
for(var i=0;i<_82.components.length;i++){
_82.components[i].name=_82.components[i].component.name;
_82.components[i].itemId=_82.components[i].component.itemId;
}
}
_7f.doCallback(_82);
};
var _83=function(_84){
_7f.doErrorCallback(_84);
};
_c._invokeScmService2(new _8({"onSuccess":_81,"onFailure":_83},"onSuccess","onFailure"),"getSearchComponents",_80);
};
_11.searchBaselines=function(_85,_86){
_c._invokeScmService2(_85,"getSearchBaselines",_86);
};
_11.BASELINE_REPLAC_OP="REPLACE_COMPONENT";
_11.BASELINE_CREATE_OP="CREATE_BASELINE";
_11.BASELINE_ACCEPT_COMBINED_OP="ACCEPT_COMBINED";
_11.BASELINE_DELIVER_COMBINED_OP="DELIVER_COMBINED";
_11.BASELINE_ADD_COMPONENT_OP="ADD_COMPONENT";
_11.BASELING_REMOVE_COMPONENT_OP="REMOVE_COMPONENT";
_11.getBaselineHistory=function(_87,_88){
_c._invokeScmService2(_87,"getBaselineHistory",_88);
};
_11.getWorkspaceHistory=function(_89,_8a){
_c._invokeScmService2(_89,"getWorkspaceHistory",_8a);
};
_11.getOperationDescription=function(_8b,_8c){
_c._invokeScmService2(_8b,"getOperationDescription",_8c);
};
_11.searchSnapshots=function(_8d,_8e){
_c._invokeScmService2(_8d,"getSearchSnapshots",_8e);
};
_11.searchChangeSets=function(_8f,_90){
_c._invokeScmService2(_8f,"getSearchChangeSets",_90);
};
_11.searchLocks=function(_91,_92){
_c._invokeScmService2(_91,"postFetchLocks",_92);
};
_11.getInternalInitTest=function(_93,_94){
_c._invokeFilesystemService2(_93,"getInternalInitTest",_94);
};
_11.fetchVersionableDTOWithId=function(_95,_96,_97,_98,_99){
var d=new dojo.Deferred();
_10.getWorkbench().showMessage(_11.messages.FetchingItem);
var _9a=new _8({"onSuccess":function(_9b){
_10.getWorkbench().hideMessageArea();
d.callback(_d.asVersionableDTO(_9b));
},"onFailure":function(_9c){
_10.getWorkbench().hideMessageArea();
d.errback(_9c);
}},"onSuccess","onFailure");
var _9d={};
_9d.workspaceItemId=_95;
_9d.componentItemId=_96;
_9d.itemType=_97;
_9d.itemId=_98;
_9d.itemState=_99;
_11.getVersionablePlus(_9a,_11.createVersionablePath(_9d));
return d;
};
_11.fetchVersionableDTOWithPath=function(_9e,_9f,_a0){
var d=new dojo.Deferred();
var _a1=new _8({"onSuccess":function(_a2){
_10.getWorkbench().hideMessageArea();
d.callback(_d.asVersionableDTO(_a2));
},"onFailure":function(_a3){
_10.getWorkbench().hideMessageArea();
d.errback(_a3);
}},"onSuccess","onFailure");
var _a4={};
_a4.workspaceItemId=_9e;
_a4.componentItemId=_9f;
_a4.path=decodeURIComponent(_a0);
_11.getVersionablePlus(_a1,_11.createVersionablePath(_a4));
return d;
};
_11.getChangeSetCheckinHistory2=function(_a5,_a6){
var d=new dojo.Deferred();
var _a7=new _8({"onSuccess":function(_a8){
_10.getWorkbench().hideMessageArea();
d.callback(_a8);
},"onFailure":function(_a9){
_10.getWorkbench().hideMessageArea();
d.errback(_a9);
}},"onSuccess","onFailure");
var _aa={};
_aa.changeSetId=_a5;
_aa.versionableId=_a6;
_c._invokeFilesystemService2(_a7,"getChangeSetCheckinHistory",_aa);
return d;
};
_11.getChangeSetCheckinHistory=function(_ab,_ac){
_c._invokeScmService2(_ab,"getChangeSetCheckinHistory",_ac);
};
_11.getComponentsById=function(_ad,_ae){
_c._invokeScmService2(_ad,"getComponentsById",_ae);
};
_11.getComponentsById2=function(_af,_b0){
_c._invokeScmService2(_af,"getComponentsById2",_b0);
};
_11.getHideGitMenuOptions=function(_b1){
_11.invokeGitRegistrationRestService(_b1,"getHideGitMenuOptions",null);
};
_11.invokeGitRegistrationRestService=function(_b2,_b3,_b4){
var _b5="com.ibm.team.git.common.internal.IGitRepositoryRegistrationRestService";
var sr=new _7(_b5,_b3,_b4);
_9.invokeService(sr,_b2);
};
_11.searchFiles=function(_b6,_b7){
_c._invokeScmService2(_b6,"getSearchFiles",_b7);
};
_11.getWorkspace2=function(_b8,_b9){
_c._invokeScmService2(_b8,"getWorkspace",_b9);
};
_11.COMMAND="command";
_11.ITEM_ID="itemId";
_11.REMOTE_REPO_URI="remoteRepoUri";
_11.REMOTE_REPO_ID="remoteRepoId";
_11.NAME="name";
_11.COMPONENT_ADD_COMMAND="addComponent";
_11.COMPONENT_REMOVE_COMMAND="removeComponent";
_11.COMPONENT_REPLACE_COMMAND="replaceComponent";
_11.COMPONENT_SEED_TYPE="seedType";
_11.COMPONENT_SEED_ITEM_ID="seedItemId";
_11.FLOW_TARGET_ADD_COMMAND="addFlowTarget";
_11.FLOW_TARGET_REMOVE_COMMAND="removeFlowTarget";
_11.FLOW_TARGET_UPDATE_COMMAND="updateFlowTarget";
_11.FLOW_TARGET_SET_COMMAND="setFlowTarget";
_11.FLOW_TARGET_DIRECTION_INCOMING="isFlowDirectionIncoming";
_11.FLOW_TARGET_DIRECTION_OUTGOING="isFlowDirectionOutgoing";
_11.FLOW_TARGET_COMPONENT_SCOPES="componentScopes";
_11.FLOW_TARGET_CURRENT_INCOMING="currentIncoming";
_11.FLOW_TARGET_CURRENT_OUTGOING="currentOutgoing";
_11.FLOW_TARGET_DEFAULT_INCOMING="defaultIncoming";
_11.FLOW_TARGET_DEFAULT_OUTGOING="defaultOutgoing";
_11.FLOW_TARGET_UNSET="unset";
_11.postPutWorkspace=function(_ba,_bb){
_c._invokeScmService2(_ba,"postPutWorkspace",_bb);
};
_11.postWorkspace=function(_bc,_bd){
_c._invokeScmService(_bc,"postWorkspace",_bd);
};
_11.ACCESS_MEMBER_PROJECT_AREA_TYPE=0;
_11.ACCESS_MEMBER_TEAM_AREA_TYPE=1;
_11.ACCESS_MEMBER_CONTRIBUTOR_TYPE=2;
_11.getAvailableAccessGroups=function(_be,_bf){
_c._invokeScmService2(_be,"getAvailableAccessGroups",_bf);
};
_11.postGetProcessAreas=function(_c0,_c1){
_c._invokeScmService2(_c0,"postGetProcessAreas",_c1);
};
_11.postPutBaseline=function(_c2,_c3){
_c._invokeScmService2(_c2,"postPutBaseline",_c3);
};
_11.postPutSnapshot=function(_c4,_c5){
_c._invokeScmService2(_c4,"postPutSnapshot",_c5);
};
_11.postSnapshot=function(_c6,_c7){
_c._invokeScmService2(_c6,"postSnapshot",_c7);
};
_11.postPutComponent=function(_c8,_c9){
_c._invokeScmService2(_c8,"postPutComponent",_c9);
};
_11.getComponentHierarchyInWorkspace=function(_ca,_cb){
_c._invokeScmService2(_ca,"getComponentHierarchyInWorkspace",_cb);
};
_11.postLocateChangeSets=function(_cc,_cd){
_c._invokeScmService2(_cc,"postLocateChangeSets",_cd);
};
_11.getNewWorkspaceConfigurationData=function(_ce,_cf){
_c._invokeScmService2(_ce,"getNewWorkspaceConfigurationData",_cf);
};
_11.postDeleteWorkspace=function(_d0,_d1){
_c._invokeScmService2(_d0,"postDeleteWorkspace",_d1);
};
_11.postBackupAndDeleteStream=function(_d2,_d3){
_c._invokeScmService2(_d2,"postBackupAndDeleteStream",_d3);
};
_11.postAddBaselineSet=function(_d4,_d5){
_c._invokeScmService2(_d4,"postAddBaselineSet",_d5);
};
_11.newBaseline=function(_d6,_d7){
_c._invokeScmService2(_d6,"postNewBaseline",_d7);
};
_11.fetchBaselinesInWorkspace=function(_d8,_d9){
_c._invokeScmService2(_d8,"postFetchBaselinesInWorkspace",_d9);
};
_11.deleteSnapshot=function(_da,_db){
_c._invokeScmService2(_da,"postDeleteBaselineSet",_db);
};
_11.setCustomAttributes=function(_dc,_dd){
_c._invokeScmService2(_dc,"postSetCustomAttributes",_dd);
};
_11.getCustomAttributes=function(_de,_df){
_c._invokeScmService2(_de,"postGetCustomAttributes",_df);
};
_11.getCustomAttributeDefinitions=function(_e0,_e1){
_c._invokeScmService2(_e0,"postGetDefinedCustomAttributeIdentifiers",_e1);
};
_11.getProjectAreaContextForWorkspace=function(_e2,_e3){
_c._invokeScmService2(_e2,"postGetProjectAreaContextForWorkspace",_e3);
};
_11.findWorkItemsById=function(_e4,_e5){
_c._invokeFilesystemWorkItemService(_e4,"getWorkItemsById",_e5);
};
_11.getWorkspacePlus=function(_e6,_e7){
_c._invokeScmService2(_e6,"postGetWorkspacePlus",_e7);
};
_11.getWorkspaceOwner=function(_e8,_e9){
_c._invokeScmService2(_e8,"postGetWorkspaceOwner",_e9);
};
_11.getChangeSetDetailsSansChanges=function(_ea,_eb){
if(!(!_d.isNull(_eb))){
_3.fail("!util.isNull(parms)","ScmClient:2406");
}
if(!(_d.hasValue(_eb.changeSetId))){
_3.fail("util.hasValue(parms.changeSetId)","ScmClient:2407");
}
var _ec={};
if(_d.hasValue(_eb.contextId)&&_d.hasValue(_eb.contextType)){
_ec.contextItemId=_eb.contextId;
_ec.contextItemType=_eb.contextType;
}else{
_ec.contextItemId=null;
_ec.contextItemType=null;
}
_ec.changeSetItemId=_eb.changeSetId;
var _ed=_11.createChangeSetPath(_ec);
var _ee={};
_ee.changeSetPath=_ed;
_ee.fetchChanges=false;
_c._invokeFilesystemService2(_ea,"getChangeSetPlus",_ee);
};
_11.searchStreamsForContributor=function(_ef,_f0){
_f0.maxResults=2048;
_c._invokeScmService2(_ef,"postGetStreamsForContributor",_f0);
};
_11.getSavedScmItemQueries=function(_f1,_f2){
if(!(!_d.isNull(_f2))){
_3.fail("!util.isNull(args)","ScmClient:2460");
}
if(!_d.hasValue(_f2.maxResult)){
_f2.maxResult=512;
}
_c._invokeScmService2(_f1,"postGetSavedScmItemQueries",_f2);
};
_11.runSavedWorkspaceQuery=function(_f3,_f4){
if(!(!_d.isNull(_f4))){
_3.fail("!util.isNull(args)","ScmClient:2498");
}
if(!_d.hasValue(_f4.maxResult)){
_f4.maxResult=2048;
}
_c._invokeScmService2(_f3,"postRunSavedWorkspaceQuery",_f4);
};
_11.runSavedSnapshotQuery=function(_f5,_f6){
if(!(!_d.isNull(_f6))){
_3.fail("!util.isNull(args)","ScmClient:2512");
}
if(!_d.hasValue(_f6.maxResult)){
_f6.maxResult=2048;
}
_c._invokeScmService2(_f5,"postRunSavedSnapshotQuery",_f6);
};
_11.runSavedBaselineQuery=function(_f7,_f8){
if(!(!_d.isNull(_f8))){
_3.fail("!util.isNull(args)","ScmClient:2526");
}
if(!_d.hasValue(_f8.maxResult)){
_f8.maxResult=2048;
}
_c._invokeScmService2(_f7,"postRunSavedBaselineQuery",_f8);
};
_11.postGetCustomAttributesForVersionables=function(_f9,_fa){
if(!(!_d.isNull(_fa))){
_3.fail("!util.isNull(args)","ScmClient:2543");
}
_c._invokeScmService2(_f9,"postGetCustomAttributesForVersionables",_fa);
};
_11.setCustomForVersionables=function(_fb,_fc){
_c._invokeScmService2(_fb,"postSetCustomAttributesForVersionables",_fc);
};
_11.asNewDeferred=function(_fd){
var _fe=(new (require("dojo/Deferred")));
_fd.then(function(_ff){
_fe.resolve(_ff);
return _ff;
},function(_100){
_fe.reject(_100);
return _100;
});
return _fe;
};
})();


;dojo.provide("com.ibm.team.scm.web.ui.internal.EventConstants");
(function(){
var _1=dojo.declare("com.ibm.team.scm.web.ui.internal.EventConstants",null,{"-chains-":{constructor:"manual"}});
_1.PAGE_LOADED_EVENT="/com/ibm/team/scm/web/pageLoaded";
_1.INIT_MENU_EVENT="/com/ibm/team/scm/web/initMenu";
})();


;dojo.provide("com.ibm.team.scm.web.ui.internal.navigation.ScmComponentMenu");






















(function(){
var _1=com.ibm.jdojo.lang.Runtime;
var _2=com.ibm.team;
var _3=_2.repository.web.transport.ServiceResponseHandler;
var _4=_2.scm.web;
var _5=_4.client;
var _6=_5.internal.ScmClient;
var _7=_5.util;
var _8=_5.utilNative;
var _9=_4.ui.internal.EventConstants;
var _a=jazz.app._ComponentMenu;
var _b=jazz.app.context;
var _c=jazz.app.viewHistory;
var _d=dojo.declare("com.ibm.team.scm.web.ui.internal.navigation.ScmComponentMenu",_a,{constructor:function(){
this._items={};
this._staticItems=[];
this._recentTitle={};
this._recentLoading={};
this._recentItems={};
this._recentHrefs={};
},postCreate:function(){
var _e=dojo.hitch(this,function(_f){
console.log("Request completed successfully @ "+new Date().getTime());
var _10=false;
if(((typeof (_f)!=="undefined"))&&(_f!=null)){
if(dojo.isString(_f)){
_10=(_f.toLowerCase()==="true");
}
}
_7.setHideGitMenuOptions(_10);
this.postCreate0();
});
var _11=dojo.hitch(this,function(_12){
console.log("Request completed with failure @ "+new Date().getTime());
_7.setHideGitMenuOptions(false);
this.postCreate0();
});
console.log("Request Start @ "+new Date().getTime());
var _13=new _3({"onSuccess":_e,"onFailure":_11},"onSuccess","onFailure");
_6.getHideGitMenuOptions(_13);
console.log("Request placed @ "+new Date().getTime());
},postCreate0:function(){
var _14=_7.getHideGitMenuOptions();
this._addStaticMenuItem(_d.messages.Scm_welcome_page_title,_7.getIconUrl(_7.SCM,null).imageLocation,_7.SOURCE_CONTROL_WELCOME_URI,1);
if(_14===false){
this._addStaticMenuItem(_d.messages.Git_welcome_page_title,_7.getIconUrl(_7.GIT_WELCOME,null).imageLocation,_7.GIT_WELCOME_URI,1);
}
this._addStaticTitle(_d.messages.Component_menu_group_queries);
this._addStaticMenuItem(_d.messages.Component_Menu_Streams,_7.getIconUrl(_7.STREAMS,null).imageLocation,_7.SOURCE_CONTROL_STREAMS_URI,1);
this._addStaticMenuItem(_d.messages.Component_Menu_Workspaces,_7.getIconUrl(_7.WORKSPACES,null).imageLocation,_7.SOURCE_CONTROL_WORKSPACES_URI,1);
if(_14===false){
this._addStaticMenuItem(_d.messages.Component_Menu_Git_Repositories,_7.getIconUrl(_7.GIT_REPO,null).imageLocation,_7.GIT_REPO_URI,1);
}
this._addStaticMenuItem(_d.messages.Search_scope_locks,_7.getIconUrl(_7.LOCK,null).imageLocation,_7.SOURCE_CONTROL_LOCKS_URI,1);
this._addStaticMenuItem(_d.messages.Component_Menu_CodeReviews,_7.getIconUrl(_7.CODE_REVIEW,null).imageLocation,_7._browseCodeReviewsURIPrefix,1);
this._addStaticTitle(_d.messages.Component_menu_Create);
this._addStaticMenuItem(_d.messages.Component_Menu_Stream,_7.getIconUrl(_7.STREAM,null).imageLocation,_7.SOURCE_CONTROL_CREATE_STREAM_URI,1);
this._addStaticMenuItem(_d.messages.Component_Menu_Workspace,_7.getIconUrl(_7.WORKSPACE,null).imageLocation,_7.SOURCE_CONTROL_CREATE_WORKSPACE_URI,1);
this._addStaticTitle(_d.messages.Component_Menu_Search);
this._addStaticMenuItem(_d.messages.Component_Menu_Advanced_Search,_7.getIconUrl(_7.ADVANCED_SEARCH,null).imageLocation,_7._editSearchURIPrefix,1);
this._addStaticMenuItem(_d.messages.Component_Menu_Locate_Change_Set,_7.getIconUrl(_7.LOCATE_CHANGE_SETS,null).imageLocation,_7._locateChangeSetURIPrefix,1);
if(_14===false){
this._addStaticTitle(_d.messages.Component_Menu_Authorize);
this._addStaticMenuItem(_d.messages.Component_Menu_Git_Connection,_7.getIconUrl(_7.GIT_AUTHORIZE,null).imageLocation,_7.GIT_AUTHORIZE_URI,1);
}
this._initViewHistoryItems(_d.SCM_VIEW_HISTORY_TYPE);
this._initViewHistoryItems(_d.SCM_FILES_FOLDERS_VIEW_HISTORY_TYPE);
dojo.publish(_9.INIT_MENU_EVENT,[this]);
},_addStaticTitle:function(_15){
var _16=this.addTitle(_15,{});
this._staticItems.push(_16);
_d._staticItemsCount++;
},_addStaticMenuItem:function(_17,_18,_19,_1a){
var _1b={};
_1b.label=_17;
_1b.icon=_18;
_1b.href=_19;
_1b.wrapHint=_1a;
var _1c=this.addItemByArgs(_1b);
this._items[_1b.href]=_1c;
this._staticItems.push(_1c);
_d._staticItemsCount++;
},_addRecentTitle:function(_1d,_1e){
var _1f=this._getRecentTitleLabel(_1d,0);
var _20={};
_20.wrapHint=_1e;
this._recentTitle[_1d]=this.addTitle(_1f,_20);
},_getRecentTitleLabel:function(_21,_22){
var _23="<b>"+(_21===_d.SCM_VIEW_HISTORY_TYPE?_d.messages.Component_menu_group_recent:_d.messages.Component_menu_group_recent_fileFolder)+"</b>";
var _24="";
if(_22===_d.MAX_RECENT_ITEMS){
_24=" "+dojo.string.substitute(_d.messages.Component_menu_group_max,[(_22).toString()]);
}else{
if(_22!==0){
_24=" ("+_22+")";
}
}
_23+=_24;
return _23;
},_getIndex:function(_25){
var _26=_d._staticItemsCount;
_26++;
if(_25===_d.SCM_FILES_FOLDERS_VIEW_HISTORY_TYPE){
_26+=this._recentItems[_d.SCM_VIEW_HISTORY_TYPE].length;
_26++;
if(this._recentLoading[_d.SCM_VIEW_HISTORY_TYPE]!=null){
_26++;
}
}
return _26;
},_updateRecentTitleCount:function(_27,_28){
var _29=this._getRecentTitleLabel(_27,_28);
this._recentTitle[_27].set("label",_29);
},_initViewHistoryItems:function(_2a){
this._initRecent(_2a);
var _2b={};
_2b.application=_7.APPLICATION_ABOUT_URI;
_2b.type=_2a;
_2b.project=_b.get().name;
_2b.size=_d.MAX_RECENT_ITEMS;
var _2c=this;
var _2d=dojo.hitch(this,function(_2e){
var _2f=this._menu._getIndexOfChild(this._recentLoading[_2a]);
if(_2f!==-1){
this.remove(_2f);
this._recentLoading[_2a]=null;
}
if(_2e.items.length===0){
this.remove(_2f-1);
}
_2e.items.reverse();
for(var i=0;i<_2e.items.length;i++){
_2c._addRecent(_2e.items[i]);
}
return _2e;
});
var _30=function(_31){
console.log("[SCM]Error fetching viewHistory: "+_31);
return _31;
};
var _32=_c.get(_2b);
_32.addCallback(_2d);
_32.addErrback(_30);
},getSelected:function(){
var _33=_7.URI_FRAGMENT_SEPARATOR+dojo.hash();
var _34=_1.getProperties(this._items);
var _35=null;
for(var i=0;i<_34.length;i++){
if(_33.indexOf(_34[i])!==-1){
_35=this._items[_34[i]];
break;
}
}
return _35;
},_addRecent:function(_36){
var _37=this._recentItems[_36.type];
var _38=this._recentHrefs[_36.type];
for(var i=0;i<_37.length;i++){
if(_38[i]===_36.data){
this._removeRecentImpl(_36.type,i);
break;
}
}
if(_37.length===_d.MAX_RECENT_ITEMS){
this._removeRecentImpl(_36.type,_37.length-1);
}
this._addRecentImpl(_36);
this._updateRecentTitleCount(_36.type,_37.length);
this.updateSelected();
},_initRecent:function(_39){
this._recentItems[_39]=[];
this._recentHrefs[_39]=[];
this._addRecentTitle(_39,_39===_d.SCM_VIEW_HISTORY_TYPE?2:1);
this._recentLoading[_39]=this.addLoading(this._getIndex(_39));
},_addRecentImpl:function(_3a){
var _3b={};
_3b.label=jazz.util.html.escape(_3a.label);
_3b.icon=_3a.iconUri;
_3b.href=_3a.data;
var _3c=this.addItemByArgs(_3b,this._getIndex(_3a.type));
this._items[_3a.data]=_3c;
this._recentItems[_3a.type].unshift(_3c);
this._recentHrefs[_3a.type].unshift(_3a.data);
},_removeRecentImpl:function(_3d,_3e){
var _3f=this._recentHrefs[_3d];
var _40=_3f[_3e];
var _41=this._recentItems[_3d];
var _42=_41[_3e];
this.remove(_42);
_42.destroy(true);
delete this._items[_40];
_41.splice(_3e,1);
_3f.splice(_3e,1);
},destroy:function(_43){
for(var i=0;i<this._staticItems.length;i++){
this._staticItems[i].destroy(_43);
this._staticItems[i]=null;
}
var _44=this._recentTitle[_d.SCM_VIEW_HISTORY_TYPE];
if(_44!==undefined){
_44.destroy(_43);
}
_44=this._recentTitle[_d.SCM_FILES_FOLDERS_VIEW_HISTORY_TYPE];
if(_44!==undefined){
_44.destroy(_43);
}
var _45=this._recentItems[_d.SCM_VIEW_HISTORY_TYPE];
for(var i=0;i<_45.length;i++){
_45[i].destroy(_43);
}
_45=this._recentItems[_d.SCM_FILES_FOLDERS_VIEW_HISTORY_TYPE];
for(var i=0;i<_45.length;i++){
_45[i].destroy(_43);
}
this.clear();
this.inherited("destroy",arguments,[false]);
}});
_d.messages=_8.messages;
_d.MAX_RECENT_ITEMS=10;
_d.SCM_VIEW_HISTORY_TYPE="com.ibm.team.scm";
_d.SCM_FILES_FOLDERS_VIEW_HISTORY_TYPE="com.ibm.team.scm.filesFolders";
_d._staticItemsCount=0;
})();


;dojo.provide("com.ibm.team.repository.web.client.internal.AdminClient");
















(function(){
var _1=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _2=com.ibm.team.repository.web.client.init.InitializationData;
var _3="getAllRoles";
var _4="getContributors";
var _5="getUserRegistryInfo";
var _6="getContributorByUUID";
var _7="postContributor";
var _8="postMultipleNewContributors";
var _9="postUserPassword";
var _a="postArchiveUser";
var _b="postRemoveAdminRoles";
var _c="postResetPassword";
var _d="postSendTestEmail";
var _e="X-com-ibm-team-repository-web-auth-msg";
var _f="JazzFormAuth";
com.ibm.team.repository.web.client.internal.AdminClient={SERVICE_URI:"com.ibm.team.repository.service.internal.IAdminRestService",postContributor:function(_10,_11){
_12._invokeRepositoryService(_11,_7,_10);
},postMultipleNewContributors:function(_13,_14){
_12._invokeRepositoryService(_14,_8,_13);
},postArchiveUser:function(_15,_16){
_12._invokeRepositoryService(_16,_a,_15);
},postRemoveAdminRoles:function(_17){
_12._invokeRepositoryService(_17,_b);
},getAllRoles:function(_18){
_12._invokeRepositoryService(_18,_3);
},getContributorByUUID:function(_19,_1a){
_12._invokeRepositoryService(_1a,_6,_19);
},changeUserPassword:function(_1b,_1c){
_12._invokeRepositoryService(_1c,_9,_1b);
},postResetPassword:function(_1d,_1e){
_12._invokeRepositoryService(_1e,_c,_1d);
},postSendTestEmail:function(_1f,_20){
_12._invokeRepositoryService(_20,_d,_1f);
},getUserRegistryInfo:function(_21){
_12._invokeRepositoryService(_21,_5);
},getContributors:function(_22,_23){
if(!_22.isLicenseSearch){
if(!_22.searchTerm){
_22.searchTerm="%";
}else{
var w1=_22.searchTerm.indexOf("%");
var w2=_22.searchTerm.indexOf("_");
var _24=(w1>-1||w2>-1);
if(!_24){
_22.searchTerm="%"+_22.searchTerm;
}
_22.searchTerm=_22.searchTerm.replace(" ","% ");
_22.searchTerm+="%";
}
}
if(_22.pageSize==null){
_22.pageSize=50;
}
if(_22.pageNum==null){
_22.pageNum=0;
}
if(_22.filterOutUsers!=null&&_22.filterOutUsers.length>0){
_22.filterOutUsers=dojo.toJson(_22.filterOutUsers);
}
_12._invokeRepositoryService(_23,_4,_22);
},_invokeRepositoryService:function(_25,_26,_27){
if(arguments.length==2){
var _28=new com.ibm.team.repository.web.transport.ServiceRequest(_12.SERVICE_URI,_26);
}else{
_28=new com.ibm.team.repository.web.transport.ServiceRequest(_12.SERVICE_URI,_26,_27);
}
com.ibm.team.repository.web.transport.TeamServerClient.invokeService(_28,_25);
},getSimpleLogin:function(_29){
var _2a={url:net.jazz.ajax.contextRoot()+"/auth/whoami",content:{},handleAs:"text",headers:{"X-com-ibm-team-configuration-versions":"LATEST","X-Jazz-CSRF-Prevent":dojo.cookie("JSESSIONID")},handle:dojo.hitch(this,function(_2b,_2c){
if(_2b instanceof Error){
var _2d={status:_2c.xhr.status};
_2d.message=dojo.trim(unescape(_2c.xhr.statusText).replace(/\+/g," ").replace(/^(-*)/g,""));
_29.doErrorCallback(_2d);
}else{
var _2e=dojo.create("div",{innerHTML:_2c.xhr.responseText});
var _2f=_2e.getElementsByTagName("div")[0].innerHTML||"";
_2f=_2f.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">");
_29.doCallback(_2f);
}
})};
jazz.client.xhrGet(_2a);
},getUserRoles:function(_30){
var _31={url:net.jazz.ajax.contextRoot()+"/authenticated/identity",content:{},handleAs:"text",headers:{"X-com-ibm-team-configuration-versions":"LATEST","X-Jazz-CSRF-Prevent":dojo.cookie("JSESSIONID")},handle:dojo.hitch(this,function(_32,_33){
if(_32 instanceof Error){
var _34={status:_33.xhr.status};
_34.message=dojo.trim(unescape(_33.xhr.statusText).replace(/\+/g," ").replace(/^(-*)/g,""));
_30.doErrorCallback(_34);
}else{
try{
var _35=dojo.fromJson(_33.xhr.responseText||_33.xhr.response);
_30.doCallback(_35);
}
catch(e){
}
}
})};
jazz.client.xhrGet(_31);
},getLpaStatus:function(_36){
var _37={url:net.jazz.ajax.contextRoot()+"/service/com.ibm.team.lpa.common.services.ILifecycleProjectAdminInitService",content:{},handleAs:"json",headers:{"X-com-ibm-team-configuration-versions":"LATEST","X-Jazz-CSRF-Prevent":dojo.cookie("JSESSIONID")},handle:dojo.hitch(this,function(_38,_39){
if(_38 instanceof Error){
_36(null);
}else{
var _3a=_38["CONFIGURATION_STATE"];
if(_3a){
_36(_3a.currentState);
}else{
_36(null);
}
}
})};
jazz.client.xhrGet(_37);
}};
var _12=com.ibm.team.repository.web.client.internal.AdminClient;
})();


;dojo.provide("com.ibm.team.scm.web.ui.internal.view.search.ScmSearchProvider");














dojo.requireLocalization("com.ibm.team.scm.web.internal","Messages");
(function(){
var _1="stream";
var _2="workspace";
var _3="snapshot";
var _4="baseline";
var _5="component";
var _6="changeSet";
var _7="lock";
var _8=25;
var _9=dojo.i18n.getLocalization("com.ibm.team.scm.web.internal","Messages");
var _a=com.ibm.team.repository.web.client.internal.AdminClient;
var _b=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _c=com.ibm.team.scm.web.client.util;
var _d=dojox.html.entities;
var _e=50;
dojo.declare("com.ibm.team.scm.web.ui.internal.view.search.ScmSearchProvider",[jazz.ui._SearchProvider],{scopes:[{id:_1,label:_9.Search_scope_streams,icon:dojo.moduleUrl("com.ibm.team.scm.web","graphics/icons/streams-searchscope_obj.png?etag=d2KNAYY"),defaultText:_9.Search_streams_text,tooltip:_9.Search_streams_tooltip},{id:_2,label:_9.Search_scope_workspaces,icon:dojo.moduleUrl("com.ibm.team.scm.web","graphics/icons/workspaces-searchscope_obj.png?etag=d2KNAYY"),defaultText:_9.Search_workspaces_text,tooltip:_9.Search_workspaces_tooltip},{id:_3,label:_9.Search_scope_snapshots,icon:dojo.moduleUrl("com.ibm.team.scm.web","graphics/icons/snapshots-searchscope_obj.png?etag=d2KNAYY"),defaultText:_9.Search_snapshots_text,tooltip:_9.Search_snapshots_tooltip}],onUpdate:function(_f){
if(!_f||!_f.scope||!_f.query){
return;
}
var url=_c.computeOslcScmQueryUrlWithQueryString(_f.query,_f.scope,null,null,null,null,_8);
var _10=_c.computeOslcScmQueryPropertyRequest(_f.scope);
var dfd=jazz.client.xhrPost({url:url,handleAs:"json",headers:{"X-Method-Override":"REPORT"},postData:dojo.toJson(_10)});
dfd.addCallback(dojo.hitch(this,this._handleQueryResponse,_f));
dfd.addErrback(dojo.hitch(this,this._handleQueryError,_f));
},onExecute:function(_11){
if(_11&&_11.query&&_11.scope){
var _12=_11.query.replace(new RegExp("'/g"),"");
var _13=dojo.trim(_12);
window.location.href=_c.getRunSearchURI(null,_11.scope,_13);
}
},_handleQueryResponse:function(_14,_15){
if(!_14.callback){
return;
}
if(_15){
var _16=_15["jazz_scm:results"];
if(_16){
if(_14.scope==_1){
_14.callback(this._createStreamsResults(_16,_14.maxResults));
}else{
if(_14.scope==_2){
_14.callback(this._createWorkspacesResults(_16,_14.maxResults));
}else{
if(_14.scope==_3){
_14.callback(this._createSnapshotsResults(_16,_14.maxResults));
}
}
}
}
}else{
_14.callback([]);
}
},_handleQueryError:function(_17,_18){
_17.callback([]);
},_createStreamsResults:function(_19,_1a){
var _1b=[];
for(var i in _19){
if(i>=_1a){
break;
}
var _1c={label:_d.encode(_19[i]["dcterms:name"]),icon:_c.getIconSrc(_c.STREAM).imageLocation,uri:_c.getBrowseStreamURI(_19[i]["jazz_scm:itemId"])};
_1b.push(_1c);
}
return {paging:false,totalResults:_19.length,results:_1b};
},_createWorkspacesResults:function(_1d,_1e){
var _1f=[];
for(var i in _1d){
if(i>=_1e){
break;
}
var wsp={label:_d.encode(_1d[i]["dcterms:name"]),icon:_c.getIconSrc(_c.WORKSPACE).imageLocation,uri:_c.getBrowseWorkspaceURI(_1d[i]["jazz_scm:itemId"])};
_1f.push(wsp);
}
return {paging:false,totalResults:_1d.length,results:_1f};
},_createSnapshotsResults:function(_20,_21){
var _22=[];
for(var i in _20){
if(i>=_21){
break;
}
var sn=_20[i];
var _23=sn["jazz_scm:itemId"];
var _24=sn["jazz_scm:owner"];
var _25=_24?_24["jazz_scm:itemId"]:null;
var _26=_24?_24["jazz_scm:itemType"]:null;
var _27={label:_d.encode(sn["dcterms:name"]),icon:_c.getIconSrc(_c.SNAPSHOT).imageLocation,uri:_c.getBrowseSnapshotURI(_23,_25,_26)};
_22.push(_27);
}
return {paging:false,totalResults:_20.length,results:_22};
}});
})();


;dojo.provide("com.ibm.team.workitem.web.ui.internal.page.LazyWorkItemsComponentMenu");


(function(){
var _1=com.ibm.team.rtc.foundation.web.ui.componentmenu.LazyLoadedComponentMenu;
dojo.declare("com.ibm.team.workitem.web.ui.internal.page.LazyWorkItemsComponentMenu",_1,{getWrappedType:function(){
return "com.ibm.team.workitem.web.ui.internal.page.WorkItemsComponentMenu";
}});
})();


;dojo.provide("com.ibm.team.workitem.api.common.WorkItemAttributes");


(function(){
var _1=com.ibm.jdojo.lang.Runtime;
_1.declareInterface("com.ibm.team.workitem.api.common.WorkItemAttributes",{SEVERITY:"internalSeverity",PRIORITY:"internalPriority",FOUND_IN:"foundIn",ID:"id",TYPE:"workItemType",PROJECT_AREA:"projectArea",SUMMARY:"summary",STATE:"internalState",CREATOR:"creator",OWNER:"owner",DESCRIPTION:"description",CREATION_DATE:"creationDate",RESOLUTION:"internalResolution",DUE_DATE:"dueDate",ESTIMATE:"duration",CORRECTED_ESTIMATE:"correctedEstimate",TIME_SPENT:"timeSpent",FILED_AGAINST:"category",PLANNED_FOR:"target",RESOLVER:"resolver",RESOLUTION_DATE:"resolutionDate",TAGS:"internalTags",MODIFIED:"modified",MODIFIED_BY:"modifiedBy"});
})();

dojo.provide("com.ibm.team.workitem.web.client.internal.query.nls.Messages")._built=true;
dojo.provide("com.ibm.team.workitem.web.client.internal.query.nls.Messages.en_us");
com.ibm.team.workitem.web.client.internal.query.nls.Messages.en_us={"WARN_DISCARD_CHANGES":"Warning: Proceeding with the \'${0}\' action will discard unsaved changes to query \'${1}\'","RENAME_TAG_LABEL":"Rename tag","DELETE_TAG_LABEL":"Delete tag","ADD_TAGS_LABEL":"Add tags","RUN_QUERY_EXTERNAL_LABEL":"Open query in new tab","PREDEFINED_QUERIES":"Predefined","LIFECYCLE_QUERIES":"Lifecycle queries","UNTAGGED_QUERIES":"Untagged queries","OPERATOR_AND":"AND","REMOVE_TAG_LABEL":"Remove tag \'${0}\'","REMOVE_TAG_PLACEHOLDER_LABEL":"Remove tag","ACTIONS_LABEL":"Actions","OPERATOR_OR":"OR"};

;dojo.provide("com.ibm.team.workitem.web.client.internal.query.Operator");


dojo.requireLocalization("com.ibm.team.workitem.web.client.internal.query","Messages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.workitem.web.client.internal.query","Messages");
var _2=dojo.declare("com.ibm.team.workitem.web.client.internal.query.Operator",null,{"-chains-":{constructor:"manual"},_arity:0,constructor:function(id,_3){
this._id=id;
this._label=_3;
},getId:function(){
return this._id;
},getLabel:function(){
return this._label;
},setArity:function(_4){
this._arity=_4;
},getArity:function(){
return this._arity;
},createDTO:function(){
var _5={};
if(this._id!=null){
_5.id=this._id;
}
if(this._label!=null){
_5.label=this._label;
}
_5.arity=this._arity;
return _5;
}});
_2.IS_OPERATOR="is";
_2.IS_NOT_OPERATOR="is not";
_2.OR=new _2("OR",_1.OPERATOR_OR);
_2.AND=new _2("AND",_1.OPERATOR_AND);
_2.createFromDTO=function(_6){
var _7=new _2(_6.id,_6.label);
_7._arity=_6.arity;
return _7;
};
_2.createFromId=function(_8){
if((_2.OR.getId()===_8)){
return _2.OR;
}
if((_2.AND.getId()===_8)){
return _2.AND;
}
return new _2(_8,_8);
};
_2.createDTOs=function(_9){
if(_9==null){
return null;
}
var _a=new Array(_9.length);
for(var i=0;i<_a.length;i++){
_a[i]=_9[i].createDTO();
}
return _a;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.UIItem");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.client.internal.query.UIItem",null,{"-chains-":{constructor:"manual"},constructor:function(id,_2,_3){
this._id=id;
this._label=_2!==undefined?_2:null;
this._arguments=_3!==undefined?_3:null;
},getId:function(){
return this._id;
},getArguments:function(){
return this._arguments;
},setName:function(_4){
this._name=_4;
},getName:function(){
return this._name;
},setItemType:function(_5){
this._itemType=_5;
},getItemType:function(){
return this._itemType;
},setLabel:function(_6){
this._label=_6;
},getLabel:function(){
return this._label;
},createDTO:function(){
var _7={};
if(this._id!=null){
_7.id=this._id;
}
if(this._name!=null){
_7.name=this._name;
}
if(this._label!=null){
_7.label=this._label;
}
if(this._arguments!=null){
_7.arguments=this._arguments;
}
if(this._itemType!=null){
_7.itemType=this._itemType;
}
return _7;
}});
_1.createFromDTO=function(_8){
if(_8==null){
return null;
}
var _9=new _1(_8.id,_8.label,_8.arguments);
_9._name=_8.name;
_9._itemType=_8.itemType;
return _9;
};
_1.createFromIds=function(_a){
var _b=[];
if(_a!=null){
var _c=_a;
var _d=_c.length;
for(var _e=0;_e<_d;_e++){
var _f=_c[_e];
_b.push(new _1(_f));
}
}
return _b;
};
_1.createDTOs=function(_10){
var _11=[];
if(_10!=null&&_10.length>0){
var _12=_10;
var _13=_12.length;
for(var _14=0;_14<_13;_14++){
var cur=_12[_14];
_11.push(cur.createDTO());
}
}
return _11;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.Variable");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.client.internal.query.Variable",null,{"-chains-":{constructor:"manual"},constructor:function(id,_2,_3){
this._id=id;
this._arguments=_2;
this._name=_3===undefined?null:_3==null?null:_3;
},getId:function(){
return this._id;
},getName:function(){
return this._name;
},setArguments:function(_4){
this._arguments=_4;
},getArguments:function(){
return this._arguments;
},setLabel:function(_5){
this._label=_5;
},getLabel:function(){
return this._label;
},serialize:function(_6){
return dojo.toJson(this._createData(_6),false);
},accept:function(_7){
_7.visitVariable(this);
},createDTO:function(){
var _8={};
if(this._id!=null){
_8.id=this._id;
}
if(this._arguments!=null){
_8.arguments=this._arguments;
}
if(this._name!=null){
_8.name=this._name;
}
if(this._label!=null){
_8.label=this._label;
}
return _8;
},_createData:function(_9){
var _a={};
if(this._id!=null){
_a.id=this._id;
}
if(this._arguments!=null){
_a.arguments=this._arguments;
}
if(this._name!=null){
_a.name=this._name;
}
return _a;
}});
_1.PARAMETER_VARIABLE_ID="parameterVariable";
_1.VARIABLE_ID="variable";
_1._knownVariableNames=[];
_1.createFromDTO=function(_b){
if(_b==null){
return null;
}
var _c=(_b["name"]!=null&&_b.name!=null)?_b.name:null;
if(_c!=null){
_1._knownVariableNames.push(_c);
}
var _d=new _1(_b.id,_b.arguments,_c);
_d._label=_b.label;
return _d;
};
_1.createNamedVariable=function(id,_e){
if(_e!=null){
_1._knownVariableNames.push(_e);
}
var _f=new _1(id,null,_e);
return _f;
};
_1.createNewNamedVariable=function(id,_10){
var _11=_1._createUniqueName(_10);
var _12=new _1(id,null,_11);
return _12;
};
_1.createDTOs=function(_13){
var _14=[];
if(_13!=null&&_13.length>0){
var _15=_13;
var _16=_15.length;
for(var _17=0;_17<_16;_17++){
var cur=_15[_17];
_14.push(cur.createDTO());
}
}
return _14;
};
_1._createFromData=function(_18){
if(_18==null){
return null;
}
var _19;
var id=_18["id"];
var _1a=_18["name"];
var _1b=_18["attributeId"];
var _1c=_18["arguments"];
if(_1a!=null){
_19=_1.createNamedVariable(id,_1a);
_19.setArguments(_1c);
}else{
_19=new _1(id,_1c);
}
return _19;
};
_1._createUniqueName=function(_1d){
var _1e=_1d+_1._knownVariableNames.length+1;
_1._knownVariableNames.push(_1e);
return _1e;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.AttributeExpression");






(function(){
var _1=com.ibm.team.workitem.web.client.internal.query;
var _2=_1.Operator;
var _3=_1.UIItem;
var _4=_1.Variable;
var _5=dojo.declare("com.ibm.team.workitem.web.client.internal.query.AttributeExpression",null,{"-chains-":{constructor:"manual"},constructor:function(_6,_7,_8){
this._attributeId=_6;
this._operator=_7;
this._values=_8!=null?_8:[];
this._variables=[];
},serialize:function(_9){
return dojo.toJson(this._createData(_9),false);
},getOperator:function(){
return this._operator;
},getAttributeId:function(){
return this._attributeId;
},getValues:function(){
return this._values;
},setValues:function(_a){
this._values=_a;
},getVariables:function(_b){
if(_b){
return this._variables;
}else{
var _c=[];
var _d=this._variables;
var _e=_d.length;
for(var _f=0;_f<_e;_f++){
var _10=_d[_f];
if(!(_4.PARAMETER_VARIABLE_ID===_10.getId())){
_c.push(_10);
}
}
return _c;
}
},setVariables:function(_11){
if(_11!=null){
for(var idx=0;idx<_11.length;idx++){
this._variables.push(_11[idx]);
}
}
},accept:function(_12){
_12.visitAttributeExpression(this);
},createDTO:function(){
var _13={};
_13.id=this._attributeId;
var _14={};
_14.attribute=_13;
if(this._operator!=null){
_14.operator=this._operator.createDTO();
}
if(this._values!=null){
_14.values=this._createValueDTOs(this._values);
}
if(this._variables!=null){
_14.variables=this._createVariableDTOs(this._variables);
}
return _14;
},createExpressionDTO:function(){
var _15={};
if(this._attributeId!=null){
_15.attribute=new _3(this._attributeId).createDTO();
}
if(this._operator!=null){
var op=new _3(this._operator.getId());
op.setLabel(this._operator.getLabel());
_15.operator=op.createDTO();
}
if(this._values!=null){
_15.values=[];
var _16=this._values;
var _17=_16.length;
for(var _18=0;_18<_17;_18++){
var _19=_16[_18];
_15.values.push(_19.createDTO());
}
}
if(this._variables!=null){
if(_15.values==null){
_15.values=[];
}
var _1a=this._variables;
var _1b=_1a.length;
for(var _1c=0;_1c<_1b;_1c++){
var _1d=_1a[_1c];
var _1e=new _3(_1d.getId(),null,_1d.getArguments());
_1e.setName(_1d.getName());
_1e.setItemType(_4.VARIABLE_ID);
_15.values.push(_1e.createDTO());
}
}
return _15;
},_createData:function(_1f){
var _20={};
if(this._attributeId!=null){
_20.attributeId=this._attributeId;
}
if(this._operator!=null){
_20.operator=this._operator.getId();
}
if(this._values!=null&&(this._values.length>0||!_1f)){
_20.values=this._createValues(this._values);
}
if(this._variables!=null&&(this._variables.length>0||!_1f)){
_20.variables=[];
for(var idx=0;idx<this._variables.length;idx++){
var cur=this._variables[idx];
_20.variables.push(cur._createData(_1f));
}
}
return _20;
},_createValues:function(_21){
var _22=[];
var _23=_21;
var _24=_23.length;
for(var _25=0;_25<_24;_25++){
var cur=_23[_25];
_22.push(cur.getId());
}
return _22;
},_createVariableDTOs:function(_26){
var _27=new Array(_26.length);
for(var idx=0;idx<_26.length;idx++){
_27[idx]=_26[idx].createDTO();
}
return _27;
},_createValueDTOs:function(_28){
var _29=[];
for(var idx=0;idx<_28.length;idx++){
_29.push(_28[idx].createDTO());
}
return _29;
}});
_5.createFromDTO=function(_2a){
if(_2a==null){
return null;
}
var _2b=null;
var _2c=null;
if(_2a.values!=null){
_2b=[];
var _2d=_2a.values;
var _2e=_2d.length;
for(var _2f=0;_2f<_2e;_2f++){
var _30=_2d[_2f];
_2b.push(_3.createFromDTO(_30));
}
}
if(_2a.variables!=null){
_2c=[];
var _31=_2a.variables;
var _32=_31.length;
for(var _33=0;_33<_32;_33++){
var _34=_31[_33];
var _35=_4.createFromDTO(_34);
_35.setArguments(_34.arguments);
_2c.push(_35);
}
}
var _36=new _5(_2a.attribute.id,_2a.operator!=null?_2.createFromDTO(_2a.operator):null,_2b);
_36.setVariables(_2c);
return _36;
};
_5.createFromExpressionDTO=function(_37){
if(_37==null){
return null;
}
var _38=[];
var _39=[];
if(_37.values!=null){
var _3a=_37.values;
var _3b=_3a.length;
for(var _3c=0;_3c<_3b;_3c++){
var cur=_3a[_3c];
if((_4.VARIABLE_ID===cur.itemType)){
var _3d=(cur["name"]!=null&&cur.name!=null)?cur.name:null;
var _3e;
if(_3d!=null){
_3e=_4.createNamedVariable(cur.id,_3d);
}else{
_3e=new _4(cur.id,null);
}
_3e.setArguments(cur.arguments);
_3e.setLabel(cur.label);
_39.push(_3e);
}else{
_38.push(_3.createFromDTO(cur));
}
}
}
var _3f=new _5(_37.attribute.id,new _2(_37.operator.id,_37.operator.label),_38);
_3f.setVariables(_39);
return _3f;
};
_5._createFromData=function(_40){
if(_40==null){
return null;
}
var _41=null;
if(_40.values!=null){
_41=[];
var _42=_40.values;
var _43=_42.length;
for(var _44=0;_44<_43;_44++){
var _45=_42[_44];
_41.push(new _3(_45));
}
}
var _46=null;
if(_40.variables!=null){
_46=[];
var _47=_40.variables;
var _48=_47.length;
for(var _49=0;_49<_48;_49++){
var _4a=_47[_49];
_46.push(_4._createFromData(_4a));
}
}
var _4b=new _5(_40.attributeId,_2.createFromId(_40.operator),_41);
_4b.setVariables(_46);
return _4b;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.SimilarityExpression");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.client.internal.query.SimilarityExpression",null,{"-chains-":{constructor:"manual"},constructor:function(){
this._summary="";
this._content="";
},setWorkItem:function(_2){
this._itemId=_2!=null?_2:"";
},setContent:function(_3,_4){
this._summary=_3!=null?_3:"";
this._content=_4!=null?_4:"";
},serialize:function(_5){
return dojo.toJson(this._createData(_5),false);
},accept:function(_6){
_6.visitSimilarityExpression(this);
},_createData:function(_7){
var _8={};
if(this._content!=null){
_8.content=this._content;
}
if(this._summary!=null){
_8.summary=this._summary;
}
if(this._itemId!=null){
_8.itemId=this._itemId;
}
return _8;
},createDTO:function(){
var _9={};
if(this._content!=null){
_9.content=this._content;
}
if(this._summary!=null){
_9.summary=this._summary;
}
if(this._itemId!=null){
_9.itemId=this._itemId;
}
return _9;
},getItemId:function(){
return this._itemId;
}});
_1.createFromDTO=function(_a){
if(_a==null){
return null;
}
var _b=new _1();
_b._itemId=_a["itemId"];
_b._summary=_a["summary"];
_b._content=_a["content"];
return _b;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.ExpressionVisitor");
(function(){
dojo.declare("com.ibm.team.workitem.web.client.internal.query.ExpressionVisitor",null,{"-chains-":{constructor:"manual"},visitAttributeExpression:function(_1){
return true;
},visitSimilarityExpression:function(_2){
return true;
},visitTerm:function(_3){
return true;
},visitVariable:function(_4){
return true;
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.ParameterVariableCollector");






(function(){
var _1=com.ibm.jdojo.lang.Runtime;
var _2=com.ibm.team.workitem.web.client.internal.query;
var _3=_2.ExpressionVisitor;
var _4=_2.Variable;
dojo.declare("com.ibm.team.workitem.web.client.internal.query.ParameterVariableCollector",_3,{constructor:function(){
this.inherited(arguments,[]);
this._result={};
},getParameterVariables:function(){
return this._result;
},hasParameterVariables:function(){
return _1.getProperties(this._result).length>0;
},visitTerm:function(_5){
var _6=_5.getTerms();
var _7=_5.getAttributeExpressions();
if(_6!=null){
for(var _8=0;_8<_6.length;_8++){
_6[_8].accept(this);
}
}
if(_7!=null){
for(var _8=0;_8<_7.length;_8++){
_7[_8].accept(this);
}
}
return this.inherited("visitTerm",arguments,[_5]);
},visitAttributeExpression:function(_9){
var _a=_9.getVariables(true);
if(_a!=null){
for(var _b=0;_b<_a.length;_b++){
var _c=_a[_b];
if((_4.PARAMETER_VARIABLE_ID===_c.getId())){
this._result[_c.getName()]=_9;
}
}
}
return this.inherited("visitAttributeExpression",arguments,[_9]);
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.SortCriteria");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.client.internal.query.SortCriteria",null,{"-chains-":{constructor:"manual"},createSortCriteriaDTO:function(){
var _2={};
_2.attributeId=this._attributeId;
_2.attributeLabel=this._attributeLabel;
_2.isAscending=this._isAscending;
return _2;
},isAscending:function(){
return this._isAscending;
},setIsAscending:function(_3){
this._isAscending=_3;
},getAttributeId:function(){
return this._attributeId;
},setAttributeLabel:function(_4){
this._attributeLabel=_4;
},getAttributeLabel:function(){
return this._attributeLabel;
},getDirection:function(){
return this.isAscending()?_1.ASCENDING:_1.DESCENDING;
}});
_1.ASCENDING="ascending";
_1.DESCENDING="descending";
_1.create=function(_5,_6){
var _7=new _1();
_7._attributeId=_5;
_7._isAscending=_6;
return _7;
};
_1.createWithLabel=function(_8,_9,_a){
var _b=_1.create(_8,_9);
_b._attributeLabel=_a;
return _b;
};
_1.createFromDto=function(_c){
var _d=new _1();
_d._attributeId=_c.attributeId;
_d._attributeLabel=_c.attributeLabel;
_d._isAscending=_c.isAscending;
return _d;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.Term");






(function(){
var _1=com.ibm.team.workitem.web.client.internal.query;
var _2=_1.AttributeExpression;
var _3=_1.Operator;
var _4=_1.SimilarityExpression;
var _5=dojo.declare("com.ibm.team.workitem.web.client.internal.query.Term",null,{"-chains-":{constructor:"manual"},constructor:function(_6){
this._attributeExpressions=[];
this._termExpressions=[];
this._similarityExpressions=[];
this.setOperator(_6);
},serialize:function(_7){
return dojo.toJson(this._createData(_7),false);
},setOperator:function(_8){
this._operator=_8;
},getOperator:function(){
return this._operator;
},addTerm:function(_9){
this._termExpressions.push(_9);
},getTerms:function(){
return this._termExpressions;
},addAttributeExpression:function(_a){
this._attributeExpressions.push(_a);
},getAttributeExpressions:function(){
return this._attributeExpressions;
},addSimilarityExpression:function(_b){
this._similarityExpressions.push(_b);
},getFirstSimilarityExpression:function(){
if(this._similarityExpressions==null||this._similarityExpressions.length===0){
return null;
}
return this._similarityExpressions[0];
},accept:function(_c){
_c.visitTerm(this);
},createDTO:function(){
var _d={};
_d.operator=this._operator.getId();
if(this._attributeExpressions!=null){
_d.attributeExpressions=[];
var _e=this._attributeExpressions;
var _f=_e.length;
for(var _10=0;_10<_f;_10++){
var _11=_e[_10];
_d.attributeExpressions.push(_11.createDTO());
}
}
if(this._similarityExpressions!=null){
_d.similarityExpressions=[];
var _12=this._similarityExpressions;
var _13=_12.length;
for(var _14=0;_14<_13;_14++){
var _11=_12[_14];
_d.similarityExpressions.push(_11.createDTO());
}
}
if(this._termExpressions!=null){
_d.termExpressions=[];
var _15=this._termExpressions;
var _16=_15.length;
for(var _17=0;_17<_16;_17++){
var _18=_15[_17];
_d.termExpressions.push(_18.createDTO());
}
}
return _d;
},createExpressionDTOs:function(){
var _19=[];
if(this._attributeExpressions!=null){
var _1a=this._attributeExpressions;
var _1b=_1a.length;
for(var _1c=0;_1c<_1b;_1c++){
var _1d=_1a[_1c];
_19.push(_1d.createExpressionDTO());
}
}
if(this._termExpressions!=null){
var _1e=this._termExpressions;
var _1f=_1e.length;
for(var _20=0;_20<_1f;_20++){
var _21=_1e[_20];
_19.push(_21._createExpressionDTO());
}
}
return _19;
},_createExpressionDTO:function(){
return null;
},_createData:function(_22){
var _23={};
_23.operator=this._operator.getId();
if(this._attributeExpressions!=null&&(this._attributeExpressions.length>0||!_22)){
_23.attributeExpressions=[];
for(var idx=0;idx<this._attributeExpressions.length;idx++){
_23.attributeExpressions.push(this._attributeExpressions[idx]._createData(_22));
}
}
if(this._termExpressions!=null&&(this._termExpressions.length>0||!_22)){
_23.termExpressions=[];
for(var idx=0;idx<this._termExpressions.length;idx++){
_23.termExpressions.push(this._termExpressions[idx]._createData(_22));
}
}
if(this._similarityExpressions!=null&&(this._similarityExpressions.length>0||!_22)){
_23.similarityExpressions=[];
for(var idx=0;idx<this._similarityExpressions.length;idx++){
_23.similarityExpressions.push(this._similarityExpressions[idx]._createData(_22));
}
}
return _23;
}});
_5.AND="AND";
_5.OR="OR";
_5.createFromDTO=function(dto){
var _24=null;
if(dto!=null){
_24=_5.createFromOperator(dto.operator);
if(dto.attributeExpressions!=null){
_24._attributeExpressions=[];
var _25=dto.attributeExpressions;
var _26=_25.length;
for(var _27=0;_27<_26;_27++){
var _28=_25[_27];
_24._attributeExpressions.push(_2.createFromDTO(_28));
}
}
if(dto.similarityExpressions!=null){
_24._similarityExpressions=[];
var _29=dto.similarityExpressions;
var _2a=_29.length;
for(var _2b=0;_2b<_2a;_2b++){
var _28=_29[_2b];
_24._similarityExpressions.push(_4.createFromDTO(_28));
}
}
if(dto.termExpressions!=null){
_24._termExpressions=[];
var _2c=dto.termExpressions;
var _2d=_2c.length;
for(var _2e=0;_2e<_2d;_2e++){
var _2f=_2c[_2e];
_24._termExpressions.push(_5.createFromDTO(_2f));
}
}
}
return _24;
};
_5.createFromExpressionDTOs=function(_30){
var _31=new _5(_3.AND);
var _32=_30;
var _33=_32.length;
for(var _34=0;_34<_33;_34++){
var cur=_32[_34];
if(cur.attribute!=null){
_31.addAttributeExpression(_2.createFromExpressionDTO(cur));
}
}
return _31;
};
_5.createFromOperator=function(_35){
var _36=(_3.OR.getId()===_35)?_3.OR:_3.AND;
return new _5(_36);
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.query.QueryDescriptor");










(function(){
var _1=com.ibm.jdojo.lang.Runtime;
var _2=com.ibm.team.workitem.web.client.internal.query;
var _3=_2.ParameterVariableCollector;
var _4=_2.SortCriteria;
var _5=_2.Term;
var _6=_2.UIItem;
var _7=dojo.declare("com.ibm.team.workitem.web.client.internal.query.QueryDescriptor",null,{"-chains-":{constructor:"manual"},constructor:function(){
this._currentCount=1;
},setItemId:function(_8){
this._itemId=_8;
},getDefinedItemId:function(){
return this._itemId;
},getItemId:function(){
if(this._itemId==null||this._itemId===""){
if(this._term!=null){
var _9=this._term.getFirstSimilarityExpression();
if(_9!=null){
return _9.getItemId();
}else{
var _a=this._term.getAttributeExpressions();
if(_a!=null&&_a.length>0&&_a[0].getAttributeId()==="all"){
var _b=_a[0].getValues();
if(_b!=null&&_b.length>0){
var id=_b[0].getId();
if(id!=null){
return "Search:"+id;
}
}
}
if(this.getCacheItemId()!=null){
return this.getCacheItemId();
}
if(this.getName()!=null){
return this.getName();
}
}
}
}
return this._itemId;
},setName:function(_c){
this._name=_c;
},getName:function(){
return this._name;
},getTags:function(){
return this._tags;
},getPersonalTags:function(){
return this._personalTags;
},getSharedTags:function(){
return this._sharedTags;
},getOutputFormatting:function(){
return this._outputFormatting;
},setOutputFormatting:function(_d){
this._outputFormatting=_d;
},getDescription:function(){
return this._description;
},setStateId:function(_e){
this._stateId=_e;
},getStateId:function(){
return this._stateId;
},isEditable:function(){
return this._isEditable;
},setTerm:function(_f){
this._term=_f;
},getTerm:function(){
return this._term;
},getOwner:function(){
return this._owner;
},setProjectArea:function(_10){
this._projectAreaId=_10;
},getProjectArea:function(){
return this._projectAreaId;
},supportsCsvExport:function(){
return this._csvExportLink!=null;
},supportsHtmlExport:function(){
return this._htmlExportLink!=null;
},getCsvExportLink:function(_11){
return this.addParametersToUrl(this._csvExportLink,_11);
},getHtmlExportLink:function(_12){
return this.addParametersToUrl(this._htmlExportLink,_12);
},getUserAssociations:function(){
return this._userAssociations;
},getTeamAreaAssociations:function(){
return this._teamAreaAssociations;
},getSorting:function(){
return this._sorting;
},getSortCriterias:function(){
return this._sortCriterias;
},setSortCriterias:function(_13){
this._sortCriterias=_13;
},hasSortCriteria:function(){
var _14=this.getSortCriterias();
return (_14!=null&&_14.length>0);
},getColumns:function(){
return this._columns;
},getCurrentCount:function(){
return this._currentCount;
},addParametersToUrl:function(url,run){
if(url==null){
return null;
}
if(this._parameterValues!=null){
var _15=encodeURIComponent(this._parameterValues.serialize(true));
url+="&"+_7.PARAMETER_VALUES_PROPERTY+"="+_15;
}
if(run!=null&&run.getFilterAttribute()!=null){
var _16=run.getFilterValue();
_16=_16==null?"":_16;
url+=("&filterAttribute="+encodeURIComponent(run.getFilterAttribute())+"&filterValue="+encodeURIComponent(_16));
}
return url;
},createQueryDTO:function(){
var _17={};
if(this._name!=null){
_17.name=this._name;
}
if(this._description!=null){
_17.description=this._description;
}
if(this._itemId!=null){
_17.itemId=this._itemId;
}
if(this._term!=null){
_17.expression=this._term.createExpressionDTOs();
}
if(this._owner!=null){
_17.owner=this._owner.createDTO();
}
if(this._csvExportLink!=null){
_17.csvExportLink=this._csvExportLink;
}
if(this._htmlExportLink!=null){
_17.htmlExportLink=this._htmlExportLink;
}
if(this._currentCount!==-1){
_17.currentCount=this._currentCount;
}
_17.isEditable=this._isEditable;
if(this._projectAreaId!=null){
_17.projectAreaItemId=this._projectAreaId;
}
if(this._sharedTags!=null){
_17.sharedTags=this._sharedTags;
}
if(this._personalTags!=null){
_17.personalTags=this._personalTags;
}
if(this._outputFormatting!=null){
_17.outputFormatting=this._outputFormatting;
}
if(this._tags!=null){
_17.tags=this._tags;
}
dojo.mixin(_17,{hasParameters:this.hasParameterVariables()});
return _17;
},createEditableQueryDTO:function(){
var _18={};
if(this._name!=null){
_18.name=this._name;
}
if(this._description!=null){
_18.description=this._description;
}
if(this._itemId!=null){
_18.itemId=this._itemId;
}
if(this._stateId!=null){
_18.stateId=this._stateId;
}
if(this._term!=null){
_18.expression=this._term.createDTO();
}
if(this._owner!=null){
_18.creator=this._owner.createDTO();
}
if(this._stateId!=null){
_18.stateId=this._stateId;
}
if(this._columns!=null){
_18.columns=this._columns;
}
if(this._sorting!=null){
_18.sorting=this._sorting;
}
if(this._teamAreaAssociations!=null){
_18.teamAreaAssociations=this._teamAreaAssociations;
}
if(this._userAssociations!=null){
_18.userAssociations=this._userAssociations;
}
if(this._csvExportLink!=null){
_18.csvExportLink=this._csvExportLink;
}
if(this._htmlExportLink!=null){
_18.htmlExportLink=this._htmlExportLink;
}
if(this._projectAreaId!=null){
_18.projectAreaItemId=this._projectAreaId;
}
if(this._sharedTags!=null){
_18.sharedTags=this._sharedTags;
}
if(this._personalTags!=null){
_18.personalTags=this._personalTags;
}
if(this._outputFormatting!=null){
_18.outputFormatting=this._outputFormatting;
}
if(this._tags!=null){
_18.tags=this._tags;
}
return _18;
},hasParameterVariables:function(){
return _1.getProperties(this._findParameterVariables(true)).length>0;
},setParameterValues:function(_19){
this._parameterValues=_19;
},getParameterValues:function(){
return this._parameterValues;
},hasUnresolvedVariables:function(){
return _1.getProperties(this._findParameterVariables(false)).length>0;
},getUnresolvedVariables:function(){
return this._findParameterVariables(false);
},serialize:function(){
var dto=this.createEditableQueryDTO();
dto._cacheItemId=this._cacheItemId;
return dojo.toJson(dto,false);
},_findParameterVariables:function(_1a){
if(this._term!=null){
var _1b=new _3();
_1b.visitTerm(this._term);
var _1c;
if(_1a||this._parameterValues==null){
_1c=_1b.getParameterVariables();
}else{
_1c={};
var _1d=_1b.getParameterVariables();
var _1e=_1.getProperties(_1d);
var _1f=_1e.length;
for(var _20=0;_20<_1f;_20++){
var _21=_1e[_20];
if(!this._parameterValues.hasVariableValue(_21)){
_1c[_21]=_1d[_21];
}
}
}
return _1c;
}
return {};
},getCacheItemId:function(){
if(this._cacheItemId!=null){
return this._cacheItemId;
}
return this._itemId;
},setCacheItemId:function(_22){
this._cacheItemId=_22;
},getIsNew:function(){
return this.isNew;
},setNew:function(_23){
this.isNew=_23;
},isSearch:function(){
return this._isSearchQuery;
},getQueryRunURL:function(){
return this._queryRunUrl;
},isExportPermission:function(){
return this._isExportPermission;
}});
_7.PARAMETER_VALUES_PROPERTY="jsonParameterValues";
_7.createFromQueryDTO=function(dto){
if(dto==null){
return null;
}
var _24=new _7();
_24._itemId=dto.itemId;
_24._name=dto.name;
_24._description=dto.description;
_24._isEditable=dto.isEditable;
_24._sharedTags=dto.sharedTags;
_24._personalTags=dto.personalTags;
_24._outputFormatting=dto.outputFormatting;
_24._isExportPermission=dto.isExportPermission;
_24._tags=dto.tags;
if(dto.csvExportLink!=null){
_24._csvExportLink=dto.csvExportLink;
}
if(dto.htmlExportLink!=null){
_24._htmlExportLink=dto.htmlExportLink;
}
if(dto.expression!=null){
_24._term=_5.createFromExpressionDTOs(dto.expression);
}
if(dto.owner!=null){
_24._owner=_6.createFromDTO(dto.owner);
}
if(dto["currentCount"]!=null){
_24._currentCount=dto.currentCount;
}
if(dto.projectAreaItemId!=null){
_24._projectAreaId=dto.projectAreaItemId;
}
if(dto.sortCriterias!=null){
var _25=[];
var _26=dto.sortCriterias;
var _27=_26.length;
for(var _28=0;_28<_27;_28++){
var _29=_26[_28];
_25.push(_4.createFromDto(_29));
}
_24._sortCriterias=_25;
}
return _24;
};
_7.createFromEditableQueryDTO=function(dto){
if(dto==null){
return null;
}
var _2a=new _7();
_2a._itemId=dto.itemId;
_2a._name=dto.name;
_2a._description=dto.description;
_2a._isEditable=true;
if(dto.stateId!=null){
_2a._stateId=dto.stateId;
}
if(dto.expression!=null){
_2a._term=_5.createFromDTO(dto.expression);
}
if(dto.creator!=null){
_2a._owner=_6.createFromDTO(dto.creator);
}
if(dto.columns!=null){
_2a._columns=dto.columns;
}
if(dto.teamAreaAssociations!=null){
_2a._teamAreaAssociations=dto.teamAreaAssociations;
}
if(dto.userAssociations!=null){
_2a._userAssociations=dto.userAssociations;
}
if(dto.csvExportLink!=null){
_2a._csvExportLink=dto.csvExportLink;
}
if(dto.htmlExportLink!=null){
_2a._htmlExportLink=dto.htmlExportLink;
}
if(dto.projectAreaItemId!=null){
_2a._projectAreaId=dto.projectAreaItemId;
}
if(dto.tags!=null){
_2a._tags=dto.tags;
}
if(dto.personalTags!=null){
_2a._personalTags=dto.personalTags;
}
if(dto.sharedTags!=null){
_2a._sharedTags=dto.sharedTags;
}
if(dto.outputFormatting!=null){
_2a._outputFormatting=dto.outputFormatting;
}
if(dto.sorting!=null){
_2a._sorting=dto.sorting;
var _2b=[];
var _2c=dto.sorting;
var _2d=_2c.length;
for(var _2e=0;_2e<_2d;_2e++){
var _2f=_2c[_2e];
_2b.push(_4.createWithLabel(_2f.id,_2f.ascending,_2f.label));
}
_2a._sortCriterias=_2b;
}
return _2a;
};
_7.createFromTerm=function(_30){
if(_30==null){
return null;
}
var _31=new _7();
_31._term=_30;
return _31;
};
_7.deserialize=function(_32){
var dto=eval("("+_32+")");
var _33=_7.createFromEditableQueryDTO(dto);
_33._cacheItemId=dto._cacheItemId;
return _33;
};
})();


;(function ClientConstants(){
var _1=dojo.provide("com.ibm.team.workitem.web.client.internal.ClientConstants");
_1.CACHE_CONTROL="cache-control";
_1.NO_CACHE="no-cache, no-store, max-age=0, private";
_1.CACHE_CONTROL_HEADERS={};
_1.CACHE_CONTROL_HEADERS[_1.CACHE_CONTROL]=_1.NO_CACHE;
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.QueryClient");






























(function(){
var _1=net.jazz.ajax.toolbox.lang.checkNotNull;
var _2=net.jazz.ajax.toolbox.lang.checkNotEmpty;
var _3=com.ibm.team.workitem.api.common.WorkItemAttributes;
var _4=com.ibm.team.repository.web.transport.ServiceRequest;
var _5=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _6=com.ibm.team.repository.web.transport.TeamServerClient;
var _7="com.ibm.team.workitem.common.internal.rest.IQueryRestService";
var _8="com.ibm.team.workitem.common.internal.rest.IQueryEditorRestService";
var _9="score";
var _a="com.ibm.team.workitem.search";
var _b="com.ibm.team.workitem.workItemType";
var _c=com.ibm.team.workitem.web.client.internal.query.Term;
var _d=com.ibm.team.workitem.web.client.internal.query.UIItem;
var _e=com.ibm.team.workitem.web.client.internal.query.AttributeExpression;
var _f=com.ibm.team.workitem.web.client.internal.query.SimilarityExpression;
var _10=com.ibm.team.workitem.web.client.internal.query.QueryDescriptor;
var _11=com.ibm.team.workitem.web.client.internal.query.Operator;
var _12=com.ibm.team.workitem.web.client.internal.query.Variable;
var _13=com.ibm.team.workitem.web.client.internal.ClientConstants;
var _14=com.ibm.team.rtc.foundation.web.util.ConfigurationManagementUtil;
com.ibm.team.workitem.web.client.internal.QueryClient={SCOPE_PERSONAL:0,SCOPE_OTHER_CONTRIBUTORS:1,SCOPE_TEAM_AREA:2,SCOPE_PROJECT_AREA:3,SCOPE_CROSS_REPOSITORY:4,SCOPE_PREDEFINED:5,PROCESS_REPORT_OK:0,PROCESS_REPORT_WARNING:2,PROCESS_REPORT_ERROR:4,_invokeJsonService:function(_15,_16,_17){
var _18={};
if(_17){
var _19=dojo.toJson(_17);
_18.jsonString=_19;
_18.projectAreaItemId=jazz.app.context.get().itemId;
}
var _1a=new _4(_7,_16,_18);
_6.invokeService(_1a,_15);
},_invokeQueryService:function(_1b,_1c,_1d){
this._invokeService(_7,_1b,_1c,_1d);
},_invokeQueryEditorService:function(_1e,_1f,_20){
this._invokeService(_8,_1e,_1f,_20);
},_invokeService:function(_21,_22,_23,_24){
if(!_24){
_24={};
}
if(!_24.projectAreaItemId){
_24.projectAreaItemId=jazz.app.context.get().itemId;
}
if(navigator.userAgent.toLowerCase().search("edge")>=0){
_24.now=Date.now();
}
serviceRequest=new _4(_21,_23,_24);
var _25={headers:_13.CACHE_CONTROL_HEADERS};
_6.invokeService(serviceRequest,_22,_25);
},getQuery:function(_26,_27,_28){
if(!_27){
_27="";
}
_28=_28?true:false;
this._invokeQueryService(_26,"getQuery",{itemId:_27,includeCount:_28});
},getQuery2:function(_29,_2a){
this._invokeQueryService(_29,"getQuery",_2a);
},getQueries:function(_2b,_2c,_2d){
if(!_2c){
_2c=[];
}
_2d=_2d?true:false;
this._invokeQueryService(_2b,"getQueries",{itemIds:_2c,includeCount:_2d});
},getQueries2:function(_2e,_2f){
this._invokeQueryService(_2e,"getQueries",_2f);
},getScopedQueries:function(_30,_31,_32,_33,_34,_35,_36,_37){
_33=_33?true:false;
_34=_34?true:false;
_36=_36?true:false;
var _38={scope:_31,includeCount:_33,includeParentScopes:_34,projectAreaItemId:_35,suppressCrossRepoQueries:_36,keepPredefinedQueriesSeparate:_37};
if(_32){
_38.scopeItemId=_32;
}
this._invokeQueryService(_30,"getScopedQueries",_38);
},getScopedQueries2:function(_39,_3a){
this.getScopedQueries(_39,_3a.scope,_3a.scopeItemId,_3a.includeCount,_3a.includeParentScopes,_3a.projectAreaItemId,_3a.suppressCrossRepoQueries,_3a.keepPredefinedQueriesSeparate);
},getHistogram:function(_3b,_3c){
this._invokeQueryService(_3b,"getHistogram",_3c);
},getCompleteQuery:function(_3d,_3e,_3f){
if(!_3e){
_3e="";
}
_3f=_3f?true:false;
this._invokeQueryService(_3d,"getQuery",{itemId:_3e,includeExpression:true,includeCount:_3f});
},execute:function(_40,_41,_42,_43,_44,_45,_46){
var _47=new Object();
_47.startIndex=_40;
_47.maxResults=_41;
_47.token=_42;
_47.jsonQuery=dojo.toJson(_43);
_47.orderAttributes=_44;
_47.orderDirections=_45;
this._invokeQueryService(_46,"postExecute",_47);
},getResultSet:function(_48,_49,_4a){
var _4b=dojo.clone(_49);
var _4c=_14.getBannerDefaultConfigurationURI();
if(_4c!=null){
_4b.userSelectedConfigContext=_4c;
}
if(!_4b.columnIdentifiers){
_4b.columnIdentifiers=[];
}
if(!_4b.filterAttribute){
_4b.filterAttribute="";
}
if(!_4b.filterValue){
_4b.filterValue="";
}
if(_4b.sortOrder){
var _4d=new Array();
var _4e=new Array();
for(var i=0;i<_4b.sortOrder.length;i++){
var _4f=_4b.sortOrder[i];
_4d.push(_4f.id);
_4e.push(_4f.ascending);
}
_4b.sortColumns=_4d;
_4b.sortDirections=_4e;
if((window.location.href.indexOf(_a)!=-1||_4b.sortColumns.indexOf(_9)!=-1)&&_4b.columnIdentifiers.indexOf(_4f.id)==-1){
if(_4b.columnIdentifiers.length==0){
this.addDefaultColumnIdentifiers(_4b.columnIdentifiers);
}
_4b.columnIdentifiers.push(_9);
}
delete _4b.sortOrder;
}
if(_48){
if(_48.itemId){
_4b.itemId=_48.itemId;
}
if(_48.projectAreaItemId){
_4b.projectAreaItemId=_48.projectAreaItemId;
}
if(!_4b.jsonExpression){
if(_48.expression){
var _50=_c.createFromDTO(_48.expression);
_4b.jsonExpression=_50.serialize();
}else{
_4b.jsonQuery=dojo.toJson(_48);
}
}
}
this._invokeQueryService(_4a,"postGetResultSet",_4b);
},addDefaultColumnIdentifiers:function(_51){
_51.push(_3.TYPE);
_51.push(_3.ID);
_51.push(_3.SUMMARY);
_51.push(_3.OWNER);
_51.push(_3.STATE);
_51.push(_3.PRIORITY);
_51.push(_3.SEVERITY);
_51.push(_3.MODIFIED);
},getResults:function(_52,_53){
this._invokeQueryService(_53,"getResults",_52);
},getQueriesForOwner:function(_54,_55){
this._invokeQueryService(_55,"getQueriesForOwner",_54);
},getQueriesForOwner2:function(_56,_57){
this._invokeQueryService(_57,"getQueriesForOwner2",_56);
},getDefaultQuery:function(_58){
this._invokeQueryService(_58,"getDefaultQuery");
},deleteQuery:function(_59,_5a){
this._invokeQueryService(_5a,"postDeleteQuery",{uuid:_59});
},getWorkItemTemplates:function(_5b,_5c){
this._invokeQueryService(_5b,"getWorkItemTemplates",_5c);
},getWorkItemTemplates2:function(_5d,_5e){
this._invokeQueryService(_5d,"getWorkItemTemplates2",_5e);
},instantiateWorkItemTemplate:function(_5f,_60){
this._invokeQueryService(_5f,"postInstantiateWorkItemTemplate",_60);
},getTemplateStringVariables:function(_61,_62){
this._invokeQueryService(_61,"postGetTemplateStringVariables",_62);
},postSaveQueries:function(_63,_64){
this._invokeQueryEditorService(_63,"postSaveQueries",_64);
},getAttributeTree:function(_65,_66){
var _67=_66?dojo.clone(_66):new Object();
_67.queryType=_b;
this._invokeQueryEditorService(_65,"getAttributeTree",_67);
},getPresentation:function(_68,_69,_6a){
_1(_69);
var _6b={queryType:_b,attributeIdentifier:_69};
if(_6a){
_6b.projectAreaItemId=_6a;
}
this._invokeQueryEditorService(_68,"getPresentation",_6b);
},saveQuery:function(_6c,_6d){
var _6e=dojo.clone(_6d);
_6e.queryType=_b;
if(_6e.expression){
_6e.jsonExpression=_c.createFromDTO(_6e.expression).serialize();
delete _6e.expression;
}
var _6f=new Array();
_6e.setArguments=_6f;
if(_6e.teamAreaAssociations){
_6f.push("teamAreaAssociations");
}
if(_6e.contributorAssociations){
_6f.push("contributorAssociations");
}
if(_6e.resultColumns){
_6f.push("resultColumns");
}
if(_6e.sortColumns){
_6f.push("sortColumns");
}
this._invokeQueryEditorService(_6c,"postSaveQuery",_6e);
},getEditableQuery:function(_70,_71){
var _72=new Object();
_72.queryType=_b;
_72.itemId=_71;
this._invokeQueryEditorService(_70,"getEditableQuery",_72);
},createWorkItemTemplate:function(_73,_74){
this._invokeQueryService(_73,"postCreateWorkItemTemplate",_74);
},createFulltextQuery:function(_75,_76,_77){
var _78=new _c(_11.AND);
var _79=new _e("all",new _11("contains",null),_d.createFromIds([_76]));
_78.addAttributeExpression(_79);
if(_77){
var _7a=new _12("state","open or in progress");
var _7b=new _e("internalState",new _11("is",null));
_7b.setVariables([_7a]);
_78.addAttributeExpression(_7b);
}
return {name:_75,expression:_78.createDTO(),itemId:""};
},createSimilarityQuery:function(_7c,_7d){
var _7e=new _10();
_7e.setName(_7c);
_7e.setItemId("");
var _7f=new _c(_11.AND);
_7f.addSimilarityExpression(_7d);
_7e.setTerm(_7f);
return _7e;
},createWorkItemIdQuery:function(_80,_81){
if(!_81||_81.length==0){
_2(_81,"createWorItemIdQuery.idArray");
}
var _82=new _e("id",new _11("is",null),_d.createFromIds(_81));
var _83=new _c(_11.AND);
_83.addAttributeExpression(_82);
return {name:_80,expression:_83.createDTO(),values:_81};
},getQueryExportLink:function(_84,_85,_86){
if(!_85){
_85="";
}
if(!_86){
_86="csv";
}
this._invokeQueryService(_84,"getQueryExportLink",{itemId:_85,type:_86});
}};
})();


;dojo.provide("com.ibm.team.workitem.web.ui.internal.page.EventTopics");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.ui.internal.page.EventTopics",null,{"-chains-":{constructor:"manual"}});
_1.BUILDER_POST_SAVE="builder/postSave";
_1.INITIALIZE_QUERIES="pageview/initializeQueries";
_1.CHANGE_PROJECT_AREA="pageview/changeProjectArea";
_1.ITEMPROXY_DESTROYED="itemproxy/destroyed";
_1.QUERY_EDITOR_CHANGED="query/editorChanged";
_1.QUERY_EDITOR_EDIT_QUERY_REQUEST_ABANDONED="query/editRequestAbaondoned";
_1.QUERY_CONDITION_SECTION_CHANGED="query/conditionSectionChanged";
_1.QUERY_EDITOR_NAME_CHANGED="query/editorNameChanged";
_1.QUERY_DELETED="query/deleted";
_1.QUERY_ACTION_RUN="query/action/run";
_1.QUERY_EXPLORER_SELECTION_CHANGED="query/explorer/selectionChanged";
_1.QUERY_EXPLORER_REFRESH_NEEDED="query/explorer/refreshNeeded";
_1.QUERY_EXPLORER_REFRESH_COMPLETED="query/explorer/refreshCompleted";
_1.QUERY_EXPLORER_TAG_CHANGED="query/explorer/tagChanged";
_1.QUERY_EXPLORER_SWITCHING_TABS="query/explorer/switchingTabs";
_1.SHOW_ERROR_PAGE="workitem/view/errorpage";
_1.SHOW_WELCOME_PAGE="workitem/view/welcomepage";
_1.SHOW_IMPORTER_PAGE="workitem/view/importpage";
_1.STOP_BACKGROUND_OPERATIONS="workitem/operations/stop";
_1.WORKITEM_ABOUT_TO_SAVE="workitem/aboutToSave";
_1.WORKITEM_CHANGED="workitem/changed";
_1.WORKITEM_COMPONENT_MENU_LOADED="rtc/workitems/page/menuloaded";
_1.WORKITEM_EDITOR_CHANGED="workitem/editorChanged";
_1.WORKITEM_IMPORTER_OPENED="workitem/importerOpened";
_1.WORKITEM_IMPORTER_CANCELED="workitem/importerCanceled";
_1.WORKITEM_EDITABLE_PROPERTIES_CHANGED="rtc/workitems/editableProperties/changed";
_1.WORKITEM_PRESENTATION_CHANGED="workitem/presentationChanged";
_1.WORKITEM_READ_ONLY_PROPERTIES_CHANGED="workitem/readonly/changed";
_1.WORKITEM_REFRESH_CACHE="workitem/cache/refresh";
_1.WORKITEM_REFRESHED="workitem/refreshed";
_1.WORKITEM_REPOSITORY_ITEMS_CHANGED="workitem/cache/changed";
_1.WORKITEM_REQUIRED_PROPERTIES_CHANGED="workitem/requiredproperties/changed";
_1.WORKITEM_RICH_TEXT_RESIZED="rtc/workitems/richtext/resized";
_1.WORKITEM_TYPE_CHANGED="workitem.attributes.workItemType/changed";
_1.WORKITEM_STORED="workitem/stored";
_1.WORKITEM_VIEW_CHANGED="workitem/view/changed";
_1.WORKITEM_SAVE="com/ibm/rtc/workitem/save";
_1.WORKITEM_REFRESH="com/ibm/rtc/workitem/refresh";
_1.WORKITEM_PAGE_LOADED="rtc/workitems/page/loaded";
_1.WORKITEM_QUERY_VIEWED="rtc/workitems/query/viewed";
_1.WORKITEM_OPERATION_SELECTIONS_CHANGED="rtc/workitems/query/operation/selection/changed";
_1.WORKITEM_ITEM_VIEWED="rtc/workitems/item/viewed";
_1.WORKITEM_ITEMS_DELETED="rtc/workitems/items/deleted";
_1.WORKITEM_ACTION_COMPONENT_MENU_REFRESH="rtc/workitems/page/menu/refresh";
_1.WORKITEM_ACTION_COMPONENT_MENU_SETPAGEDIRTY="rtc/workitems/page/menu/setPageDirty";
_1.WORKITEM_ACTION_CREATE_FROM_TEMPLATE="rtc/workitems/actions/createFromTemplate";
_1.WORKITEM_ACTION_GET_CURRENT_RESULTS="rtc/workitems/query/getResults";
_1.WORKITEM_ACTION_HANDLE_QUICK_SEARCH="rtc/workitems/actions/handleQuickSearch";
_1.WORKITEM_ACTION_REFRESH_QUERIES="rtc/workitems/actions/refreshQueries";
_1.WORKITEM_ACTION_CLEAR_QUERIES="rtc/workitems/actions/clearQueries";
_1.WORKITEM_ACTION_CLEAR_QUERY_EDITOR="rtc/workitems/actions/clearQueryEditor";
_1.WORKITEM_ACTION_DISCARD_QUERY_EDITOR_CHANGES="rtc/workitems/actions/discardQueryEditorChanges";
_1.WORKITEM_ACTION_CLOSE_QUERY_RESULTS="rtc/workitems/actions/closeQueryResults";
_1.WORKITEM_ACTION_SHOW_QUERIES="rtc/workitems/actions/showQueries";
_1.WORKITEM_ACTION_TOGGLE_GRID_GROUP="rtc/workitems/actions/hideGridChildren";
_1.WORKITEM_ACTION_SET_BREADCRUMBS="rtc/workitems/actions/setBreadcrumbs";
_1.WORKITEM_ACTION_SET_HEADER_BREADCRUMBS="rtc/workitems/actions/setHeaderBreadcrumbs";
_1.WORKITEM_ACTION_SET_MESSAGEBOX="rtc/workitems/actions/setMessageBox";
_1.WORKITEM_ACTION_NOTIFY_INLINE_TO_PUBLISH_ITEM_VIEWED="rtc/workitems/actions/notifyInlineEditorToPublishItemViewed";
_1.WORKITEM_ACTION_SHOW_RICH_TEXT="rtc/workitems/actions/showRichText";
_1.WORKITEM_URL_CHANGED="workitem/url/changed";
_1.ON_CHANGE="onchange";
_1.ON_DEPENDENCY_CHANGE="onDependencyChange";
_1.ON_REFRESH="onrefresh";
_1.ITEMPICKER_PUBLISH_ON_SELECT="com/ibm/team/workitem/ItemPicker/onSelect";
_1.ITEMPICKER_PUBLISH_ON_ESCAPE="com/ibm/team/workitem/ItemPicker/onEscape";
_1.ITEMPICKER_PUBLISH_ON_ENTER="com/ibm/team/workitem/ItemPicker/onEnter";
_1.ITEMPICKER_PUBLISH_ON_CHANGE_FOCUS="com/ibm/team/workitem/ItemPicker/onChangeFocus";
_1.ITEMPICKER_PUBLISH_ON_CHANGE_DOWN="com/ibm/team/workitem/ItemPicker/onChangeDown";
_1.TEMPLATE_WIZARD_MODEL_CHANGE="com/ibm/team/workitems/template/wizard/onChange";
})();

dojo.provide("com.ibm.team.workitem.web.ui.internal.nls.ItemProxyMessages")._built=true;
dojo.provide("com.ibm.team.workitem.web.ui.internal.nls.ItemProxyMessages.en_us");
com.ibm.team.workitem.web.ui.internal.nls.ItemProxyMessages.en_us={"debugUseCountLessThanZero":"Error: The use count for item ${0} was decremented to less than zero."};

;dojo.provide("com.ibm.team.workitem.web.cache.internal.Cache");
dojo.requireLocalization("com.ibm.team.workitem.web.ui.internal","ItemProxyMessages");
(function(){
com.ibm.team.workitem.web.cache.internal.Cache={addItem:function(id,_1){
var _2=this.getCache();
var id=this.getId(id);
if(_2[id]){
return _2[id];
}
_1._cacheId=id;
_2[id]=_1;
this.useCounts[id]=0;
return _2[id];
},removeItem:function(id){
if(id==null){
return;
}
var _3=this.getCache();
var id=this.getId(id);
if(_3[id]){
_3[id]=false;
delete _3[id];
this.useCounts[id]=0;
delete this.useCounts[id];
return true;
}
return false;
},renameItem:function(_4,_5){
if(_4==_5){
return;
}
_4=this.getId(_4);
_5=this.getId(_5);
var _6=this.getCache();
if(_6[_4]){
_6[_5]=_6[_4];
_6[_4]=false;
delete _6[_4];
this.useCounts[_5]=this.useCounts[_4];
this.useCounts[_4]=0;
delete this.useCounts[_4];
}
return false;
},getCache:function(){
if(!this.cache){
this.cache={};
this.useCounts={};
}
return this.cache;
},getId:function(id){
return id+"";
},getItem:function(id,_7){
var _8=this.getCache();
var id=this.getId(id);
if(_8[id]){
this._showDebugMessage("getItem("+id+")=found");
return _8[id];
}
if(_7){
this.addItem(id,_7);
this._showDebugMessage("getItem("+id+")=add item");
return _7;
}
this._showDebugMessage("getItem("+id+")=null");
return null;
},getItemByItemId:function(_9){
var _a=this.getCache();
for(var _b in _a){
if(_a[_b].getItemId&&_a[_b].getItemId()==_9){
return _a[_b];
}
}
return null;
},getAllItems:function(_c){
_c=_c||{};
var _d;
if(_c.cacheMap){
_d=_c.cacheMap;
}else{
_d=this.getCache();
}
var _e=[];
for(var _f in _d){
if(_d[_f]){
var _10=false;
if(_c.filterSelectors){
for(var i=0;i<_c.filterSelectors.length;i++){
var _11=_c.filterSelectors[i];
if(!dojo.isFunction(_d[_f][_11])||!_d[_f][_11]()){
_10=true;
break;
}
}
}
if(!_10){
if(_c.filterAttributes){
for(var i=0;i<_c.filterAttributes.length;i++){
var _12=_c.filterAttributes[i];
if(!_d[_f][_12]){
_10=true;
break;
}
}
}
}
if(!_10){
_e.push(_d[_f]);
}
}
}
if(!_c.excludeSelectors){
return _e;
}
var _13=[];
for(var i=0;i<_e.length;i++){
var _10=false;
for(var j=0;j<_c.excludeSelectors.length;j++){
var _11=_c.excludeSelectors[j];
if(dojo.isFunction(_e[i][_11])&&_e[i][_11]()){
_10=true;
break;
}
}
if(!_10){
_13.push(_e[i]);
}
}
return _13;
},getUseCount:function(id){
var _14=this.getCache();
return this.useCounts[id];
},incrementUseCount:function(id){
var _15=this.getCache();
var _16=_15[id];
if(!_16){
return;
}
this.useCounts[id]++;
this._showDebugMessage("increment("+id+")="+this.useCounts[id]);
},decrementUseCount:function(id,_17){
var _18=this.getCache();
var _19=_18[id];
if(!_19){
return;
}
this.useCounts[id]--;
if(this.useCounts[id]<0){
this.useCounts[id];
console.debug(dojo.string.substitute(this._getMessages().debugUseCountLessThanZero,[id]));
}
var _1a=_19.isChanged;
if(dojo.isFunction(_19.isChanged)){
_1a=_19.isChanged();
}
var _1b=_19.isNew;
if(dojo.isFunction(_1b)){
_1b=_19.isNew();
}
if(!_17&&_1a&&!_1b){
return;
}
if(this.useCounts[id]<=0){
this._showDebugMessage("decrement("+id+")="+this.useCounts[id]+" (removed)");
if(_18[id].destroy){
_18[id].destroy();
}
_18[id]=false;
this.useCounts[id]=0;
}else{
this._showDebugMessage("decrement("+id+")="+this.useCounts[id]);
}
},_showDebugMessage:function(msg){
if(this._isDebugging===false){
return;
}
if(this._isDebugging===true||window.location.href.indexOf("debugCache")!=-1){
this._isDebugging=true;
console.debug(msg);
}else{
this._isDebugging=false;
}
},_getMessages:function(){
if(this.messages){
return this.messages;
}
this.messages=dojo.i18n.getLocalization("com.ibm.team.workitem.web.ui.internal","ItemProxyMessages");
return this.messages;
}};
})();


;dojo.provide("com.ibm.team.workitem.web.client.util");
















(function(){
var _1=net.jazz.ajax.toolbox.lang.checkNotNull;
var _2=com.ibm.team.workitem.web.client.internal.query.QueryDescriptor;
var _3=com.ibm.team.workitem.web.cache.internal.Cache;
var _4=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];
var _5=/^\d+$/;
var _6=23;
var _7="_tuUNgFU_EeCjQbYWf-8ryQ";
if(dojo.isIE&&dojo.isIE<7){
var _8=32;
var _9=40;
}else{
var _8=40;
var _9=52;
}
var _a=[".","-","_","/","?","#"];
var _b="com.ibm.team.workitem.";
com.ibm.team.workitem.web.client.util={_basicPrefix:"#action="+_b,_viewWorkItemUriPrefix:"#action=com.ibm.team.workitem.viewWorkItem&id=",getEditQueryUri:function(_c){
_1(_c,"queryId");
return this._basicPrefix+"editQuery&id="+_c;
},getWelcomePageUri:function(_d){
var _e="";
if(_d){
_e="&error="+encodeURI(_d);
}
return this._basicPrefix+"viewWelcome"+_e;
},getImportPageUri:function(){
return this._basicPrefix+"viewImporter";
},getNewWorkItemUri:function(_f,_10){
var _11=_10?"&type="+_10:"";
if(!_f){
return this._basicPrefix+"newWorkItem"+_11;
}
if(window.location.href.indexOf(this._basicPrefix+"newWorkItem")!=-1&&window.location.href.indexOf("&ts="+_f)!=-1){
return window.location.href;
}
return this._basicPrefix+"newWorkItem"+_11+"&ts="+_f;
},getNewWorkItemUri2:function(_12){
_12.typeId=_12.typeId||_12.typeName;
var _13=_12.typeId?"&type="+_12.typeId:"";
if(_12.newWorkItemProjectAreaItemId){
_13+="&projectAreaItemId="+_12.newWorkItemProjectAreaItemId;
}
if(_12.tempId){
_13=_13+"&ts="+_12.tempId;
}else{
_13=_13+"&ts="+this.getUniqueId();
}
if(_12.addLinkType&&_12.addLinkedItemId&&_12.addLinkedProjectAreaItemId){
_13=_13+"&addLinkedItemId="+_12.addLinkedItemId+"&addLinkType="+_12.addLinkType+"&addLinkIsSource="+(_12.addLinkIsSource==true)+"&addLinkedProjectAreaItemId="+_12.addLinkedProjectAreaItemId;
}
return this._basicPrefix+"newWorkItem"+_13;
},getNewWorkItemSetUri:function(){
return this.reuniquifyUrl(this._basicPrefix+"newWorkItemSet");
},getNewQueryUriSegment:function(){
return this.reuniquifyUrl(_b+"newQuery");
},getNewQueryUri:function(_14){
if(!_14){
return this._basicPrefix+"newQuery";
}
return this.reuniquifyUrl(this._basicPrefix+"newQuery");
},getShowQueriesUri:function(){
return this._basicPrefix+"viewQueries";
},getCurrentShowQueriesUri:function(_15,_16,_17){
var tab=_3.getItem("com-ibm-team-workitem-query-filter");
var tag=_3.getItem("com-ibm-team-workitem-query-explorer-tag");
var _18=_15;
if(_18==null){
_18=_3.getItem("com-ibm-team-workitem-query-explorer-query-id");
}
return this.createShowQueriesUri(tab,tag,_18,_16,_17);
},createShowQueriesUri:function(tab,tag,_19,_1a,_1b){
var uri=this.getShowQueriesUri();
if(tab!=null){
uri+="&tab="+tab;
}
if(tag!=null&&tag.length>0){
uri+="&tag="+encodeURIComponent(tag);
}
if(_19!=null&&_19.length>0){
uri+="&queryItemId="+_19;
}
if(_1a!=null&&_1a.length>0){
uri+="&queryAction="+_1a;
}
if(_1b==true){
uri+="&refresh=true";
}
return uri;
},getMyQueriesUri:function(){
return this.getShowQueriesUri()+"&tab=owned";
},getSharedQueriesUri:function(){
return this.getShowQueriesUri()+"&tab=shared";
},getRunDefaultQueryUri:function(_1c){
if(_1c){
return this.reuniquifyUrl(this._basicPrefix+"runDefaultQuery");
}
return this._basicPrefix+"runDefaultQuery";
},getBasicShowTemplateQueryUri:function getBasicShowTemplateQueryUri(){
return this._basicPrefix+"showTemplateQuery";
},getShowTemplateQueryUri:function getShowTemplateQueryUri(){
return this.reuniquifyUrl(this.getBasicShowTemplateQueryUri())+"&sortable=false";
},getBackgroundImageUrl:function(_1d){
_1d=_1d||"";
if(!window.location.href){
return _1d;
}
var _1e=window.location.href.split("/");
if(_1e.length<3){
return _1d;
}
var _1f=_1e[0]+"//";
_1f+=_1e[2];
if(_1d.indexOf("/")!=0){
_1f+="/";
}
return _1f+_1d;
},isChildOf:function(_20,_21){
var _22=_20;
if(_21==_22){
return true;
}
var _23=null;
while(_22!=null&&_22!=_23&&_22!=document.body&&_22!=document){
_23=_22;
if(_22==_21){
return true;
}
_22=_22.parentNode;
}
return false;
},isChildOfPopup:function(_24){
var _25=_24;
var _26=null;
while(_25!=null&&_25!=_26&&_25!=document.body&&_25!=document){
_26=_25;
if(_25.dijitPopupParent){
return true;
}
_25=_25.parentNode;
}
return false;
},getRunSavedQueryUri:function(_27,_28,_29,_2a,_2b,_2c,_2d,_2e,_2f,_30,_31,_32){
_1(_27,"queryId");
var _33;
if(_32==true){
_33=this.getCurrentShowQueriesUri(_27,_b+"runSavedQuery");
}else{
_33=this._basicPrefix+"runSavedQuery&id="+_27;
}
return _33+(_28?"&index="+_28:"")+this._multipleQueryStringParameter("orderBy",_29)+this._multipleQueryStringParameter("direction",_2a)+(_2b?"&itemsPerPage="+_2b:"")+(_2d?"&preserveFilter=true":"")+(_2e?"&filterAttribute="+encodeURIComponent(_2e):"")+(_2f?"&filterValue="+encodeURIComponent(_2f):"")+(_30?"&jsonParameterValues="+encodeURIComponent(_30):"")+(_31?"&filterByExactMatch=true":"")+this._getUniqueSuffix(_2c);
},_multipleQueryStringParameter:function(_34,_35){
var _36="";
if(_35&&dojo.isArray(_35)&&_35.length>0){
for(var i=0;i<_35.length;i++){
_36+="&"+_34+"="+_35[i];
}
}
return _36;
},getRelativeQueryLocationUri:function(_37){
var _38=_37;
var _39="";
if(_37.length>_6){
var _3a=_37.substring(0,_6);
var _3b=_37.substring(_6);
_38=_7;
_39="?itemId="+_3a+"&projectAreaItemId="+_3b;
}
return "/resource/itemOid/com.ibm.team.workitem.query.QueryDescriptor/"+_38+_39;
},getRefreshSavedQueryUri:function(_3c){
var uri=this.getRunSavedQueryUri(_3c);
return uri+"&refresh=true";
},getRunNewQueryUri:function(_3d,_3e,_3f,_40,_41,_42,_43){
_1(_3d,"query");
var _44=encodeURIComponent(_3d.serialize());
var _45;
if(_43==true){
_45=this.getCurrentShowQueriesUri(null,_b+"runNewQuery");
}else{
_45=this._basicPrefix+"runNewQuery";
}
var _46=_45+"&q="+_44+(_3e?"&index="+_3e:"")+this._multipleQueryStringParameter("orderBy",_3f)+this._multipleQueryStringParameter("direction",_40)+(_42?"&preserveFilter=true":"")+(_41?"&itemsPerPage="+_41:"");
return _3d.addParametersToUrl(_46);
},getSimilarityQueryUri:function(_47){
var _48=_47.projectAreaItemId?"&projectAreaItemId="+_47.projectAreaItemId:"";
if(_47.itemId){
return this._basicPrefix+"similarityQuery&itemId="+_47.itemId+_48;
}
var _49,_4a;
if(_47.summary&&_47.summary.length>0){
_49="&summary="+encodeURIComponent(dojo.trim(_47.summary));
}else{
_49="";
}
if(_47.content&&_47.content.length>0){
_4a="&content="+encodeURIComponent(dojo.trim(_47.content));
}else{
_4a="";
}
return this._basicPrefix+"similarityQuery"+_48+_49+_4a;
},getViewWorkItemUri:function(id,tab){
_1(id,"id-util3");
return this._getViewSingleWorkItemUri(id,tab);
},getUrlParam:function(url,_4b){
var exp="[.*&]"+_4b+"=([^&#]*)";
var _4c=new RegExp(exp);
var _4d=_4c.exec(url);
if(!_4d||_4d.length<2){
return null;
}
return _4d[1];
},_getViewSingleWorkItemUri:function(id,tab){
_1(id,"id-util2");
var _4e=parseInt(id,10);
if(isNaN(_4e)||_4e<0){
return null;
}
return this._basicPrefix+"viewWorkItem&id="+id+(tab?"&tab="+tab:"");
},getQueryURI:function(_4f,_50,_51,_52,_53,_54,_55){
return this.getQueryUri(_4f,_50,_51,_52,_53,_54);
},getQueryUri:function(_56,_57,_58,_59,_5a,_5b,_5c){
_1(_56,"query");
if(!_56.isNew&&_56.getItemId()){
return this.getRunSavedQueryUri(_56.getItemId(),_57,_58,_59,_5a,false,_5b,null,null,null,null,_5c);
}
return this.getRunNewQueryUri(_56,_57,_58,_59,_5a,_5b,_5c);
},getFragment:function(url){
return new dojo._Url(url).fragment;
},getSearchUri:function(_5d,_5e,_5f){
_1(_5d,"unencodedStr");
var _60=encodeURIComponent(dojo.trim(_5d));
if(_5e){
return this._basicPrefix+"search&q="+_60+"&o="+_5e+this._getUniqueSuffix(_5f);
}else{
return this._basicPrefix+"search&q="+_60+this._getUniqueSuffix(_5f);
}
},reuniquifyUrl:function(url,_61){
if(_61){
url=url.replace(/&preserveFilter=true/,"");
}
return url.replace(/&tq=([0-9]+)/,"")+"&tq="+this.getUniqueId();
},reuniquifyUrlWithTimestamp:function(url){
var ts=this.getUniqueId();
return {url:url.replace(/&ts=([0-9]+)/,"")+"&ts="+ts,timestamp:ts};
},getTagRegex:function(){
var _62=/\s*\/?(?!\/)([^,\s\|\\]+)/;
return _62;
},_getUniqueSuffix:function(_63){
if(!_63){
return "";
}
return "&tq="+this.getUniqueId();
},getUniqueId:function(){
return Date.parse(new Date().toString());
},getScrollPoint:function(){
var _64={x:window.pageXOffset,y:window.pageYOffset};
if(_64.x==null){
_64.x=window.document.body.scrollLeft||0;
_64.y=window.document.body.scrollTop||0;
}
return _64;
},_getDefaultQueryPageSize:function(){
return 50;
},_getMaximumQueryPageSize:function(){
return 500;
},_getHashRequestParams:function(_65){
return this.getHashRequestParams(_65);
},getHashRequestParams:function(_66){
if(!_66){
_66=document.location.href;
}
var _67=[];
var _68=this.getFragment(_66);
if(_68){
var _69=_68.split("&");
for(var i=0;i<_69.length;i++){
var nvp=_69[i].split("=");
if(nvp.length===2){
_67.push({name:nvp[0],value:nvp[1]});
}
}
}
return _67;
},isWorkItemId:function(id){
return _5.test(id);
},getWorkItemId:function(id){
var _6a=_5.exec(id);
return parseInt(_6a[0]);
},_breakupAllLongWords:function(_6b,_6c,_6d){
if(!_6c){
_6c=_8;
}
var _6e=_6b.split(" ");
var _6f=false;
for(var i=0;i<_6e.length;i++){
if(_6e[i].length>_6c){
_6f=true;
break;
}
}
if(!_6f){
return _6b;
}
var sep=_6d==true?"<wbr/>":" ";
if((dojo.isIE&&dojo.isIE<7)){
sep=" ";
}
var _70="";
var _71="";
for(var i=0;i<_6e.length;i++){
if(_6e[i].length<_6c){
_70=_70+_71+_6e[i];
}else{
_70=_70+_71+this._breakupLongWord(_6e[i],_6c,sep);
}
_71=" ";
}
return _70;
},_breakupLongWord:function(_72,_73,sep){
if(!_73){
_73=_8;
}
var _74=_72;
var _75="";
while(_74.length>_73){
var _76=_73+1;
_75+=_74.substring(0,_76)+sep;
_74=_74.substring(_76,_74.length);
}
_75+=_74;
return _75;
},isDebugMode:function(){
return location.href.indexOf("debug=true")!=-1;
},fromISOString:function(_77){
if(_77.length==28){
_77=_77.substring(0,19)+"-"+_77.substring(24,26)+":"+_77.substring(26,28);
}
return dojo.date.stamp.fromISOString(_77);
},getAllTimestamps:function(_78){
var _79={};
_79.sortDate=this.fromISOString(_78);
_79.formattedTimestamp=this.getDateLabel(_79.sortDate);
_79.modifiedTimestamp=_78;
return _79;
},getDateLabel:function(_7a){
var _7b=new jazz.app.i18n.Date(_7a);
return jazz.app.i18n.date.locale.format(_7b,{formatLength:"medium"});
},isStringDefined:function(_7c){
if(_7c==null){
return false;
}else{
if(typeof (_7c)!="string"){
return false;
}else{
if(_7c.length==0){
return false;
}
}
}
return true;
},plainToHTML:function(_7d){
var _7e=document.createElement("span");
var _7f=document.createTextNode(_7d);
_7e.appendChild(_7f);
return _7e.innerHTML;
},HTMLToPlain:function(_80){
var _81=document.createElement("span");
_81.innerHTML=_80;
return _81.innerText;
},buildMap:function(_82,_83,_84){
if(!_82){
return {};
}
if(!_83){
_83="key";
}
if(!_84){
_84="value";
}
var map=new Object();
for(var i in _82){
var _85=_82[i];
map[_85[_83]]=_85[_84];
}
return map;
},isInArray:function(_86,_87,_88){
for(var i=0;i<_87.length;i++){
if(_88){
if(_86.itemId==_87[i][_88]){
return true;
}
}else{
if(_86.itemId==_87[i]){
return true;
}
}
}
return false;
},isCurrentContributorAnAdmin:function(){
var _89=dojo.getObject("com.ibm.team.repository.web.client.internal.AUTHENTICATED_CONTRIBUTOR_ROLES");
if(_89){
for(var i=0;i<_89.length;i++){
if(_89[i]==="JazzAdmins"){
return true;
}
}
}
return false;
},hasAdministratorRole:function(){
var _8a=dojo.getObject("com.ibm.team.repository.web.client.internal.AUTHENTICATED_CONTRIBUTOR_ROLES");
if(_8a){
for(var i=0;i<_8a.length;i++){
if(_8a[i]==="JazzAdmins"||_8a[i]==="JazzProjectAdmins"){
return true;
}
}
}
return false;
},deferInteractionFunction:function(_8b){
var id=_8b.id;
var _8c=_8b.timingObject;
var _8d=_8b.deferredFunction;
var _8e=_8b.interval;
var _8f;
var _90="_SYNTHETIC_TIMING_"+id;
_8e=_8e||400;
var _8f=_8b.timingObject[_90];
var _91=this;
var _92=(new Date()).valueOf();
if(_8f==null){
_8b.timingObject[_90]=_92;
setTimeout(function(){
_91.deferInteractionFunction({timingObject:_8c,deferredFunction:_8d,id:id,interval:_8e});
},_8e);
}else{
if(_92-_8f<_8e){
setTimeout(function(){
_91.deferInteractionFunction({timingObject:_8c,deferredFunction:_8d,id:id,interval:_8e});
},_8e);
}else{
_8b.timingObject[_90]=_92;
_8d.call(_8c);
}
}
return null;
},BIDI_STORAGE_CHANGED:"bidiStorageChanged",LRM:"\u200e",RLM:"\u200f",LRE:"\u202a",RLE:"\u202b",PDF:"\u202c",getWidgetBaseTextDir:function(){
return jazz.app.i18n.getWidgetBaseTextDir();
},getStringBaseTextDir:function(_93,_94){
if(!_94){
_94=dojo.style(dojo.body(),"direction");
}
if(!_93){
return _94;
}
var _95=function(c){
if(c>=1488&&c<=1535||c>=1536&&c<=1631||c>=1786&&c<=2047||c>=64336&&c<=65023||c>=65136&&c<=65276){
return true;
}else{
return false;
}
};
var _96=function(c){
if((c>64&&c<91)||(c>96&&c<123)){
return true;
}else{
return false;
}
};
var len=_93.length;
for(var i=0;i<len;i++){
var _97=_93.charCodeAt(i);
if(_95(_97)){
return "rtl";
}else{
if(_96(_97)){
return "ltr";
}
}
}
return _94;
},getSegmentSeparator:function(dir){
if(!dir){
dir=dojo.style(dojo.body(),"direction");
}
if(dir=="rtl"){
return "\u200f";
}else{
return "\u200e";
}
},setSegmentBaseTextDir:function(_98,dir,_99){
if(!!_98){
_98=_98.replace(/[\u200e\u200f\u202a\u202b\u202c]/g,"");
if(dir!="none"){
var _9a=dojo.style(dojo.body(),"direction");
if(!!_99&&_99.length>0&&_98.indexOf(_99)>=0){
var pos=_98.indexOf(_99)+_99.length;
if(dir=="auto"){
dir=this.getStringBaseTextDir(_98.substring(pos),_9a);
}
_98=_98.substring(0,pos)+this.getSegmentSeparator(_9a)+(dir=="rtl"?"\u202b":"\u202a")+_98.substring(pos)+"\u202c";
}else{
if(dir=="auto"){
dir=this.getStringBaseTextDir(_98,_9a);
}
_98=(dir=="rtl"?this.RLE:this.LRE)+_98+this.PDF;
}
}
}
return _98;
},setSomeSegmentsBaseTextDir:function(_9b,dir,_9c,_9d){
if(!_9b){
return _9b;
}
var str=_9b;
var _9e="";
while(!!_9c&&_9c.length>0&&str.indexOf(_9c)>0){
var txt=str.substring(0,str.indexOf(_9c));
_9e=_9e+this.setSegmentBaseTextDir(txt,dir,_9d)+_9c+this.getSegmentSeparator();
str=str.substring(str.indexOf(_9c)+_9c.length);
}
_9e=_9e+this.setSegmentBaseTextDir(str,dir,_9d);
return _9e;
},removeAllMarks:function(_9f){
if(!_9f){
return _9f;
}
return _9f.replace(/[\u200e\u200f\u202a\u202b\u202c]/g,"");
},_showMarks:function(txt){
var res="";
if(!txt){
return res;
}
for(var i=0;i<txt.length;i++){
if(txt.charAt(i)=="\u202a"){
res+="{LRE}";
}else{
if(txt.charAt(i)=="\u202b"){
res+="{RLE}";
}else{
if(txt.charAt(i)=="\u202c"){
res+="{PDF}";
}else{
if(txt.charAt(i)=="\u200e"){
res+="{LRM}";
}else{
if(txt.charAt(i)=="\u200f"){
res+="{RLM}";
}else{
res+=txt.charAt(i);
}
}
}
}
}
}
return res;
}};
})();


;dojo.provide("jazz.util.array");
dojo.provide("jazz.util.Array");
(function(){
jazz.util.Array.insertByPriority=function(_1,_2){
dojo.deprecated("jazz.util.Array.insertByPriority","use jazz.util.array.insertByPriority instead","3.0M8");
jazz.util.array.insertByPriority(_1,_2);
};
jazz.util.array.insertByPriority=function(_3,_4){
for(var i=0;i<_3.length;i++){
if(_4.p>_3[i].p){
_3.splice(i,0,_4);
return;
}
}
_3.push(_4);
};
jazz.util.Array.removeByReference=function(_5,_6){
dojo.deprecated("jazz.util.Array.removeByReference","use jazz.util.array.removeByReference instead","3.0M8");
jazz.util.array.removeByReference(_5,_6);
};
jazz.util.array.removeByReference=function(_7,_8){
for(var i=0;i<_7.length;i++){
if(_8==_7[i]){
_7.splice(i,1);
return true;
}
}
return false;
};
})();


;dojo.provide("jazz.util.BodyClickListener");
(function(){


var _1=jazz.util.array;
var _2=new Array();
var _3=null;
jazz.util.BodyClickListener.register=function(_4,_5){
if(_2.length==0){
_3=dojo.connect(dojo.body(),"onclick",null,_6);
}
var _7={f:_4,p:_5};
_1.insertByPriority(_2,_7);
return _7;
};
jazz.util.BodyClickListener.unregister=function(_8){
var _9=_1.removeByReference(_2,_8);
if(_2.length==0){
dojo.disconnect(_3);
}
return _9;
};
jazz.util.BodyClickListener.askForVetos=function(_a){
for(var i=0;i<_2.length;i++){
var _b=_2[i].f(_a);
if(_b){
return true;
}
}
return false;
};
function _6(e){
if(e.altKey||e.ctrlKey||e.shiftKey){
return;
}
if(e.target){
var _c,_d=e.target;
while(_d){
if(_d.tagName==="A"){
_c=_d.href;
break;
}
_d=_d.parentNode;
}
if(!_c){
return;
}
}else{
return;
}
if(jazz.util.BodyClickListener.askForVetos(_c)){
dojo.stopEvent(e);
}
};
})();


;dojo.provide("com.ibm.team.workitem.web.ui.internal.module.WindowContext");


















(function(){
var _1=com.ibm.jdojo.lang;
var _2=_1.Exception;
var _3=_1.JavaScriptException;
var _4=_1.Runtime;
var _5=com.ibm.team;
var _6=_5.repository.web.client.session;
var _7=_5.workitem.web.client.util;
var _8=jazz.app.context;
var _9=jazz.util.BodyClickListener;
var _a=jazz.util.ResizeNotifier;
var _b=net.jazz.ajax.ui.PlatformUI;
var _c=dojo.declare("com.ibm.team.workitem.web.ui.internal.module.WindowContext",null,{"-chains-":{constructor:"manual"}});
var _d=dojo.declare("com.ibm.team.workitem.web.ui.internal.module.WindowContext.DestroyableBodyClickHandle",null,{"-chains-":{constructor:"manual"},destroy:function(_e){
if(this.clickHandle!=null){
_9.unregister(this.clickHandle);
}
},$interfaces:{"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyable":true,"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyableHandle":true}});
var _f=dojo.declare("com.ibm.team.workitem.web.ui.internal.module.WindowContext.DestroyableConnectHandle",null,{"-chains-":{constructor:"manual"},destroy:function(_10){
if(this.connectHandle!=null){
dojo.disconnect(this.connectHandle);
}
},$interfaces:{"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyable":true,"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyableHandle":true}});
var _11=dojo.declare("com.ibm.team.workitem.web.ui.internal.module.WindowContext.DestroyableResizeNotifierHandle",null,{"-chains-":{constructor:"manual"},destroy:function(_12){
if(this.resizeNotifierHandle!=null){
_a.unregister(this.resizeNotifierHandle);
}
},$interfaces:{"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyable":true,"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyableHandle":true}});
var _13=dojo.declare("com.ibm.team.workitem.web.ui.internal.module.WindowContext.DestroyableSubscribeHandle",null,{"-chains-":{constructor:"manual"},destroy:function(_14){
if(this.subscribeHandle!=null){
dojo.unsubscribe(this.subscribeHandle);
}
},$interfaces:{"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyable":true,"com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyableHandle":true}});
_4.declareInterface("com.ibm.team.workitem.web.ui.internal.module.WindowContext.IBodyClickHandler");
_4.declareInterface("com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyable");
_4.declareInterface("com.ibm.team.workitem.web.ui.internal.module.WindowContext.IDestroyableHandle");
_4.declareInterface("com.ibm.team.workitem.web.ui.internal.module.WindowContext.WindowEventHandler");
_c.RECENT_PREFIX="com_ibm_team_workitem_web_internal_RECENT_";
_c.RECENT_VALUES_MAX_SIZE=5;
_c.NAME_PART="resource/itemName/com.ibm.team.workitem.WorkItem";
_c.OID_PART="resource/itemOid/com.ibm.team.workitem.WorkItem";
_c.OID_PART_FOR_QUERY="resource/itemOid/com.ibm.team.workitem.query.QueryDescriptor";
_c.RESOURCE_PART="resource/";
_c.WEB_PROJECTS_PART="web/projects/";
_c.isGadget=false;
_c._viewConfigSingleton=null;
_c._convertOidUrlToLocationUrl=function(_15){
_15=_c._convertNameUrlToLocationUrl(_15);
var _16=_c.getFrontsideURL();
if(_15.indexOf(_16)!==0){
return _15;
}
var i=_15.indexOf(_c.OID_PART);
if(i===-1){
return _15;
}
var _17=_c.getCurrentProjectAreaName();
if(_17==null){
return _15;
}
var _18=encodeURIComponent(_17);
var _19=_16+"/web/projects/"+_18;
if(window.location.href.indexOf("?debug=true")!==-1){
_19+="?debug=true";
}
var _1a=_15.substring(i+_c.OID_PART.length+1,_15.length);
_19+="#action=com.ibm.team.workitem.viewWorkItem&itemId="+_1a;
return _19;
};
_c.addBodyClickRedirectionListener=function(_1b){
var _1c=function(_1d){
var _1e={};
_1e.target=_c.fullyQualifyUrl(_1d);
var _1f=_1b.handleBodyClick(_1e);
return ""+_1f;
};
var _20=new _d();
_20.clickHandle=_9.register(_1c,999);
return _20;
};
_c.addMessageEventHandler=function(_21,_22,_23){
if((!dojo.isIE||dojo.isIE>7)){
return _c._addPostMessageEventHandler(_22,_23);
}
return _c._addHashMessageEventHandler(_21,_22,_23);
};
_c.addResizeListener=function(_24,_25){
var _26={};
_26.context=_24;
_26.callback=_25;
_26.force=true;
var _27=new _11();
_27.resizeNotifierHandle=_a.register(_26);
return _27;
};
_c.convertArtifactUrlToResourceUrl=function(_28){
var _29=_c.getFrontsideURL();
var _2a=null;
if(_c.isWorkItemArtifactUri(_28)){
if(_28.id!=null){
_2a=_29+"/"+_c.NAME_PART+"/"+_28.id;
}else{
if(_28.itemId!=null){
_2a=_29+"/"+_c.OID_PART+"/"+_28.itemId;
}
}
}else{
if(_c.isQueryArtifactUri(_28)){
if(_28.id!=null){
_2a=_29+"/"+_c.OID_PART_FOR_QUERY+"/"+_28.id;
}
}
}
return _2a;
};
_c.forwardUrlToParentWindow=function(_2b,_2c,_2d,_2e){
var _2f="frameId="+_2e+"&openUrl="+_2c;
_2d=_2d==null?"":_2d;
_c.postMessage(_2b,_2f,_2d);
};
_c.fullyQualifyUrl=function(url){
if(url.indexOf("#")===0){
if(window.location.href.indexOf("?debug=true")!==-1){
url=_c.getFrontsideURL()+"?debug=true"+url;
}else{
url=_c.getFrontsideURL()+url;
}
}
return url;
};
_c.getApplicationAboutUri=function(){
return _c.getFrontsideURL()+"/"+"application-about";
};
_c.getCurrentProjectArea=function(){
return _8.get();
};
_c.getCurrentProjectAreaName=function(){
return _c.getCurrentProjectArea().name;
};
_c.getFrontsideURL=function(){
var url=dojo.getObject("net.jazz.ajax.BootstrapProperties.FRONTSIDE_URL");
if(url!=null){
return url;
}
return window.location.href;
};
_c.getLocalStorageId=function(key){
var _30=_6.getAuthenticatedContributor().itemId;
return _30+"_"+key;
};
_c.getLocalStorageValues=function(key){
if(window.localStorage==null){
return [];
}
if(window.location.href.indexOf("resetLocalStorage=true")!==-1){
window.localStorage.clear();
return [];
}
key=_c.getLocalStorageId(key);
var _31=window.localStorage.getItem(key);
if(_31==null||_31.length===0){
return [];
}
var _32=dojo.fromJson(_31);
return _32;
};
_c.getLocationUrlFromArtifactUrl=function(_33){
var _34=_c.getCurrentProjectAreaName();
if(_34==null){
return window.location.href;
}
var _35=_c.getFrontsideURL();
var _36=_c.getLocationUrlSuffixFromArtifactUrl(_33,_34);
var _37=_35+_36;
return _37;
};
_c.getLocationUrlFromArtifactUrlWithLocationSuffix=function(_38,_39){
var _3a="";
var _3b=_38.split(_c.RESOURCE_PART);
if(_3b.length>0){
_3a=_3b[0]+_39;
}else{
_3a=_38;
}
return _3a;
};
_c.getLocationUrlSuffixFromArtifactUrl=function(_3c,_3d){
if(_3d==null){
_3d=_c.getCurrentProjectAreaName();
if(_3d==null){
return _c.WEB_PROJECTS_PART;
}
}
var _3e=_c.WEB_PROJECTS_PART+encodeURIComponent(_3d);
var _3f=null;
var id=null;
if(_3c.queryAction!=null){
_3f=_3c.queryAction;
id=_3c.queryItemId;
}else{
_3f=_3c.action;
id=_3c.id;
}
if(_3f==="com.ibm.team.workitem.editQuery"){
_3f="com.ibm.team.workitem.runSavedQuery";
}
_3e+="#action="+_3f;
if(id!=null){
_3e+="&id="+id;
}else{
if(_3c.itemId!=null){
_3e+="&itemId="+_3c.itemId;
}
}
return _3e;
};
_c.getLocationUrlSuffixFromLocationUrl=function(_40){
var _41="";
var _42=_40.split(_c.WEB_PROJECTS_PART);
if(_42.length>0){
_41=_c.WEB_PROJECTS_PART+_42[1];
}else{
_41=_40;
}
return _41;
};
_c.getRecentId=function(_43){
return _c.RECENT_PREFIX+_43;
};
_c.getRecentItems=function(_44){
return _c.getLocalStorageValues(_c.getRecentId(_44));
};
_c.getSafeText=function(_45){
var _46=window.document.createElement("span");
_46.appendChild(window.document.createTextNode(_45));
return _46.innerHTML;
};
_c.getScrollPoint=function(){
return _7.getScrollPoint();
};
_c.getUniqueReferencedArtifactUri=function(_47){
var _48;
if(_47==null){
_48=window.location.hash;
}else{
var _49=_47.indexOf("#");
_48=_47.substring(_49);
}
_48=_48.replace(new RegExp("#"),"");
var _4a=dojo.queryToObject(_48);
return _4a;
};
_c.handleError=function(_4b){
window.alert(_4b.summaryMessage+". "+_4b.detailsMessage);
return false;
};
_c.isQueryArtifactUri=function(_4c){
var _4d=_4c.action;
if(_4d==="com.ibm.team.workitem.runSavedQuery"||_4d==="com.ibm.team.workitem.editQuery"){
return true;
}
var _4e=_4c.queryAction;
if(_4e==="com.ibm.team.workitem.runSavedQuery"||_4e==="com.ibm.team.workitem.editQuery"){
return true;
}
return false;
};
_c.isWorkItemArtifactUri=function(_4f){
return _4f.action==="com.ibm.team.workitem.viewWorkItem";
};
_c.postMessage=function(_50,_51,_52){
if((!dojo.isIE||dojo.isIE>7)){
if(_51==null){
_51="";
}
if(_52==null){
_52="";
}
var win=_50;
win.postMessage(_51,_52);
}else{
console.debug("Post Message Not available");
if(_52.indexOf("#")!==(_52.length-1)){
_51="#"+_51;
}
window.top.location.replace(_52+_51);
}
};
_c.publishHashChange=function(_53){
dojo.publish("/dojo/hashchange",[_53]);
};
_c.replaceWindowLocation=function(_54){
_c.setWindowLocation3(_c.isGadget,false,_54,null,null,true);
};
_c.rpcCallToContainer=function(_55,_56,_57,_58,_59){
gadgets.rpc.call("",_55,_56,_57,_58,_59);
};
_c.rpcCallToGadget=function(_5a,_5b,_5c,_5d,_5e,_5f){
gadgets.rpc.call(_5a,_5b,_5c,_5d,_5e,_5f);
};
_c.rpcNavigateTo=function(_60){
try{
var _61=function(url,_62){
if(url!=null){
window.location.href=url;
}
return null;
};
_60=_c._convertOidUrlToLocationUrl(_60);
_c.rpcCallToContainer("com_ibm_team_workitem_rpc_requestNavigateToWithVeto",_61,_60,null,null);
}
catch(throwable){
if((throwable=throwable instanceof _2?throwable:new _3(throwable)) instanceof _3){
console.log("gadgets.rpc call failed: requestNavigateTo from WorkItemGadget");
}else{
throw throwable;
}
}
return true;
};
_c.rpcSetTitle=function(_63){
try{
_c.rpcCallToContainer("set_title",null,_63,null,null);
}
catch(throwable){
if((throwable=throwable instanceof _2?throwable:new _3(throwable)) instanceof _3){
console.log("[WindowContext] gadgets.rpc call failed: set_title from WorkItemGadget");
}else{
throw throwable;
}
}
};
_c.setLocalStorageValue=function(key,_64){
if(window.localStorage==null){
return;
}
if(window.location.href.indexOf("resetLocalStorage=true")!==-1){
window.localStorage.clear();
return;
}
key=_c.getLocalStorageId(key);
window.localStorage.setItem(key,_64);
};
_c.setWindowLocation=function(_65,_66,_67,_68,_69){
_c.setWindowLocation3(_65,_66,_67,_68,_69,false);
};
_c.setWindowLocation2=function(_6a){
_c.setWindowLocation3(_c.isGadget,false,_6a,null,null,false);
};
_c.setWindowLocation3=function(_6b,_6c,_6d,_6e,_6f,_70){
if(_6b){
_c.rpcNavigateTo(_6d);
}else{
if(_6c===true){
_6d=_c.fullyQualifyUrl(_6d);
_c.forwardUrlToParentWindow((window.parent||window),_6d,_6e,_6f);
}else{
if(_b.getWorkbench().shouldVetoNavigation(_6d)){
return;
}
if(!_70){
window.location.href=_6d;
}else{
window.location.replace(_6d);
}
}
}
};
_c.subscribeToHashChange=function(_71,_72){
var _73=new _13();
_73.subscribeHandle=dojo.subscribe("/dojo/hashchange",_71,_72);
return _73;
};
_c.touchRecentItem=function(_74,_75){
var _76=_c.getRecentItems(_74);
var _77=[];
for(var i=0;i<_76.length;i++){
if(_76[i]!==_75){
_77.push(_76[i]);
}
}
_76=[];
if(_77.length>=_c.RECENT_VALUES_MAX_SIZE){
for(var i=0;i<_77.length-1;i++){
_76.push(_77[i]);
}
}else{
_76=_77;
}
_74=_c.getRecentId(_74);
_76.splice(0,0,_75);
var _78=dojo.toJson(_76,false);
_c.setLocalStorageValue(_74,_78);
};
_c._addHashMessageEventHandler=function(_79,_7a,_7b){
var _7c=function(){
var _7d={};
_7d.data=window.location.hash;
_7a(_7d);
};
return _c.subscribeToHashChange(_79,_7c);
};
_c._addPostMessageEventHandler=function(_7e,_7f){
var _80=new _f();
var _81=function(e){
var me=e;
if(!_c._checkOrigin(me.origin,_7f)){
window.alert("WindowContext event cancelled because of origin mismatch. Data: "+me.data+" origin:"+me.origin);
return;
}
_7e(me);
};
_80.connectHandle=dojo.connect(window,"message",_81);
return _80;
};
_c._checkOrigin=function(_82,_83){
if(_83.indexOf(_82)!==1){
return true;
}
return false;
};
_c._convertNameUrlToLocationUrl=function(_84){
var _85=_c.getFrontsideURL();
if(_84.indexOf(_85)!==0){
return _84;
}
var i=_84.indexOf(_c.NAME_PART);
if(i===-1){
return _84;
}
var _86=_c.getCurrentProjectAreaName();
if(_86==null){
return _84;
}
var _87=_85+"/web/projects/"+encodeURIComponent(_86);
if(window.location.href.indexOf("?debug=true")!==-1){
_87+="?debug=true";
}
var id=_84.substring(i+_c.NAME_PART.length+1,_84.length);
_87+="#action=com.ibm.team.workitem.viewWorkItem&id="+id;
return _87;
};
})();


;dojo.provide("com.ibm.jdojox.util.IllegalStateException");


(function(){
var _1=com.ibm.jdojo.lang.RuntimeException;
dojo.declare("com.ibm.jdojox.util.IllegalStateException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
}});
})();


;dojo.provide("com.ibm.jdojox.util.JDojoX");


(function(){
var _1=com.ibm.jdojo.lang.Runtime;
var _2=dojo.declare("com.ibm.jdojox.util.JDojoX",null,{"-chains-":{constructor:"manual"}});
_2.isEqual=function(o1,o2){
if(_1.implementsInterface(o1,"com.ibm.jdojox.util.IEqualable")){
return o1.equals(o2);
}else{
if(dojo.isArray(o1)){
return _2._equalArrays(o1,o2);
}else{
if(o1 instanceof Date){
return _2._equalDates(o1,o2);
}else{
if(_2._isPlainObject(o1)){
return _2._equalPlainObjects(o1,o2);
}
}
}
}
return o1===o2;
};
_2._equalArrays=function(_3,_4){
if(!dojo.isArray(_3)||!dojo.isArray(_4)){
return false;
}
var a1=_3;
var a2=_4;
if(a1.length!==a2.length){
return false;
}
var _5=true;
for(var i=0;i<a1.length;i++){
_5=_5&&_2.isEqual(a1[i],a2[i]);
if(!_5){
break;
}
}
return _5;
};
_2._equalDates=function(_6,_7){
if(!(_6 instanceof Date)){
return false;
}
if(!(_7 instanceof Date)){
return false;
}
var d1=_6;
var d2=_7;
return d1.getTime()===d2.getTime();
};
_2._equalPlainObjects=function(_8,_9){
if(!_2._isPlainObject(_8)||!_2._isPlainObject(_9)){
return false;
}
var _a=_1.getProperties(_8);
var _b=_1.getProperties(_9);
_a.sort();
_b.sort();
if(!_2.isEqual(_a,_b)){
return false;
}
var _c=true;
var _d=_a;
var _e=_d.length;
for(var _f=0;_f<_e;_f++){
var _10=_d[_f];
_c=_c&&_2.isEqual(_8[_10],_9[_10]);
if(!_c){
break;
}
}
return _c;
};
_2._isPlainObject=function(_11){
return dojo.indexOf(_1.getProperties(_11),"declaredClass")<0&&dojo.isObject(_11)&&!dojo.isFunction(_11);
};
})();


;dojo.provide("com.ibm.jdojox.util.ArrayList");






(function(){
var _1=com.ibm.jdojo.lang.Runtime;
var _2=com.ibm.jdojox.util;
var _3=_2.IllegalStateException;
var _4=_2.JDojoX;
dojo.declare("com.ibm.jdojox.util.ArrayList",null,{"-chains-":{constructor:"manual"},constructor:function(_5){
this._contents=[];
if(_5!=null){
var _6=_5;
var _7=_6.length;
for(var _8=0;_8<_7;_8++){
var e=_6[_8];
this.add(e);
}
}
},add:function(_9){
this._contents.push(_9);
return this;
},contains:function(_a){
return this.indexOf(_a)>-1;
},containsAll:function(_b){
var _c=true;
for(var _d=_b.iterator();_d.hasNext();){
var _e=_d.next();
_c=_c&&this.contains(_e);
}
return _c;
},isEmpty:function(){
return this.size()===0;
},size:function(){
return this._contents.length;
},toArray:function(){
return this._contents.slice(0);
},iterator:function(){
return new _f(this);
},at:function(_10){
this._rangeCheck(_10,false);
return this._contents[_10];
},addAt:function(_11,_12){
this._rangeCheck(_11,true);
this._contents.splice(_11,0,_12);
return this;
},addAllAt:function(_13,_14){
this._rangeCheck(_13,true);
var it=_14.iterator();
var i=_13;
while(it.hasNext()){
this.addAt(i++,it.next());
}
return this;
},removeAt:function(_15){
this._rangeCheck(_15,false);
var _16=this._contents.splice(_15,1);
return _16[0];
},indexOf:function(_17){
var _18=0;
var _19=this._contents;
var _1a=_19.length;
for(var _1b=0;_1b<_1a;_1b++){
var e=_19[_1b];
if(_4.isEqual(e,_17)){
return _18;
}
_18++;
}
return -1;
},addAll:function(_1c){
var it=_1c.iterator();
while(it.hasNext()){
this.add(it.next());
}
return this;
},clear:function(){
this._contents=[];
return this;
},remove:function(_1d){
var _1e=this.indexOf(_1d);
if(_1e>-1){
this.removeAt(_1e);
}
return this;
},removeAll:function(_1f){
var it=_1f.iterator();
while(it.hasNext()){
var _20=this.indexOf(it.next());
if(_20>-1){
this.removeAt(_20);
}
}
return this;
},_rangeCheck:function(_21,_22){
if(_21<0){
throw new _3("Index cannot be smaller than 0");
}
if(_22&&_21>this.size()){
throw new _3("Index cannot be bigger than the size of the collection");
}
if(!_22&&_21>this.size()-1){
throw new _3("Index cannot be bigger than the index of the last element (size - 1)");
}
},equals:function(_23){
if(this===_23){
return true;
}
if(_1.implementsInterface(_23,"com.ibm.jdojox.util.IList")){
var _24=_23;
if(_24.size()!==this.size()){
return false;
}
var it1=this.iterator(),it2=_24.iterator();
while(it1.hasNext()){
var e1=it1.next(),e2=it2.next();
if(!(e1==null?e2==null:_4.isEqual(e1,e2))){
return false;
}
}
return true;
}
return false;
},$interfaces:{"com.ibm.jdojox.util.ICollection":true,"com.ibm.jdojox.util.IEqualable":true,"com.ibm.jdojox.util.IIterable":true,"com.ibm.jdojox.util.IList":true}});
var _f=dojo.declare("com.ibm.jdojox.util.ArrayList.Iterator",null,{"-chains-":{constructor:"manual"},constructor:function(_25){
this._curIndex=-1;
this._list=_25;
},hasNext:function(){
return this._curIndex<this._list.size()-1;
},next:function(){
if(!this.hasNext()){
throw new _3("There are no next element in the list");
}
this._curIndex++;
this._removable=true;
return this._list.at(this._curIndex);
},remove:function(){
if(!this._removable){
throw new _3("next() was not called before remove()");
}
this._list.removeAt(this._curIndex);
this._removable=false;
this._curIndex--;
},$interfaces:{"com.ibm.jdojox.util.IIterator":true}});
})();


;dojo.provide("com.ibm.team.calm.foundation.web.calmdialogs.CALMDocument");






(function(){
var _1=dojox.xml.DomParser;
var _2=dojo.declare("com.ibm.team.calm.foundation.web.calmdialogs.CALMDocument",null,{"-chains-":{constructor:"manual"},constructor:function(_3){
this.content=_3;
this.root=null;
},getContent:function(){
return this.content;
},getRoot:function(){
if(this.root==null){
this.root=_1.parse(this.content);
}
return this.root;
},getNodeText:function(_4,_5){
return this.getNodeTextForNode(this.getRoot(),_4,_5);
},getNodeTextForNode:function(_6,_7,_8){
var _9=this.getFirstNodeForNode(_6,_7,_8);
if(_9!=null){
return this.getText(_9);
}
return null;
},getNodes:function(_a,_b){
return this.getNodesForNode(this.getRoot(),_a,_b);
},getNodesForNode:function(_c,_d,_e){
var _f=_d.split("/");
return this._collectNodes(_c,_f,[],_e);
},getAttributeText:function(_10,_11){
return this.getAttributeTextForNode(this.getRoot(),_10,_11);
},getAttributeTextForNode:function(_12,_13,_14){
var _15=_13.lastIndexOf("/");
if(_15+1===_13.length||_13.charAt(_15+1)!=="@"){
return null;
}
var _16=_13.substring(_15+2);
if(_15!==-1){
var _17=this.getFirstNodeForNode(_12,_13.substring(0,_15),_14);
if(_17!=null){
return this._getAttribute(_17,_16,_14);
}
return null;
}
return this._getAttribute(_12,_16,_14);
},getFirstNode:function(_18,_19){
return this.getFirstNodeForNode(this.getRoot(),_18,_19);
},getFirstNodeForNode:function(_1a,_1b,_1c){
var _1d=this.getNodesForNode(_1a,_1b,_1c);
if(_1d.length>0){
return _1d[0];
}
return null;
},_collectNodes:function(_1e,_1f,_20,_21){
if(_1f.length===0){
_20.push(_1e);
return _20;
}
var _22=_1f[0];
var _23=_1f.slice(1);
var _24=new RegExp("([\\d\\w-_:]+)\\[(@?[\\d\\w-_:]+)='([^']+)'\\]");
var _25=_22.match(_24);
if(_25==null){
var _26=this._getElementByTagName(_1e,_22,_21);
for(var i=0;i<_26.length;i++){
this._collectNodes(_26[i],_23,_20,_21);
}
return _20;
}else{
var _27=_25[1];
var _28=_25[2];
var _29=_25[3];
var _2a=_28.charAt(0)==="@";
if(_2a){
_28=_28.substring(1);
}
var _26=this._getElementByTagName(_1e,_27,_21);
for(var i=0;i<_26.length;i++){
var _2b=_26[i];
if(_2a){
if(this._getAttribute(_2b,_28,_21)===_29){
this._collectNodes(_2b,_23,_20,_21);
}
}else{
var _2c=this._getElementByTagName(_2b,_28,_21);
if(_2c.length===1&&this.getText(_2c[0])===_29){
this._collectNodes(_2b,_23,_20,_21);
}
}
}
return _20;
}
},getText:function(_2d){
if(_2d.childNodes.length===1&&("#text"===_2d.childNodes[0].nodeName)){
return _2d.childNodes[0].nodeValue;
}
return null;
},_getAttribute:function(_2e,_2f,_30){
var s=_2f.split(":",2);
if(s.length===1){
return _2e.getAttribute(_2f);
}else{
var ns=_30.getNamespaceURI(s[0]);
return _2e.getAttributeNS(s[1],ns);
}
},_getElementByTagName:function(_31,_32,_33){
var s=_32.split(":",2);
if(s.length===1){
return _31.childrenByName(_32);
}else{
var ns=_33.getNamespaceURI(s[0]);
return _31.childrenByNameNS(s[1],ns);
}
}});
_2.load=function(_34,_35,_36){
var _37={};
_37.url=_34;
_37.headers=_36;
_37.load=function(_38,_39){
_35.callback(new _2(_38));
};
_37.error=function(_3a,_3b){
_35.errback(_3a);
};
jazz.client.xhrGet(_37);
};
})();


;dojo.provide("com.ibm.team.calm.foundation.web.calmdialogs.NamespaceContext");
(function(){
var _1=dojo.declare("com.ibm.team.calm.foundation.web.calmdialogs.NamespaceContext",null,{"-chains-":{constructor:"manual"},constructor:function(_2){
this._prefixToURIMap=_2;
},getNamespaceURI:function(_3){
return this._prefixToURIMap[_3];
}});
_1.fgDefault=null;
_1.getDefaultNamespaceContext=function(){
if(_1.fgDefault==null){
var _4={};
_4["oslc_cm"]="http://open-services.net/xmlns/cm/1.0/";
_4["oslc_rm"]="http://open-services.net/xmlns/rm/1.0/";
_4["oslc_rm2"]="http://open-services.net/ns/rm#";
_4["oslc_qm"]="http://open-services.net/xmlns/qm/1.0/";
_4["rdf"]="http://www.w3.org/1999/02/22-rdf-syntax-ns#";
_4["calm"]="http://jazz.net/xmlns/prod/jazz/calm/1.0/";
_4["dc"]="http://purl.org/dc/terms/";
_4["oslc_disc"]="http://open-services.net/xmlns/discovery/1.0/";
_4["jp"]="http://jazz.net/xmlns/prod/jazz/process/1.0/";
_4["jp06"]="http://jazz.net/xmlns/prod/jazz/process/0.6/";
_4["oslc_pl"]="http://open-services.net/ns/pl#";
_4["oslc"]="http://open-services.net/ns/core#";
_4["jazz_disc"]="http://jazz.net/ns/discovery#";
_1.fgDefault=new _1(_4);
}
return _1.fgDefault;
};
})();


;dojo.provide("com.ibm.team.calm.foundation.web.client.CALMResourceProperties");


(function(){
var _1=com.ibm.jdojo.lang.Runtime;
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties");
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties.RequirementCollectionProperties",{ID:"rmRequirementCollection",PROPERTY_USES:"uses",PROPERTY_IMPLELEMTED_BY:"implementedBy"});
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties.RequirementProperties",{ID:"rmRequirement",PROPERTY_TITLE:"title",PROPERTY_DESCRIPTION:"description",PROPERTY_IMPLEMENTED_BY:"implementedBy",PROPERTY_SERVICE_PROVIDER:"serviceProvider"});
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties.LinkProperties",{PROPERTY_LABEL:"label",PROPERTY_URI:"uri"});
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties.OslcServiceProviderProperties",{ID:"oslcServiceProvider",PROPERTY_SUPPORT_LINK_DISCOVERY_VIA_LINK_INDEX_PROVIDER:"supportLinkDiscoveryViaLinkIndexProvider"});
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties.OslcQueryProperties",{ID:"oslcQuery"});
_1.declareInterface("com.ibm.team.calm.foundation.web.client.CALMResourceProperties.ResourcePreviewProperties",{PREVIEW_PROPERTY_TITLE:"cr_title",PREVIEW_PROPERTY_SHORT_TITLE:"cr_shortTitle"});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.SimpleCache");
(function(){
var _1=-1;
dojo.declare("com.ibm.team.workitem.web.client.internal.SimpleCache",null,{constructor:function(){
this._cache=new Object();
},get:function(_2){
var _3=this._cache[_2];
if(_3!=null){
var _4=(new Date()).getTime();
if(_3.ttl==_1||(_3.timestamp+_3.ttl>_4)){
return _3.result;
}
}
return null;
},put:function(_5,_6,_7){
var _8={result:_6,timestamp:(new Date()).getTime(),ttl:_7};
this._cache[_5]=_8;
return _8;
},clear:function(_9){
this._cache[_9]=null;
}});
com.ibm.team.workitem.web.client.internal.SimpleCache.TTL_INFINITE=_1;
com.ibm.team.workitem.web.client.internal.SimpleCache.TTL_MINUTE=60000;
})();


;dojo.provide("com.ibm.team.rtc.foundation.web.InitializationDataTypes");
(function(){
var _1=dojo.declare("com.ibm.team.rtc.foundation.web.InitializationDataTypes",null,{"-chains-":{constructor:"manual"}});
_1.SPRITE_INITIALIZATION_DATA={name:"com.ibm.team.rtc.common.service.spriteWebInitializer"};
_1.PROJECT_AREA_INITIALIZATION_DATA={name:"com.ibm.team.rtc.common.service.projectAreaWebInitializer"};
_1.CONF_FEATURES_INITIALIZATION_DATA={name:"com.ibm.team.rtc.common.service.componentConfigurations"};
})();


;dojo.provide("com.ibm.team.rtc.foundation.web.util.Initialization");
(function(){
var _1=dojo.declare("com.ibm.team.rtc.foundation.web.util.Initialization",null,{"-chains-":{constructor:"manual"}});
_1.getData=function(_2){
var _3=dojo.getObject("com.ibm.team.repository.web.client.init.InitializationData");
if(_3==null){
return null;
}
var _4=_3.get(_2.name);
return _4==null?null:_4;
};
})();


;dojo.provide("com.ibm.team.rtc.foundation.web.util.PersistentCache");






(function(){
var _1=com.ibm.jdojox.util.IllegalArgumentException;
var _2=com.ibm.team.rtc.foundation.web.util;
var _3=_2.StorageException;
var _4=_2.Store;
var _5=dojo.declare("com.ibm.team.rtc.foundation.web.util.PersistentCache",null,{"-chains-":{constructor:"manual"},_limit:0,_version:0,constructor:function(_6,_7,_8){
if(_6==null){
throw new _1("name must not be null");
}
_6=_6+"@cache";
this._limit=_8!=null?_8:_5.DEFAULT_LIMIT;
this._store=new _4(_6,false);
this._version=_7;
var _9=this._store.getEntry(_5.CACHE_DETAILS);
if(_9==null||_9.version==null||_9.ids==null){
try{
this.clear();
}
catch(e){
if(e instanceof _3){
this._store=new _4(_6,true);
this.clear();
}else{
throw e;
}
}
}else{
if(_9.version!==this._version){
this.clear();
}
}
},putEntry:function(id,_a,_b){
if(id==null){
throw new _1("id cannot be null");
}
if(_b==null){
throw new _1("value must not be null");
}
if(_a==null){
throw new _1("versionId must not be null");
}
var _c=this._store.getEntry(_5.CACHE_DETAILS);
if(_c.ids.length>=this._limit){
this.clearEntry(_c.ids.shift());
}
while(true){
try{
this._store.putEntry(id,{v:_a,o:_b});
this._updateAccess(id);
break;
}
catch(e){
if(e instanceof _3){
this.clearEntry(id);
if(_c.ids.length===0){
break;
}
this.clearEntry(_c.ids.shift());
}else{
throw e;
}
}
}
_c=this._store.getEntry(_5.CACHE_DETAILS);
while(this.size()>_5.SIZE_LIMIT){
this.clearEntry(_c.ids.shift());
}
},getEntry:function(id,_d){
if(id==null){
throw new _1("id cannot be null");
}
var _e=this._store.getEntry(id);
if(_e==null){
return null;
}
if(_e.v!==_d){
return null;
}
this._updateAccess(id);
return _e.o;
},clearEntry:function(id){
if(id==null){
throw new _1("id cannot be null");
}
this._store.clearEntry(id);
var _f=this._store.getEntry(_5.CACHE_DETAILS);
var i=dojo.indexOf(_f.ids,id);
if(i>-1){
_f.ids.splice(i,1);
this._store.putEntry(_5.CACHE_DETAILS,_f);
}
},clear:function(){
this._store.clear();
this._store.putEntry(_5.CACHE_DETAILS,{version:this._version,ids:[]});
},size:function(){
return this._store.size();
},_updateAccess:function(id){
var _10=this._store.getEntry(_5.CACHE_DETAILS);
var _11=dojo.indexOf(_10.ids,id);
if(_11!==-1){
_10.ids.splice(_11,1);
}
_10.ids.push(id);
this._store.putEntry(_5.CACHE_DETAILS,_10);
}});
_5.CACHE_DETAILS=null;
_5.DEFAULT_LIMIT=7;
_5.SIZE_LIMIT=(((25*1024)/10)|0);
})();


;dojo.provide("com.ibm.team.workitem.api.common.DynaCacheConstants");


(function(){
var _1=com.ibm.jdojo.lang.Runtime;
_1.declareInterface("com.ibm.team.workitem.api.common.DynaCacheConstants",{WORK_ITEM_CACHE_TOKEN_HEADER:"X-com-ibm-workitem-cache-token",WORK_ITEM_CACHE_STATE_ID_HEADER:"X-com-ibm-workitem-cache-state-id",WORK_ITEM_CACHE_TYPE_ID_HEADER:"X-com-ibm-workitem-cache-type-id",CACHED_RESPONSE_HEADER:"CACHED_RESPONSE"});
})();

var LZString={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(e==null)return"";var t="";var n,r,i,s,o,u,a;var f=0;e=LZString.compress(e);while(f<e.length*2){if(f%2==0){n=e.charCodeAt(f/2)>>8;r=e.charCodeAt(f/2)&255;if(f/2+1<e.length)i=e.charCodeAt(f/2+1)>>8;else i=NaN}else{n=e.charCodeAt((f-1)/2)&255;if((f+1)/2<e.length){r=e.charCodeAt((f+1)/2)>>8;i=e.charCodeAt((f+1)/2)&255}else r=i=NaN}f+=3;s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+LZString._keyStr.charAt(s)+LZString._keyStr.charAt(o)+LZString._keyStr.charAt(u)+LZString._keyStr.charAt(a)}return t},decompressFromBase64:function(e){if(e==null)return"";var t="",n=0,r,i,s,o,u,a,f,l,c=0,h=LZString._f;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){u=LZString._keyStr.indexOf(e.charAt(c++));a=LZString._keyStr.indexOf(e.charAt(c++));f=LZString._keyStr.indexOf(e.charAt(c++));l=LZString._keyStr.indexOf(e.charAt(c++));i=u<<2|a>>4;s=(a&15)<<4|f>>2;o=(f&3)<<6|l;if(n%2==0){r=i<<8;if(f!=64){t+=h(r|s)}if(l!=64){r=o<<8}}else{t=t+h(r|i);if(f!=64){r=s<<8}if(l!=64){t+=h(r|o)}}n+=3}return LZString.decompress(t)},compressToUTF16:function(e){if(e==null)return"";var t="",n,r,i,s=0,o=LZString._f;e=LZString.compress(e);for(n=0;n<e.length;n++){r=e.charCodeAt(n);switch(s++){case 0:t+=o((r>>1)+32);i=(r&1)<<14;break;case 1:t+=o(i+(r>>2)+32);i=(r&3)<<13;break;case 2:t+=o(i+(r>>3)+32);i=(r&7)<<12;break;case 3:t+=o(i+(r>>4)+32);i=(r&15)<<11;break;case 4:t+=o(i+(r>>5)+32);i=(r&31)<<10;break;case 5:t+=o(i+(r>>6)+32);i=(r&63)<<9;break;case 6:t+=o(i+(r>>7)+32);i=(r&127)<<8;break;case 7:t+=o(i+(r>>8)+32);i=(r&255)<<7;break;case 8:t+=o(i+(r>>9)+32);i=(r&511)<<6;break;case 9:t+=o(i+(r>>10)+32);i=(r&1023)<<5;break;case 10:t+=o(i+(r>>11)+32);i=(r&2047)<<4;break;case 11:t+=o(i+(r>>12)+32);i=(r&4095)<<3;break;case 12:t+=o(i+(r>>13)+32);i=(r&8191)<<2;break;case 13:t+=o(i+(r>>14)+32);i=(r&16383)<<1;break;case 14:t+=o(i+(r>>15)+32,(r&32767)+32);s=0;break}}return t+o(i+32)},decompressFromUTF16:function(e){if(e==null)return"";var t="",n,r,i=0,s=0,o=LZString._f;while(s<e.length){r=e.charCodeAt(s)-32;switch(i++){case 0:n=r<<1;break;case 1:t+=o(n|r>>14);n=(r&16383)<<2;break;case 2:t+=o(n|r>>13);n=(r&8191)<<3;break;case 3:t+=o(n|r>>12);n=(r&4095)<<4;break;case 4:t+=o(n|r>>11);n=(r&2047)<<5;break;case 5:t+=o(n|r>>10);n=(r&1023)<<6;break;case 6:t+=o(n|r>>9);n=(r&511)<<7;break;case 7:t+=o(n|r>>8);n=(r&255)<<8;break;case 8:t+=o(n|r>>7);n=(r&127)<<9;break;case 9:t+=o(n|r>>6);n=(r&63)<<10;break;case 10:t+=o(n|r>>5);n=(r&31)<<11;break;case 11:t+=o(n|r>>4);n=(r&15)<<12;break;case 12:t+=o(n|r>>3);n=(r&7)<<13;break;case 13:t+=o(n|r>>2);n=(r&3)<<14;break;case 14:t+=o(n|r>>1);n=(r&1)<<15;break;case 15:t+=o(n|r);i=0;break}s++}return LZString.decompress(t)},compress:function(e){if(e==null)return"";var t,n,r={},i={},s="",o="",u="",a=2,f=3,l=2,c="",h=0,p=0,d,v=LZString._f;for(d=0;d<e.length;d+=1){s=e.charAt(d);if(!Object.prototype.hasOwnProperty.call(r,s)){r[s]=f++;i[s]=true}o=u+s;if(Object.prototype.hasOwnProperty.call(r,o)){u=o}else{if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}r[o]=f++;u=String(s)}}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(u.charCodeAt(0)<256){for(t=0;t<l;t++){h=h<<1;if(p==15){p=0;c+=v(h);h=0}else{p++}}n=u.charCodeAt(0);for(t=0;t<8;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}else{n=1;for(t=0;t<l;t++){h=h<<1|n;if(p==15){p=0;c+=v(h);h=0}else{p++}n=0}n=u.charCodeAt(0);for(t=0;t<16;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}delete i[u]}else{n=r[u];for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}}a--;if(a==0){a=Math.pow(2,l);l++}}n=2;for(t=0;t<l;t++){h=h<<1|n&1;if(p==15){p=0;c+=v(h);h=0}else{p++}n=n>>1}while(true){h=h<<1;if(p==15){c+=v(h);break}else p++}return c},decompress:function(e){if(e==null)return"";if(e=="")return null;var t=[],n,r=4,i=4,s=3,o="",u="",a,f,l,c,h,p,d,v=LZString._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(a=0;a<3;a+=1){t[a]=a}l=0;h=Math.pow(2,2);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(n=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}d=v(l);break;case 2:return""}t[3]=d;f=u=d;while(true){if(m.index>m.string.length){return""}l=0;h=Math.pow(2,s);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}switch(d=l){case 0:l=0;h=Math.pow(2,8);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 1:l=0;h=Math.pow(2,16);p=1;while(p!=h){c=m.val&m.position;m.position>>=1;if(m.position==0){m.position=32768;m.val=m.string.charCodeAt(m.index++)}l|=(c>0?1:0)*p;p<<=1}t[i++]=v(l);d=i-1;r--;break;case 2:return u}if(r==0){r=Math.pow(2,s);s++}if(t[d]){o=t[d]}else{if(d===i){o=f+f.charAt(0)}else{return null}}u+=o;t[i++]=f+o.charAt(0);r--;f=o;if(r==0){r=Math.pow(2,s);s++}}}};if(typeof module!=="undefined"&&module!=null){module.exports=LZString}


;dojo.provide("com.ibm.team.rtc.foundation.web.util.Compression");




(function(){
var _1=com.ibm.team.rtc.foundation.web.util.JsonIO;
var _2=dojo.declare("com.ibm.team.rtc.foundation.web.util.Compression",null,{"-chains-":{constructor:"manual"}});
_2.compress=function(_3){
var _4=_1.stringify(_3);
return dojo.isWebKit?LZString.compress(_4):LZString.compressToUTF16(_4);
};
_2.decompress=function(_5){
var _6=dojo.isWebKit?LZString.decompress(_5):LZString.decompressFromUTF16(_5);
return _6!=null?_1.parse(_6):null;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.WorkItemClient");




























(function(){
var _1=com.ibm.team.repository.web.transport.ServiceRequest;
var _2=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _3=com.ibm.team.repository.web.transport.TeamServerClient;
var _4=com.ibm.team.workitem.web.client.internal.QueryClient;
var _5=com.ibm.team.workitem.web.client.internal.SimpleCache;
var _6=com.ibm.team.rtc.foundation.web.util.PersistentCache;
var _7=com.ibm.team.workitem.web.client.util;
var _8=com.ibm.team.rtc.foundation.web.InitializationDataTypes;
var _9=com.ibm.team.rtc.foundation.web.util.Initialization;
var _a=com.ibm.team.rtc.foundation.web.util.Compression;
var _b=com.ibm.team.workitem.api.common.DynaCacheConstants;
var _c=com.ibm.team.workitem.web.client.internal.ClientConstants;
var _d=com.ibm.team.rtc.foundation.web.util.ConfigurationManagementUtil;
function _e(_f,_10){
if(!_f){
throw new Error("WorkItemClient#"+_10+": missing request parameters.");
}
var _11=0;
var _12;
dojo.forEach(["id","itemId","newWorkItem"],function(x){
if(_f[x]){
_11++;
_12=x+" ";
}
});
if(_11>1){
throw new Error("WorkItemClient#"+_10+": may only set one of 'id', 'itemId', or 'newWorkItem' (saw: ["+_12+"]");
}
};
com.ibm.team.workitem.web.client.internal.WorkItemClient={SERVICE_URI:"com.ibm.team.workitem.common.internal.rest.IWorkItemRestService",GET_VALUES_METHOD:"getValues",GET_CONTRIBUTORS_METHOD:"getContributors",FILTER_HISTOGRAM:"histogram",_persistentCache:new _6("com.ibm.team.workitem.web.client.internal.WorkItemClient",2,10),_sessionCache:new _5(),_invokeWorkItemService:function(_13,_14,_15,_16){
if(navigator.userAgent.toLowerCase().search("edge")>=0){
if(!_15){
var _15={};
}
_15.now=Date.now();
}
var _17=dojo.mixin({},_c.CACHE_CONTROL_HEADERS,_16||{});
var _18=_15?new _1(_19.SERVICE_URI,_14,_15):new _1(_19.SERVICE_URI,_14);
_3.invokeService(_18,_13,{headers:_17});
},_invokeProcessService:function(_1a,_1b,_1c){
var _1d=new _1("com.ibm.team.process.internal.service.web.IProcessWebUIService",_1b,_1c);
_3.invokeService(_1d,_1a);
},_invokeCachingWorkItemService:function(_1e,_1f,_20,_21,ttl,_22,_23){
var pId=null;
var _24=null;
if(_20!=null){
pId=_20.projectAreaItemId;
_24=_20.projectAreaConfigurationStateId;
}
if(_24!=null){
_24=_24+"-"+dojo.locale;
}
var _25=this;
var _26=function(_27){
_25._invokeWorkItemService(_27,_1f,_20,_22);
};
this._invokeCachingService(_1e,pId,_24,_21,ttl,_26,_23);
},_invokeCachingService:function(_28,_29,_2a,_2b,ttl,_2c,_2d){
var _2e=this._getFromCache(_29,_2a,_2b,ttl,_2d);
if(_2e!=null){
_28.doCallback(_2e);
return;
}
var _2f=this;
var _30={success:function(_31){
_2f._updateCache(_31,_29,_2a,_2b,ttl);
_28.doCallback(_2f._copy(_31,_2d));
},failure:function(_32){
_28.doErrorCallback(_32);
}};
var _33=new _2(_30,"success","failure");
_2c(_33);
},_getFromCache:function(_34,_35,_36,ttl,_37){
var _38=_36;
if(_34!=null){
_38=_36+"/projectAreaItemId:"+_34;
}
var _39=this._sessionCache.get(_38);
if(_39!=null){
return this._copy(_39,_37);
}
if(_35!=null){
var _3a=this._persistentCache.getEntry(_34,_35);
if(_3a!=null&&_3a[_36]!=null){
var _3b=_3a[_36];
var _3c=this._isMSEdge()?_3b:_a.decompress(_3b);
this._sessionCache.put(_38,_3c,ttl);
return this._copy(_3c,_37);
}
}
return null;
},_isMSEdge:function(){
var ua=window.navigator.userAgent;
var _3d=ua.indexOf("Edge/");
return (_3d>=0);
},_updateCache:function(_3e,_3f,_40,_41,ttl){
if(ttl==_5.TTL_INFINITE&&_3f!=null&&_40!=null){
var e=this._persistentCache.getEntry(_3f,_40);
if(e==null){
e={};
}
e[_41]=this._isMSEdge()?_3e:_a.compress(_3e);
this._persistentCache.putEntry(_3f,_40,e);
}
var _42=_41;
if(_3f!=null){
_42=_41+"/projectAreaItemId:"+_3f;
}
this._sessionCache.put(_42,_3e,ttl);
},_setAppArgsProjectAreaItemId:function(_43){
if(!_43){
_43={};
}
if(_43.projectAreaConfigurationStateId===null){
delete _43.projectAreaConfigurationStateId;
}
try{
if(_43.projectAreaItemId){
_43.projectAreaItemId=_43.projectAreaItemId.replace(/\"\"/gi,"\"");
return;
}
var _44=jazz.app.context.get();
if(_44.itemId){
_43.projectAreaItemId=_44.itemId;
}
}
finally{
if(_43.projectAreaConfigurationStateId==null){
var _45=_9.getData(_8.PROJECT_AREA_INITIALIZATION_DATA);
if(_45!=null){
var _46=_45.projectArea;
if(_46.id==_43.projectAreaItemId&&_46.configurationStateId!=null){
_43.projectAreaConfigurationStateId=_46.configurationStateId;
}
}
}
}
},getWorkItemEditableProperties:function(_47,_48){
_e(_48,"postGetWorkItemEditableProperties");
if(_48.newWorkItem){
this._setAppArgsProjectAreaItemId(_48);
}
this._getDynaCacheTokenDeferred(this._createDynaCacheTokenArgs(_48)).then(dojo.hitch(this,function(_49){
var _4a={};
if(_49!=null&&!_48.typeId){
_4a[_b.WORK_ITEM_CACHE_TOKEN_HEADER]=_49;
}
if(_48[_b.WORK_ITEM_CACHE_TYPE_ID_HEADER]){
_4a[_b.WORK_ITEM_CACHE_TYPE_ID_HEADER]=encodeURIComponent(_48[_b.WORK_ITEM_CACHE_TYPE_ID_HEADER]);
delete _48[_b.WORK_ITEM_CACHE_TYPE_ID_HEADER];
}
if(_48[_b.WORK_ITEM_CACHE_STATE_ID_HEADER]){
_4a[_b.WORK_ITEM_CACHE_STATE_ID_HEADER]=encodeURIComponent(_48[_b.WORK_ITEM_CACHE_STATE_ID_HEADER]);
delete _48[_b.WORK_ITEM_CACHE_STATE_ID_HEADER];
}
_19._invokeWorkItemService(_47,"postGetWorkItemEditableProperties",_48,_4a);
}));
},getProjectAreaConfig:function(_4b,_4c){
this._invokeCachingWorkItemService(_4b,"getProjectAreaConfig",_4c,"getProjectAreaConfig",_5.TTL_INFINITE);
},getConfigurationUriForWorkItemByLinkType:function(_4d,_4e){
_19._invokeWorkItemService(_4d,"getConfigurationUriForWorkItemByLinkType",_4e);
},getHasOSLCLinkTypeMappings:function(_4f,_50){
_19._invokeWorkItemService(_4f,"getHasOSLCLinkTypeMappings",_50);
},getAllValues:function(_51,_52){
_e(_52,"postGetAllValues");
if(_52.newWorkItem){
this._setAppArgsProjectAreaItemId(_52);
}
if(!_52.ids){
_52.ids=[];
}
_19._invokeWorkItemService(_51,"postGetAllValues",_52);
},getMaxAttachmentSize:function(_53){
var _54={};
this._setAppArgsProjectAreaItemId(_54);
_19._invokeCachingWorkItemService(_53,"getMaxAttachmentSize",_54,"getMaxAttachmentSize",_5.TTL_INFINITE);
},guessCategory:function(_55,_56){
var _57=dojo.i18n.getLocalization("com.ibm.team.workitem.web.ui.internal","WidgetMessages");
var _58=dojo.trim(_56.getValue({path:"attributes.summary.content"}));
var _59=dojo.trim(_56.getValue({path:"attributes.description.content"}));
var _5a=_56.getValue({path:"attributes.internalComments.items"});
dojo.forEach(_5a,function(_5b){
_59+=("\n"+dojo.trim(_5b.content));
});
var _5c=_56.getValue({path:["attributes",_56.SYNTHETIC_COMMENT_ID,"content"]});
if(_5c){
_59+=_5c;
}
var _5d=_56.getValue({path:"itemId"});
var _5e=_56.getValue({path:"attributes.projectArea.id"});
var _5f=new _1("com.ibm.team.workitem.common.internal.rest.IWorkItemRestService","postGuessCategory",{projectAreaItemId:_5e,workItemId:_5d,itemSummary:_58,itemContent:_59});
var op=_56.createOperation({message:_57.labelGuessingCategory,id:"guessingCategory"});
var _60={success:function(_61){
_56.finishOperation(op);
_55.doCallback(_61);
},failure:function(_62){
var _63="";
_55.doErrorCallback(_63);
_56.finishOperation(op);
}};
var _64=new _2(_60,"success","failure");
_56.startOperation(op);
_3.invokeService(_5f,_64);
},getAllQueryableValues:function(_65,_66){
this._setAppArgsProjectAreaItemId(_66);
_19._invokeWorkItemService(_65,"getAllQueryableValues",_66);
},getValues:function(_67,_68){
this._setAppArgsProjectAreaItemId(_68);
_19._invokeWorkItemService(_67,"getValues",_68);
},getTime:function(_69,_6a){
_19._invokeWorkItemService(_69,"getTime",_6a);
},getWorkItemDTO:function(_6b,_6c){
_e(_6c,"getWorkItemDTO");
if(_6c.newWorkItem){
this._setAppArgsProjectAreaItemId(_6c);
}
this._invokeWorkItemService(_6b,"getWorkItemDTO",_6c);
},getDynaCacheToken:function(_6d,_6e){
var ttl=_5.TTL_MINUTE*30;
this._invokeCachingWorkItemService(_6d,"getDynaCacheToken",_6e,"getDynaCacheToken",ttl);
},_createDynaCacheTokenArgs:function(_6f){
var _70={};
if(_6f.teamAreaItemId){
_70["projectAreaItemId"]=_6f.teamAreaItemId;
delete _6f["teamAreaItemId"];
}else{
if(_6f.categoryItemId&&_6f.targetItemId){
_70["projectAreaItemId"]=_6f.projectAreaItemId;
_70["categoryItemId"]=_6f.categoryItemId;
_70["targetItemId"]=_6f.targetItemId;
}else{
_70["projectAreaItemId"]=_6f.projectAreaItemId;
}
}
return _70;
},_getDynaCacheTokenDeferred:function(_71){
var _72=(new (require("dojo/Deferred")));
var _73={success:function(_74){
_72.resolve(_74);
},failure:function(_75){
var _76=TeamRepositoryExceptionFactory.INSTANCE.createException(_75);
console.log(_76.getMessage());
_72.resolve(null);
}};
var _77=new _2(_73,"success","failure");
this.getDynaCacheToken(_77,_71);
return _72;
},getDynaCacheWorkItemStateId:function(_78){
var _79=(new (require("dojo/Deferred")));
if(_78.newWorkItem){
_79.resolve(null);
return _79;
}
var _7a={success:function(_7b){
_79.resolve(_7b);
},failure:function(_7c){
_79.resolve(null);
console.debug(_7c);
}};
var _7d={id:_78.id};
var _7e=new _2(_7a,"success","failure");
this._invokeWorkItemService(_7e,"getDynaCacheWorkItemStateId",_7d);
return _79;
},getWorkItem:function(_7f,_80){
if(_80.newWorkItem){
this._setAppArgsProjectAreaItemId(_80);
}
var _81=_d.getConfigurationURI();
if(_81!=null){
_80.userSelectedConfigContext=_81;
}
var _82={success:function(_83){
if(_83==null){
_7f.doCallback(null);
return;
}
var _84=_7.buildMap(_83.attributes);
_83.attributes=_84;
_7f.doCallback(_83);
},failure:function(_85){
_7f.doErrorCallback(_85);
}};
var _86=new _2(_82,"success","failure");
this.getDynaCacheWorkItemStateId(_80).then(dojo.hitch(this,function(_87){
if(_87!=null){
var _88={};
_88[_b.WORK_ITEM_CACHE_STATE_ID_HEADER]=encodeURIComponent(_87);
}
this._invokeWorkItemService(_86,"getWorkItemDTO2",_80,_88);
}));
},postWorkItem2:function(_89,_8a){
if(!_8a.stateId&&!_8a.projectAreaItemId){
this._setAppArgsProjectAreaItemId(_8a);
}
this._internalPostWorkItem("postWorkItem2",_89,_8a);
},postWorkItemN:function(_8b,_8c){
var _8d=dojo.map(_8c,function(_8e){
if(!_8e.stateId&&!_8e.projectAreaItemId){
this._setAppArgsProjectAreaItemId(_8e);
}
_8e.attributeValues=dojo.map(_8e.attributeValues,function(_8f){
if(dojo.isArray(_8f)){
return dojo.toJson(_8f);
}
return _8f;
});
return dojo.toJson(_8e);
},this);
var _90={success:function(_91){
dojo.forEach(_91.workItems,function(_92){
_92.attributes=_7.buildMap(_92.attributes);
});
_8b.doCallback(_91);
},failure:function(_93){
console.debug(_93);
_8b.doErrorCallback(_93);
}};
var _94={};
var _95=_d.getConfigurationURI();
if(_95!=null){
_94[_d.OSLC_CONFIG_CONTEXT_PARAM]=_95;
}
var _96=new _2(_90,"success","failure");
this._invokeWorkItemService(_96,"postWorkItemN",{postWorkItemParams:_8d},_94);
},moveWorkItem:function(_97,_98){
if(_98.move==null||!_98.projectAreaItemId){
throw new Error("WorkItemClient#moveWorkItem: 'move' (true/false) and 'projectAreaItemId' must be set");
}
this._internalPostWorkItem("postMoveWorkItem",_97,_98);
},getUsesTimeRemaining:function(_99,_9a){
_9a=_9a||{};
this._setAppArgsProjectAreaItemId(_9a);
this._invokeWorkItemService(_99,"getUsesTimeRemaining",_9a);
},splitWorkItem:function(_9b,_9c){
if(!_9c.stateId&&!_9c.projectAreaItemId){
this._setAppArgsProjectAreaItemId(_9c);
}
this._internalPostWorkItem("postSplitWorkItem",_9b,_9c);
},_internalPostWorkItem:function(_9d,_9e,_9f){
_9f.attributeValues=dojo.map(_9f.attributeValues,function(_a0){
if(dojo.isArray(_a0)){
return dojo.toJson(_a0);
}
return _a0;
});
var _a1={};
var _a2=_d.getConfigurationURI();
if(_a2!=null){
_a1[_d.OSLC_CONFIG_CONTEXT_PARAM]=_a2;
}
var _a3={success:function(_a4){
if(_a4.severity<=_19.INFO){
var _a5=_a4.workItem;
if(_a4.infos){
_a5.infos=_a4.infos;
}
var _a6=_7.buildMap(_a5.attributes);
_a5.attributes=_a6;
_9e.doCallback(_a5);
}else{
_9e.doErrorCallback(_a4);
}
},failure:function(_a7){
console.debug(_a7);
_9e.doErrorCallback(_a7);
}};
var _a8=new _2(_a3,"success","failure");
this._invokeWorkItemService(_a8,_9d,_9f,_a1);
},postBulkChangeMultiValueWorkItems:function(_a9,_aa){
for(var i=0;i<_aa.elements.length;i++){
_aa.elements[i]=dojo.toJson(_aa.elements[i]);
}
this._invokeWorkItemService(_a9,"postBulkChangeMultiValueWorkItems",_aa);
},getResolutions:function(_ab,_ac){
if(!(_ac.status||_ac.actionId)){
throw new Error("WorkItemClient#getResolutions: must set either appArgs.status or appArgs.actionId (none set)");
}
if(_ac.status&&_ac.actionId){
throw new Error("WorkItemClient#getResolutions: must set either appArgs.status or appArgs.actionId (both set)");
}
this._setAppArgsProjectAreaItemId(_ac);
_ac.attributeName="internalResolution";
this._invokeWorkItemService(_ab,_19.GET_VALUES_METHOD,_ac);
},getContributors:function(_ad,_ae){
this._setAppArgsProjectAreaItemId(_ae);
this._invokeWorkItemService(_ad,_19.GET_CONTRIBUTORS_METHOD,_ae);
},getTeamMembers:function(_af,_b0){
_b0=_b0||{};
this._setAppArgsProjectAreaItemId(_b0);
this._invokeWorkItemService(_af,"getTeamMembers",_b0);
},getEditorPresentation:function(_b1,_b2){
if(!_b2.typeId&&!_b2.itemId){
throw new Error("WorkItemClient#getEditorPresentation: must set appArgs.typeId (the work item type id) or appArgs.itemId (the work item itemId)");
}
this._setAppArgsProjectAreaItemId(_b2);
var _b3="getEditorPresentation/typeId:"+_b2.typeId+"/target:"+(_b2.target?_b2.target:"(none)");
this._invokeCachingWorkItemService(_b1,"getEditorPresentation",_b2,_b3,_5.TTL_INFINITE);
},getQuickInformationPresentation:function(_b4,_b5){
if(!_b5.configurationId){
throw new Error("WorkItemClient#getQuickInformationPresentation: must set appArgs.configurationId");
}
this._setAppArgsProjectAreaItemId(_b5);
this._invokeCachingWorkItemService(_b4,"getQuickInformationPresentation",_b5,("getQuickInformationPresentation/configurationId:"+_b5.configurationId+"/workItemTypeId:"+_b5.workItemTypeId),_5.TTL_INFINITE);
},getDynamicAttributesPropertiesConfiguration:function(_b6,_b7,_b8){
this._getDynaCacheTokenDeferred(this._createDynaCacheTokenArgs(_b7)).then(dojo.hitch(this,function(_b9){
this._setAppArgsProjectAreaItemId(_b7);
var _ba=_b9;
var _bb={};
var _bc="getDynamicAttributesPropertiesConfiguration:"+_b8+":"+_b7.categoryItemId+":"+_b7.targetItemId;
if(_ba!=null){
_bb[_b.WORK_ITEM_CACHE_TOKEN_HEADER]=_ba;
_bc=_bc+"_"+_ba;
}
this._invokeCachingWorkItemService(_b6,"getDynamicAttributesPropertiesConfiguration",_b7,_bc,_5.TTL_MINUTE*30,_bb);
}));
},getApprovalStates:function(_bd,_be){
this._setAppArgsProjectAreaItemId(_be);
this._invokeCachingWorkItemService(_bd,"getApprovalStates",_be,"getApprovalStates",_5.TTL_INFINITE);
},getApprovalTypes:function(_bf,_c0){
this._setAppArgsProjectAreaItemId(_c0);
this._invokeCachingWorkItemService(_bf,"getApprovalTypes",_c0,"getApprovalTypes",_5.TTL_INFINITE);
},getLinkTypes:function(_c1,_c2){
this._setAppArgsProjectAreaItemId(_c2);
this._invokeCachingWorkItemService(_c1,"getLinkTypesForProject",_c2,"getLinkTypesForProject",_5.TTL_INFINITE);
},getWorkItemTypes:function(_c3,_c4){
this._setAppArgsProjectAreaItemId(_c4);
_c4.newWorkItem=true;
_c4.ids=["workItemType"];
this._invokeCachingWorkItemService(_c3,"getAllValues",_c4,"getWorkItemTypes",_5.TTL_INFINITE);
},getReleases:function(_c5,_c6){
this._setAppArgsProjectAreaItemId(_c6);
this._invokeWorkItemService(_c5,"getReleases",_c6);
},getWorkItemCategories:function(_c7,_c8){
this._setAppArgsProjectAreaItemId(_c8);
this._invokeWorkItemService(_c7,"getWorkItemCategories",_c8);
},getWorkItemTimeLines:function(_c9,_ca){
this._setAppArgsProjectAreaItemId(_ca);
this._invokeWorkItemService(_c9,"getWorkItemTimeLines",_ca);
},getWorkItemTeamAreas:function(_cb,_cc){
this._setAppArgsProjectAreaItemId(_cc);
this._invokeWorkItemService(_cb,"getWorkItemTeamAreas",_cc);
},postDeleteWorkItems:function(_cd,_ce){
this._invokeWorkItemService(_cd,"postDeleteWorkItems",_ce);
},postReleases:function(_cf,_d0){
this._setAppArgsProjectAreaItemId(_d0);
this._invokeWorkItemService(_cf,"postReleases",_d0);
},postWorkItemCategories:function(_d1,_d2){
this._setAppArgsProjectAreaItemId(_d2);
this._invokeWorkItemService(_d1,"postWorkItemCategories",_d2);
},postGetWorkItems:function(_d3,_d4){
this._setAppArgsProjectAreaItemId(_d4);
this._invokeWorkItemService(_d3,"postGetWorkItems",_d4);
},postGetWorkItemBreakdownStructure:function(_d5,_d6){
this._setAppArgsProjectAreaItemId(_d6);
this._invokeWorkItemService(_d5,"postGetWorkItemBreakdownStructure",_d6);
},getEnumerationValues:function(_d7,_d8){
this._setAppArgsProjectAreaItemId(_d8);
this._invokeWorkItemService(_d7,"getEnumerationValues",_d8);
},getAttributes:function(_d9,_da){
this._setAppArgsProjectAreaItemId(_da);
if(_da.forceFetch){
this._invokeWorkItemService(_d9,"getAttributes",_da,null);
}else{
var key="getAttributes/"+dojo.toJson(_da);
this._invokeCachingWorkItemService(_d9,"getAttributes",_da,key,_5.TTL_INFINITE);
}
},getProcessAreaHierarchies:function(_db,_dc){
this._setAppArgsProjectAreaItemId(_dc);
var _dd="getProcessAreaHierarchies";
var ttl=_5.TTL_MINUTE*30;
this._invokeCachingWorkItemService(_db,"getProcessAreaHierarchies",_dc,_dd,ttl,null,true);
},getProcessAreaHierarchiesForArchive:function(_de,_df){
_df.includeArchived=true;
var _e0="getProcessAreaHierarchiesForArchive";
var ttl=_5.TTL_MINUTE*30;
this._invokeCachingWorkItemService(_de,"getProcessAreaHierarchies",_df,_e0,ttl,null,true);
},getProcessAreaHierarchiesForQueries:function(_e1,_e2){
this._setAppArgsProjectAreaItemId(_e2);
var _e3="getProcessAreaHierarchiesForQueries";
var ttl=_5.TTL_MINUTE*30;
this._invokeCachingWorkItemService(_e1,"getProcessAreaHierarchiesForQueries",_e2,_e3,ttl,null,true);
},getIterations:function(_e4,_e5){
var ttl=_5.TTL_MINUTE*30;
this._invokeCachingWorkItemService(_e4,"getIterations",_e5,"getIterations",ttl,null,true);
},getTimelinesWithIterations:function(_e6,_e7){
var ttl=_5.TTL_MINUTE*30;
this._invokeCachingWorkItemService(_e6,"getTimelinesWithIterations",_e7,"getTimelinesWithIterations",ttl,null,true);
},clearIterations:function(_e8){
this._sessionCache.clear("getIterations/projectAreaItemId:"+_e8);
},transformWikiSource:function(_e9,_ea){
this._invokeWorkItemService(_e9,"postWikiSource",_ea);
},getAllProjectAreas:function(_eb,_ec){
this._invokeWorkItemService(_eb,"getAllProjectAreas",_ec);
},getAccessContexts:function(_ed,_ee){
this._invokeWorkItemService(_ed,"getAccessContexts",_ee);
},isAutoLinkArchivingEnabled:function(_ef,_f0){
this._invokeWorkItemService(_ef,"getIsAutoLinkArchivingEnabled",_f0);
},getIsContributorMemberOf:function(_f1,_f2){
this._invokeWorkItemService(_f1,"getIsContributorMemberOf",_f2);
},_copy:function(_f3,_f4){
if(_f4){
var _f5=this;
if(dojo.isArray(_f3)){
return dojo.map(_f3,function(_f6){
return _f5._copy(_f6,_f4);
});
}else{
return dojo.mixin({},_f3);
}
}
return dojo.clone(_f3);
}};
var _19=com.ibm.team.workitem.web.client.internal.WorkItemClient;
_19.INFO=0;
_19.WARNING=2;
_19.ERROR=4;
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException");




(function(){
var _1=com.ibm.jdojo.lang.Exception;
var _2=dojo.string;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException",_1,{constructor:function(_3){
this.inherited(arguments,[]);
this.fData=_3;
},getMessage:function(){
if(this.fMessage==null){
if(this.fData.message!=null&&this.fData.message.length>0){
this.fMessage=this.fData.message;
}else{
if(this.fData.errorClass!=null){
this.fMessage=this.fData.errorClass;
}else{
if(this.fData.status!==undefined){
this.fMessage=_2.substitute("STATUS ${0}",[this.fData.status]);
}else{
this.fMessage="Exception";
}
}
}
}
return this.fMessage;
},getData:function(){
return this.fData.errorData;
},getStacktrace:function(){
return this.fData.exception;
},toString:function(){
var _4="TeamRepositoryException: "+this.getMessage();
var _5=this.getStacktrace();
if(_5!=null){
var _6=_5;
var _7=_6.length;
for(var _8=0;_8<_7;_8++){
var _9=_6[_8];
_4+="\n"+_9;
}
}
return _4;
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.IllegalArgumentException");


(function(){
var _1=com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.IllegalArgumentException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.InvalidConfigurationException");


(function(){
var _1=com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.InvalidConfigurationException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.ItemNotFoundException");


(function(){
var _1=com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.ItemNotFoundException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.PermissionNotGrantedException");


(function(){
var _1=com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.PermissionNotGrantedException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.StaleDataException");


(function(){
var _1=com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.StaleDataException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.TeamOperationCanceledException");


(function(){
var _1=com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryException;
dojo.declare("com.ibm.team.workitem.web.client.internal.rest.TeamOperationCanceledException",_1,{constructor:function(_2){
this.inherited(arguments,[_2]);
},getDescription:function(){
var _3=[];
var _4=this.fData==null?null:this.fData.errorData;
if(_4!=null&&_4.internalReportInfos!=null){
var _5=_4.internalReportInfos;
var _6=_5.length;
for(var _7=0;_7<_6;_7++){
var _8=_5[_7];
if(_8!=null&&_8.summary!=null&&_8.description!=null){
_3.push(_8.summary+" - "+_8.description);
}
}
}
if(_3.length===0){
_3.push(this.inherited("getMessage",arguments,[]));
}
return _3;
}});
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryExceptionFactory");
















(function(){
var _1=com.ibm.jdojo.lang.Runtime;
var _2=com.ibm.team.workitem.web.client.internal.rest;
var _3=_2.IllegalArgumentException;
var _4=_2.InvalidConfigurationException;
var _5=_2.ItemNotFoundException;
var _6=_2.PermissionNotGrantedException;
var _7=_2.StaleDataException;
var _8=_2.TeamOperationCanceledException;
var _9=_2.TeamRepositoryException;
var _a=dojo.declare("com.ibm.team.workitem.web.client.internal.rest.TeamRepositoryExceptionFactory",null,{"-chains-":{constructor:"manual"},constructor:function(){
this.fMapping={};
this.fMapping["com.ibm.team.repository.common.ItemNotFoundException"]=_5;
this.fMapping["com.ibm.team.repository.common.PermissionNotGrantedException"]=_6;
this.fMapping["com.ibm.team.repository.common.StaleDataException"]=_7;
this.fMapping["com.ibm.team.apt.internal.common.InvalidConfigurationException"]=_4;
this.fMapping["com.ibm.team.process.common.advice.TeamOperationCanceledException"]=_8;
this.fMapping["java.lang.IllegalArgumentException"]=_3;
},createException:function(_b){
var _c=_9;
if((_b.errorClass in this.fMapping)){
_c=this.fMapping[_b.errorClass];
}
return _1.newInstance(_c,_b);
},createExceptionWithMessage:function(_d,_e){
var _f={};
var _10=_1.getProperties(this.fMapping);
var _11=_10;
var _12=_11.length;
for(var _13=0;_13<_12;_13++){
var key=_11[_13];
if(this.fMapping[key]===_d){
_f.errorClass=key;
break;
}
}
_f.message=_e;
return _1.newInstance(_d,_f);
}});
_a.INSTANCE=new _a();
})();


;dojo.provide("com.ibm.team.calm.foundation.web.model.CalmServiceProvider");
(function(){
var _1=dojo.declare("com.ibm.team.calm.foundation.web.model.CalmServiceProvider",null,{"-chains-":{constructor:"manual"},constructor:function(){
},getName:function(){
return this._name;
},getServiceDocumentUrl:function(){
return this._serviceDocumentUrl;
},getItemLinkType:function(){
return this._itemLinkType;
},getItemLinkName:function(){
return this._itemLinkName;
},getProjectLinkType:function(){
return this._projectLinkType;
},hasSelectionDialog:function(){
return this._hasSelectionDialog;
},hasCreationDialog:function(){
return this._hasCreationDialog;
},$interfaces:{"com.ibm.team.calm.foundation.web.model.ICalmServiceProvider":true}});
_1.createProvider=function(_2){
var _3=new _1();
_3._name=_2.name;
_3._serviceDocumentUrl=_2.serviceDocumentUrl;
_3._itemLinkType=_2.itemLinkType;
_3._itemLinkName=_2.itemLinkName;
_3._projectLinkType=_2.projectLinkType;
_3._hasSelectionDialog=_2.hasSelectionDialog;
_3._hasCreationDialog=_2.hasCreationDialog;
return _3;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.WorkItemRestClientUtils");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.client.internal.WorkItemRestClientUtils",null,{"-chains-":{constructor:"manual"}});
_1.LINK_CMD_ADD_LINK="addLink";
_1.LINK_CMD_REMOVE_LINK="removeLink";
_1.LINK_CMD_UPDATE_LINK="updateLink";
_1.LINK_END_TARGET="target";
_1.LINK_END_SOURCE="source";
_1.constructUpdateLinksJsonString=function(_2,_3,_4,_5,_6,_7){
var _8={};
_8.cmd=_2;
_8.type=_3;
_8.end=_4;
_8.name=_5;
_8.comment=_5;
_8.itemId=_7;
return dojo.toJson(_8,false);
};
_1.constructParamsGetHasWorkItemChanged=function(_9){
var _a=_9._getProxy().storedObject;
var _b=_9._getProxy().getWorkItemLinkTypes();
var _c=0;
var _d=0;
var _e=_b;
var _f=_e.length;
for(var _10=0;_10<_f;_10++){
var _11=_e[_10];
var _12=_11.linkDTOs;
var _13=_12.length;
for(var _14=0;_14<_13;_14++){
var _15=_12[_14];
if(_15.itemId!=null){
_c++;
_d=(_d+_1.calculateHashCode(_11.id))|0;
_d=(_d+_1.calculateHashCode(_15.itemId))|0;
}
}
}
var _16={};
_16.itemId=_a.itemId;
_16.stateId=_a.stateId;
_16.linksCount=_c;
_16.linksHash=_d;
return _16;
};
_1.calculateHashCode=function(str){
var _17=0;
if(str!=null){
for(var i=0;i<str.length;i++){
_17=((_17<<5)-_17)+str.charCodeAt(i);
_17=_17&_17;
}
}
return _17;
};
})();


;dojo.provide("com.ibm.team.workitem.web.client.internal.WorkItemRestClient");






(function(){
var _1=com.ibm.team.workitem.web.client.internal;
var _2=_1.SimpleCache;
var _3=_1.WorkItemClient;
var _4=_1.WorkItemRestClientUtils;
var _5=dojo.declare("com.ibm.team.workitem.web.client.internal.WorkItemRestClient",null,{"-chains-":{constructor:"manual"}});
_5._invokeService=function(_6,_7,_8){
_3._invokeWorkItemService(_6,_7,_8,null);
};
_5._invokeCachingWorkItemService=function(_9,_a,_b,_c,_d,_e,_f){
_3._invokeCachingWorkItemService(_9,_a,_b,_c,_d,_e,_f);
};
_5.postWorkItems=function(_10,_11){
_5._invokeService(_10,"postWorkItems",_11);
};
_5.getHasWorkItemChanged=function(_12,_13){
_5._invokeService(_12,"getHasWorkItemChanged",_4.constructParamsGetHasWorkItemChanged(_13));
};
_5.getCalmLinkTypes=function(_14,_15){
_5._invokeService(_14,"getCalmLinkTypesForProject",_15);
};
_5.getProcessAreaHierarchies=function(_16,_17){
var _18="getProcessAreaHierarchies";
var ttl=_2.TTL_MINUTE*30;
_5._invokeCachingWorkItemService(_16,_18,_17,_18,ttl,null,true);
};
})();


;dojo.provide("com.ibm.jdojox.util.Collections");






(function(){
var _1=com.ibm.jdojo.lang.JavaScriptException;
var _2=com.ibm.jdojox.util;
var _3=_2.ArrayList;
var _4=_2.JDojoX;
var _5=dojo.declare("com.ibm.jdojox.util.Collections",null,{"-chains-":{constructor:"manual"}});
var _6=dojo.declare("com.ibm.jdojox.util.Collections.UnmodifiableIterator",null,{"-chains-":{constructor:"manual"},constructor:function(_7){
this._iterator=_7;
},hasNext:function(){
return this._iterator.hasNext();
},next:function(){
return this._iterator.next();
},remove:function(){
throw new _1("Unsupported operation iterator.remove()");
},$interfaces:{"com.ibm.jdojox.util.IIterator":true}});
var _8=dojo.declare("com.ibm.jdojox.util.Collections.UnmodifiableList",null,{"-chains-":{constructor:"manual"},constructor:function(_9){
this._list=_9;
},contains:function(_a){
return this._list.contains(_a);
},containsAll:function(_b){
return this._list.containsAll(_b);
},isEmpty:function(){
return this._list.isEmpty();
},size:function(){
return this._list.size();
},toArray:function(){
return this._list.toArray();
},iterator:function(){
return new _6(this._list.iterator());
},at:function(_c){
return this._list.at(_c);
},addAt:function(_d,_e){
throw new _1("Unsupported operation iterator.remove()");
},addAllAt:function(_f,_10){
throw new _1("Unsupported operation iterator.remove()");
},removeAt:function(_11){
throw new _1("Unsupported operation iterator.remove()");
},indexOf:function(_12){
return this._list.indexOf(_12);
},add:function(_13){
throw new _1("Unsupported operation iterator.remove()");
},addAll:function(_14){
throw new _1("Unsupported operation iterator.remove()");
},clear:function(){
throw new _1("Unsupported operation iterator.remove()");
},remove:function(_15){
throw new _1("Unsupported operation iterator.remove()");
},removeAll:function(_16){
throw new _1("Unsupported operation iterator.remove()");
},equals:function(o){
return _4.isEqual(this._list,o);
},$interfaces:{"com.ibm.jdojox.util.ICollection":true,"com.ibm.jdojox.util.IEqualable":true,"com.ibm.jdojox.util.IIterable":true,"com.ibm.jdojox.util.IList":true}});
_5.emptyList=function(){
return _5.unmodifiableList(new _3());
};
_5.unmodifiableList=function(_17){
return new _8(_17);
};
_5.unmodifiableIterator=function(_18){
return new _6(_18);
};
})();


;dojo.provide("com.ibm.team.workitem.web.model.links.EndPointDescriptor");








(function(){
var _1=com.ibm.jdojo;
var _2=_1.lang.Runtime;
var _3=_1.util.Assert;
var _4=com.ibm.jdojox.util;
var _5=_4.ArrayList;
var _6=_4.Collections;
var _7=dojo.declare("com.ibm.team.workitem.web.model.links.EndPointDescriptor",null,{"-chains-":{constructor:"manual"},constructor:function(_8,_9){
this._isResolved=false;
this._serviceProviders=new _5();
this._targetBindings=new _5();
this._isUserDeleteable=true;
this._isUserWriteable=true;
this._linkTypeid=_8;
this._isSource=_9;
},isSource:function(){
return this._isSource;
},getLinkTypeId:function(){
return this._linkTypeid;
},getIcon:function(){
return this._icon;
},getIdentifier:function(){
return _7.getEndPointIdentifier(this._linkTypeid,this._isSource);
},getEndpointId:function(){
return this._endpointId;
},getDisplayName:function(){
return this._displayName!=null?this._displayName:this._linkTypeid;
},getProjectLinkType:function(){
return this._projectLinkType;
},getServiceProviders:function(){
return _6.unmodifiableList(this._serviceProviders);
},getTargetBindings:function(){
return _6.unmodifiableList(this._targetBindings);
},isSingleValued:function(){
return this._isSingleValued;
},isMultiValued:function(){
return !this._isSingleValued;
},isTarget:function(){
return !this._isSource;
},isSymmetric:function(){
return this._isSymmetric;
},isUserWriteable:function(){
return this._isUserWriteable;
},isUserDeleteable:function(){
return this._isUserDeleteable;
},getReferencedItemType:function(){
return this._itemType;
},isItemReference:function(){
return this._itemType!=null;
},isResolved:function(){
return this._isResolved;
},resolve:function(_a){
if(!(_a.isResolved())){
_3.fail("other.isResolved()","EndPointDescriptor:137");
}
this._endpointId=_a.getEndpointId();
this._displayName=_a.getDisplayName();
this._icon=_a.getIcon();
this._itemType=_a.getReferencedItemType();
this._isUserWriteable=_a.isUserWriteable();
this._isUserDeleteable=_a.isUserDeleteable();
this._isSymmetric=_a.isSymmetric();
this._isSingleValued=_a.isSingleValued();
this._projectLinkType=_a.getProjectLinkType();
this._serviceProviders=new _5(_a.getServiceProviders().toArray());
this._targetBindings=new _5(_a.getTargetBindings().toArray());
this._isResolved=true;
},equals:function(o){
if(_2.implementsInterface(o,"com.ibm.team.workitem.web.model.links.IEndPointDescriptor")){
var _b=o;
return _b.getIdentifier()===this.getIdentifier()&&_b.isResolved()===_b.isResolved();
}
return false;
},$interfaces:{"com.ibm.jdojo.util.IMappable":true,"com.ibm.jdojox.util.IEqualable":true,"com.ibm.team.workitem.web.model.links.IEndPointDescriptor":true}});
_7.DELIMITER="$";
_7.createDescriptor=function(_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18){
var _19=new _7(_c,!!_d);
_19._endpointId=_12;
_19._displayName=_13;
_19._icon=_14;
_19._itemType=_15;
_19._isUserWriteable=!!_e;
_19._isUserDeleteable=!!_f;
_19._isSymmetric=!!_10;
_19._isSingleValued=!!_11;
_19._projectLinkType=_16;
_19._serviceProviders=_17;
_19._targetBindings=_18;
_19._isResolved=true;
return _19;
};
_7.getEndPointIdentifier=function(_1a,_1b){
return _1a+_7.DELIMITER+(_1b?"source":"target");
};
})();


;dojo.provide("com.ibm.team.workitem.web.model.links.LinksClient");
















(function(){
var _1=com.ibm.jdojox.util.ArrayList;
var _2=com.ibm.team;
var _3=_2.calm.foundation.web.model.CalmServiceProvider;
var _4=_2.repository.web.transport.ServiceResponseHandler;
var _5=_2.rtc.foundation.web.ui.util.sprite.ImageSource;
var _6=_2.workitem.web;
var _7=_6.client.internal;
var _8=_7.WorkItemClient;
var _9=_7.WorkItemRestClient;
var _a=_6.model.links.EndPointDescriptor;
var _b=dojo.declare("com.ibm.team.workitem.web.model.links.LinksClient",null,{"-chains-":{constructor:"manual"}});
_b.linkTypeDtos={};
_b.getLinkTypes=function(_c){
var _d=(new (require("dojo/Deferred")));
var _e={projectAreaItemId:_c};
_8.getLinkTypes(_b.getResponseHandler(_d),_e);
return _d;
};
_b.convert=function(_f){
var _10=new _1(_f.calmServiceProviders==null?null:dojo.map(_f.calmServiceProviders,function(_11,_12,_13){
return _3.createProvider(_11);
}));
var _14=new _1();
if(_f.linkTargetBindings!=null){
var _15=_f.linkTargetBindings;
var _16=_15.length;
for(var _17=0;_17<_16;_17++){
var _18=_15[_17];
_14.add(_18);
}
}
var _19=_a.createDescriptor(_f.id,_f.isSource,_f.isUserWriteable,_f.isUserDeleteable,_f.isSymmetric,_f.isSingleValued,_f.endpointId,_f.displayName,_5.fromIconUri(_f.iconUrl),_f.itemType,_f.projectLinkType,_10,_14);
_b.linkTypeDtos[_19.getIdentifier()]=dojo.mixin(dojo.clone(_f),{linkDTOs:[]});
return _19;
};
_b.getCalmLinkTypes=function(_1a,_1b){
var _1c=(new (require("dojo/Deferred")));
var _1d={projectAreaItemId:_1a,targetResourceType:_1b};
_9.getCalmLinkTypes(_b.getResponseHandler(_1c),_1d);
return _1c;
};
_b.getResponseHandler=function(_1e){
var _1f=function(e){
_1e.reject(new Error(e.message));
};
var _20=function(_21){
var _22=new _1();
var _23=_21;
var _24=_23.length;
for(var _25=0;_25<_24;_25++){
var _26=_23[_25];
_22.add(_b.convert(_26));
}
_1e.resolve(_22);
};
return new _4({"onSuccess":_20,"onFailure":_1f},"onSuccess","onFailure");
};
})();


;dojo.provide("com.ibm.team.workitem.web.model.links.WorkItemLinkTypes");
(function(){
var _1=dojo.declare("com.ibm.team.workitem.web.model.links.WorkItemLinkTypes",null,{"-chains-":{constructor:"manual"}});
_1.RELATED_WORK_ITEM="com.ibm.team.workitem.linktype.relatedworkitem";
_1.DUPLICATE_WORK_ITEM="com.ibm.team.workitem.linktype.duplicateworkitem";
_1.COPIED_WORK_ITEM="com.ibm.team.workitem.linktype.copiedworkitem";
_1.RELATED_ARTIFACT="com.ibm.team.workitem.linktype.relatedartifact";
_1.ATTACHMENT="com.ibm.team.workitem.linktype.attachment";
_1.BLOCKS_WORK_ITEM="com.ibm.team.workitem.linktype.blocksworkitem";
_1.PARENT_WORK_ITEM="com.ibm.team.workitem.linktype.parentworkitem";
_1.SCHEDULE_PREDECESSOR="com.ibm.team.workitem.linktype.schedulePredecessor";
_1.SCHEDULE_PREDECESSOR_TARGET="predecessor";
_1.SCHEDULE_PREDECESSOR_SOURCE="successor";
_1.RESOLVES_WORK_ITEM="com.ibm.team.workitem.linktype.resolvesworkitem";
_1.TRACKS_WORK_ITEM="com.ibm.team.workitem.linktype.tracksworkitem";
_1.CONTRIBUTES_TO_WORK_ITEM="com.ibm.team.workitem.linktype.trackedworkitem";
_1.CHANGE_SET="com.ibm.team.filesystem.workitems.change_set";
_1.MENTIONS="com.ibm.team.workitem.linktype.textualReference";
_1.RELATED_CHANGE_MANAGEMENT="com.ibm.team.workitem.linktype.relatedChangeManagement";
_1.AFFECTS_PLAN_ITEM="com.ibm.team.workitem.linktype.cm.affectsPlanItem";
_1.AFFECTED_BY_DEFECT="com.ibm.team.workitem.linktype.cm.affectedByDefect";
_1.TRACKS_CHANGES="com.ibm.team.workitem.linktype.scm.tracksChanges";
_1.BLOCKS_EXECUTION_RECORD="com.ibm.team.workitem.linktype.blocksTestExecutionRecord";
_1.AFFECTS_EXECUTION_RESULT="com.ibm.team.workitem.linktype.affectsExecutionResult";
_1.TESTED_BY_TEST_CASE="com.ibm.team.workitem.linktype.testedByTestCase";
_1.RELATED_TEST_CASE="com.ibm.team.workitem.linktype.qm.relatedTestCase";
_1.RELATED_EXECUTION_RECORD="com.ibm.team.workitem.linktype.qm.relatedExecutionRecord";
_1.RELATED_TEST_PLAN="com.ibm.team.workitem.linktype.qm.relatedTestPlan";
_1.RELATED_TEST_SCRIPT="com.ibm.team.workitem.linktype.qm.relatedTestScript";
_1.RELATED_TEST_RESULT="com.ibm.team.workitem.linktype.qm.relatedTestResult";
_1.IMPLEMENTS_REQUIREMENT="com.ibm.team.workitem.linktype.implementsRequirement";
_1.IMPLEMENTS_REQUIREMENT_COLLECTION="com.ibm.team.workitem.linktype.implementsRequirementCollection";
_1.RELATED_REQUIREMENT="com.ibm.team.workitem.linktype.rm.relatedRequirement";
_1.TRACKS_REQUIREMENT="com.ibm.team.workitem.linktype.rm.tracksRequirement";
_1.ELABORATED_BY="com.ibm.team.workitem.linktype.am.elaboratedBy";
_1.TIME_SHEET_ENTRY="com.ibm.team.workitem.linktype.timeSheetEntry";
_1.TIME_SHEET_ENTRY_TARGET="timeSheetEntry";
})();


;dojo.provide("com.ibm.team.workitem.web.model.links.WorkItemEndpoints");






(function(){
var _1=com.ibm.jdojox.util.IllegalArgumentException;
var _2=com.ibm.team.workitem.web.model.links;
var _3=_2.EndPointDescriptor;
var _4=_2.WorkItemLinkTypes;
var _5=dojo.declare("com.ibm.team.workitem.web.model.links.WorkItemEndpoints",null,{"-chains-":{constructor:"manual"},constructor:function(){
this._endpoints={};
},_initialize:function(){
this._endpoints[_5.RELATED_WORK_ITEM.getIdentifier()]=_5.RELATED_WORK_ITEM;
this._endpoints[_5.RELATED_ARTIFACT.getIdentifier()]=_5.RELATED_ARTIFACT;
this._endpoints[_5.ATTACHMENT.getIdentifier()]=_5.ATTACHMENT;
this._endpoints[_5.DUPLICATE_WORK_ITEM.getIdentifier()]=_5.DUPLICATE_WORK_ITEM;
this._endpoints[_5.DUPLICATE_OF_WORK_ITEM.getIdentifier()]=_5.DUPLICATE_OF_WORK_ITEM;
this._endpoints[_5.COPIED_WORK_ITEM.getIdentifier()]=_5.COPIED_WORK_ITEM;
this._endpoints[_5.COPIED_FROM_WORK_ITEM.getIdentifier()]=_5.COPIED_FROM_WORK_ITEM;
this._endpoints[_5.BLOCKS_WORK_ITEM.getIdentifier()]=_5.BLOCKS_WORK_ITEM;
this._endpoints[_5.DEPENDS_ON_WORK_ITEM.getIdentifier()]=_5.DEPENDS_ON_WORK_ITEM;
this._endpoints[_5.RESOLVES_WORK_ITEM.getIdentifier()]=_5.RESOLVES_WORK_ITEM;
this._endpoints[_5.RESOLVED_BY_WORK_ITEM.getIdentifier()]=_5.RESOLVED_BY_WORK_ITEM;
this._endpoints[_5.PARENT_WORK_ITEM.getIdentifier()]=_5.PARENT_WORK_ITEM;
this._endpoints[_5.CHILD_WORK_ITEMS.getIdentifier()]=_5.CHILD_WORK_ITEMS;
this._endpoints[_5.PREDECESSOR_WORK_ITEMS.getIdentifier()]=_5.PREDECESSOR_WORK_ITEMS;
this._endpoints[_5.SUCCESSOR_WORK_ITEMS.getIdentifier()]=_5.SUCCESSOR_WORK_ITEMS;
this._endpoints[_5.WORK_TIME.getIdentifier()]=_5.WORK_TIME;
this._endpoints[_5.MENTIONS.getIdentifier()]=_5.MENTIONS;
},getEndpoint:function(_6){
return this._endpoints[_6];
},register:function(_7){
if((_7.getIdentifier() in this._endpoints)){
var _8=this._endpoints[_7.getIdentifier()];
if(!_7.isResolved()){
throw new _1("Cannot register with an unresolved endpoint. Something is wrong with the loading.");
}
_8.resolve(_7);
return;
}
if(!_7.isResolved()){
throw new _1("Cannot register with an unresolved endpoint. Something is wrong with the loading.");
}
this._endpoints[_7.getIdentifier()]=_7;
},clearRegistry:function(){
this._endpoints={};
_5._instance._initialize();
}});
_5._instance=null;
_5.getInstance=function(){
if(_5._instance==null){
_5._instance=new _5();
_5._instance._initialize();
}
return _5._instance;
};
_5.RELATED_WORK_ITEM=new _3(_4.RELATED_WORK_ITEM,false);
_5.RELATED_ARTIFACT=new _3(_4.RELATED_ARTIFACT,false);
_5.ATTACHMENT=new _3(_4.ATTACHMENT,false);
_5.DUPLICATE_WORK_ITEM=new _3(_4.DUPLICATE_WORK_ITEM,false);
_5.DUPLICATE_OF_WORK_ITEM=new _3(_4.DUPLICATE_WORK_ITEM,true);
_5.COPIED_WORK_ITEM=new _3(_4.COPIED_WORK_ITEM,false);
_5.COPIED_FROM_WORK_ITEM=new _3(_4.COPIED_WORK_ITEM,true);
_5.BLOCKS_WORK_ITEM=new _3(_4.BLOCKS_WORK_ITEM,false);
_5.DEPENDS_ON_WORK_ITEM=new _3(_4.BLOCKS_WORK_ITEM,true);
_5.RESOLVES_WORK_ITEM=new _3(_4.RESOLVES_WORK_ITEM,false);
_5.RESOLVED_BY_WORK_ITEM=new _3(_4.RESOLVES_WORK_ITEM,true);
_5.PARENT_WORK_ITEM=new _3(_4.PARENT_WORK_ITEM,false);
_5.CHILD_WORK_ITEMS=new _3(_4.PARENT_WORK_ITEM,true);
_5.PREDECESSOR_WORK_ITEMS=new _3(_4.SCHEDULE_PREDECESSOR,false);
_5.SUCCESSOR_WORK_ITEMS=new _3(_4.SCHEDULE_PREDECESSOR,true);
_5.WORK_TIME=new _3(_4.TIME_SHEET_ENTRY,false);
_5.MENTIONS=new _3(_4.MENTIONS,false);
})();

dojo.provide("com.ibm.team.workitem.web.model.nls.Messages")._built=true;
dojo.provide("com.ibm.team.workitem.web.model.nls.Messages.en_us");
com.ibm.team.workitem.web.model.nls.Messages.en_us={"WorkItemAttachmentList_ATTACHMENT_DELETION_ERROR_Message":"Attachment \'${0}\' cannot be deleted.","ProjectConfiguration_CopyHandlerFetchError":"Unable to fetch the copy handler location from service provider: \'${0}\'. Reason: ${1}","durationLabel":"${0} hours","WorkItemAttachmentList_ATTACHMENT_DELETION_ERROR_Description":"Attachment (Reference: \'${0}\') could not be deleted from the database. This may be a temporary server problem. Please try again.","WorkItemAttachmentList_ATTACHMENT_DELETION_CONFIRMATION":"Are you sure you want to delete the attachment? This operation cannot be undone after save."};

;dojo.provide("com.ibm.team.workitem.web.model.ProjectConfiguration");




























dojo.requireLocalization("com.ibm.team.workitem.web.model","Messages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.workitem.web.model","Messages");
var _2=com.ibm.jdojox.util;
var _3=_2.ArrayList;
var _4=_2.IllegalArgumentException;
var _5=com.ibm.team;
var _6=_5.calm.foundation.web;
var _7=_6.calmdialogs;
var _8=_7.CALMDocument;
var _9=_7.NamespaceContext;
var _a=_6.client;
var _b=_a.CALMFoundationClient;
var _c=_a.CALMResourceProperties.OslcServiceProviderProperties;
var _d=_5.repository.web.transport.ServiceResponseHandler;
var _e=_5.workitem.web;
var _f=_e.client.internal;
var _10=_f.WorkItemClient;
var _11=_f.rest.TeamRepositoryExceptionFactory;
var _12=_e.model.links;
var _13=_12.LinksClient;
var _14=_12.WorkItemEndpoints;
var _15=dojo.string;
dojo.declare("com.ibm.team.workitem.web.model.ProjectConfiguration",null,{"-chains-":{constructor:"manual"},_fServiceProvidersCount:0,_fVisitedServiceProviders:0,constructor:function(_16){
this._calmLinkTypes={};
this._projectAreaItemId=_16;
this._fServiceProvidersCount=0;
this._fVisitedServiceProviders=0;
},getLinkTypes:function(){
if(this._linkTypes==null){
this._linkTypes=_13.getLinkTypes(this._projectAreaItemId);
this._linkTypes.then(function(_17){
_14.getInstance().clearRegistry();
for(var $it=_17.iterator();$it.hasNext();){
var _18=$it.next();
_14.getInstance().register(_18);
}
return _17;
}).otherwise(function(_19){
console.error(_19);
return _19;
});
}
return this._linkTypes;
},getLinkType:function(_1a){
var _1b=(new (require("dojo/Deferred")));
this.getLinkTypes().then(function(_1c){
var _1d=null;
for(var _1e=_1c.iterator();_1e.hasNext();){
var _1f=_1e.next();
if((_1a===_1f.getLinkTypeId())){
_1d=_1f;
break;
}
}
_1b.resolve(_1d);
return _1c;
},function(_20){
return _20;
});
return _1b;
},getHasOSLCLinkTypeMappings:function(){
var _21=(new (require("dojo/Deferred")));
var _22={};
_22.projectAreaItemId=this._projectAreaItemId;
var _23=function(_24){
_21.resolve(_24);
};
var _25=function(_26){
var _27=_11.INSTANCE.createException(_26);
console.log(_27.getMessage());
};
var _28=new _d({"onSuccess":_23,"onFailure":_25},"onSuccess","onFailure");
_10.getHasOSLCLinkTypeMappings(_28,_22);
return _21;
},getCalmLinkTypes:function(_29){
if(this._calmLinkTypes[_29]==null){
this._calmLinkTypes[_29]=_13.getCalmLinkTypes(this._projectAreaItemId,_29);
}
return this._calmLinkTypes[_29];
},getCopyHandlers:function(_2a){
if(_2a==null||_2a.length<=0){
throw new _4("Copy handlers cannot be fetched without the itemType");
}
if(this._copyHandlers==null){
console.debug("Fetching copy handlers for project area: "+this._projectAreaItemId);
this._copyHandlers=this._getCopyHandlers(_2a);
}
return this._copyHandlers;
},_getCopyHandlers:function(_2b){
var _2c=(new (require("dojo/Deferred")));
this._getServiceProviders(_2b).then(dojo.hitch(this,function(_2d){
var _2e=new _3();
this._fServiceProvidersCount=_2d.size();
for(var _2f=_2d.iterator();_2f.hasNext();){
var _30=_2f.next();
this._loadServiceProvider(_30,dojo.hitch(this,"_serviceProviderLoaded",_2c,_2e),dojo.hitch(this,"_serviceProviderLoadFailed",_2c,_2e));
}
return _2d;
})).otherwise(function(_31){
_2c.reject(_31);
return _31;
});
return _2c;
},_serviceProviderLoaded:function(_32,_33,_34){
if(_34!=null&&!_33.contains(_34)){
_33.add(_34);
}
if(this._incrementAndGetVisitedServiceProviders()===this._fServiceProvidersCount){
_32.resolve(_33);
}
},_serviceProviderLoadFailed:function(_35,_36){
if(this._incrementAndGetVisitedServiceProviders()===this._fServiceProvidersCount){
_35.resolve(_36);
}
},_getServiceProviders:function(_37){
var _38={};
_38.projectAreaItemId=this._projectAreaItemId;
_38.itemType=_37;
var _39=(new (require("dojo/Deferred")));
var _3a={};
_3a["onSuccess"]=function(_3b){
var _3c=new _3();
if(_3b!=null){
for(var i=0;i<_3b.length;i++){
var _3d=_3b[i].serviceDocumentUrl;
if(!_3c.contains(_3d)){
_3c.add(_3d);
}
}
}
_39.resolve(_3c);
};
_3a["onFailure"]=function(e){
_39.reject(new Error(e.message));
};
var sh=new _d(_3a,"onSuccess","onFailure");
_b.getServiceProviders(sh,_38);
return _39;
},_loadServiceProvider:function(_3e,_3f,_40){
var _41={};
_41["onSuccess"]=function(_42){
if(_42.errorMessage==null){
var _43=new _8(_42.content);
var _44=_9.getDefaultNamespaceContext();
var _45=_43.getFirstNode("rdf:Description",_44);
var _46=_43.getNodeTextForNode(_45,"jazz_disc:messageReceiver",_44);
if(_46==null){
console.debug("No copy handler available for service provider: "+_3e);
}else{
console.debug("Copy Handler Path is: "+_46);
}
_3f(_46);
}else{
console.error(_15.substitute(_1.ProjectConfiguration_CopyHandlerFetchError,[_3e,_42.errorMessage]));
_40();
}
};
_41["onFailure"]=function(_47){
console.error(_15.substitute(_1.ProjectConfiguration_CopyHandlerFetchError,[_3e,_47.message]));
_40();
};
var sh=new _d(_41,"onSuccess","onFailure");
var _48={};
_48.version="2.0";
_48.resourceURL=_3e;
_48.oslcResourceID=_c.ID;
_48.noModifyResponse=true;
_b.getResource(sh,_48);
},_incrementAndGetVisitedServiceProviders:function(){
return ++this._fVisitedServiceProviders;
},$interfaces:{"com.ibm.team.workitem.web.model.IProjectConfiguration":true}});
})();


;dojo.provide("com.ibm.team.workitem.web.model.ProjectConfigurationRegistry");


(function(){
var _1=com.ibm.team.workitem.web.model.ProjectConfiguration;
var _2=dojo.declare("com.ibm.team.workitem.web.model.ProjectConfigurationRegistry",null,{"-chains-":{constructor:"manual"},constructor:function(){
this._projectConfigurations={};
},getConfiguration:function(_3){
var _4=this._projectConfigurations[_3];
if(_4==null){
_4=new _1(_3);
this._projectConfigurations[_3]=_4;
}
return _4;
}});
_2._instance=null;
_2.getInstance=function(){
if(_2._instance==null){
_2._instance=new _2();
}
return _2._instance;
};
})();


;dojo.provide("com.ibm.team.rtc.foundation.web.ui.util.HTML5Features");






(function(){
var _1=com.ibm.jdojo;
var _2=_1.lang;
var _3=_2.Exception;
var _4=_2.JavaScriptException;
var _5=_1.util.Assert;
var _6=dojo.declare("com.ibm.team.rtc.foundation.web.ui.util.HTML5Features",null,{isSupported:function(){
_5.isTrue(false,"Abstract method 'isSupported' invoked");
},compareTo:function(_7){
return this.ordinal-_7.ordinal;
}});
_6.values=[dojo.mixin(new _6(),{name:"LocalStorage",ordinal:0,isSupported:function(){
try{
if(window.localStorage==null){
return false;
}
window.localStorage.setItem("test","test value");
window.localStorage.removeItem("test");
return true;
}
catch(e){
if((e=e instanceof _3?e:new _4(e)) instanceof _3){
return false;
}else{
throw e;
}
}
}}),dojo.mixin(new _6(),{name:"SessionStorage",ordinal:1,isSupported:function(){
try{
if(window.sessionStorage==null){
return false;
}
window.sessionStorage.setItem("test","test value");
window.sessionStorage.removeItem("test");
return true;
}
catch(e){
if((e=e instanceof _3?e:new _4(e)) instanceof _3){
return false;
}else{
throw e;
}
}
}}),dojo.mixin(new _6(),{name:"FileApi",ordinal:2,isSupported:function(){
return "FormData" in window&&"FileReader" in window&&"FileList" in window&&"File" in window;
}}),dojo.mixin(new _6(),{name:"DragAndDrop",ordinal:3,isSupported:function(){
var _8=dojo.doc.createElement("div");
return "draggable" in _8||("ondragstart" in _8&&"ondrop" in _8);
}}),dojo.mixin(new _6(),{name:"MatchMedia",ordinal:4,isSupported:function(){
return dojo.isFunction(window["matchMedia"]);
}})];
_6.LocalStorage=_6.values[0];
_6.SessionStorage=_6.values[1];
_6.FileApi=_6.values[2];
_6.DragAndDrop=_6.values[3];
_6.MatchMedia=_6.values[4];
})();


;dojo.provide("com.ibm.team.workitem.web.ui.internal.util.BrowserLocalStorage");






(function(){
var _1=com.ibm.jdojo;
var _2=_1.lang.Runtime;
var _3=_1.util.Assert;
var _4=com.ibm.team.rtc.foundation.web.ui.util.HTML5Features;
var _5=dojo.declare("com.ibm.team.workitem.web.ui.internal.util.BrowserLocalStorage",null,{"-chains-":{constructor:"manual"}});
var _6=dojo.declare("com.ibm.team.workitem.web.ui.internal.util.BrowserLocalStorage.Storage",null,{"-chains-":{constructor:"manual"},putString:function(_7,_8){
_3.isTrue(false,"Abstract method 'putString' invoked");
},putStringArray:function(_9,_a){
this.putString(_9,dojo.toJson(_a,false));
},removeItem:function(_b){
_3.isTrue(false,"Abstract method 'removeItem' invoked");
},getString:function(_c){
_3.isTrue(false,"Abstract method 'getString' invoked");
},getStringArray:function(_d){
var _e=this.getString(_d);
if(_e!=null){
return dojo.fromJson(_e);
}
return null;
},getKeys:function(){
_3.isTrue(false,"Abstract method 'getKeys' invoked");
},aKey:function(_f){
return this._fKeyPrefix+_f;
},constructor:function(_10){
this._fKeyPrefix=_10;
},clear:function(){
_3.isTrue(false,"Abstract method 'clear' invoked");
}});
var _11=dojo.declare("com.ibm.team.workitem.web.ui.internal.util.BrowserLocalStorage.LocalStorage",_6,{constructor:function(_12){
this.inherited(arguments,[_12]);
},putString:function(key,_13){
window.localStorage.setItem(this.aKey(key),_13);
},removeItem:function(key){
window.localStorage.removeItem(this.aKey(key));
},getString:function(key){
return window.localStorage.getItem(this.aKey(key));
},getKeys:function(){
var _14=[];
var _15=window.localStorage.length;
for(var i=0;i<_15;i++){
var key=window.localStorage.key(i);
if(key.indexOf(this._fKeyPrefix)===0){
_14.push(key.substring(this._fKeyPrefix.length,key.length));
}
}
return _14;
},clear:function(){
var _16=window.localStorage.length;
for(var i=0;i<_16;i++){
var key=window.localStorage.key(i);
if(key.indexOf(this._fKeyPrefix)===0){
window.localStorage.removeItem(key);
_16--;
}
}
}});
var _17=dojo.declare("com.ibm.team.workitem.web.ui.internal.util.BrowserLocalStorage.RamLocalStorage",_6,{constructor:function(_18){
this.inherited(arguments,[_18]);
},putString:function(key,_19){
_17._fMap[this.aKey(key)]=_19;
},removeItem:function(key){
delete _17._fMap[this.aKey(key)];
},getString:function(key){
return _17._fMap[this.aKey(key)];
},getKeys:function(){
return _2.getProperties(_17._fMap);
},clear:function(){
_17._fMap={};
}});
_5._fLocalStorageMap={};
_5.getLocalStorage=function(_1a){
if(_4.LocalStorage.isSupported()&&window.localStorage!=null){
return new _11(_1a);
}
var _1b=_5._fLocalStorageMap[_1a];
if(_1b==null){
_1b=new _17(_1a);
_5._fLocalStorageMap[_1a]=_1b;
}
return _1b;
};
_17._fMap={};
})();


;dojo.provide("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.CrossServerCommunicator");










(function(){
var _1=com.ibm.jdojo.lang;
var _2=_1.Exception;
var _3=_1.JavaScriptException;
var _4=_1.Runtime;
var _5=com.ibm.jdojox.util.IllegalArgumentException;
var _6=com.ibm.team.workitem.web.ui.internal.module.WindowContext;
var _7=dojo.declare("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.CrossServerCommunicator",null,{"-chains-":{constructor:"manual"},_fCheckForNoResponseTimerId:0,constructor:function(_8,_9){
if(_8==null||_8.size()===0){
throw new _5("Message Receivers must be passed to perform Cross Server communication");
}
if(_9==null||_9.length===0){
throw new _5("Message must be passed to perform Cross Server communication");
}
this._fMessageReceivers=_8;
this._fMessage=_9;
},_transmitDataToReceivers:function(){
this._fRequests={};
this._fCrossWindowListener=_6.addMessageEventHandler(this,this._getIFrameReadyResponseHandler(),_6.getFrontsideURL());
for(var i=0;i<this._fMessageReceivers.size();i++){
this._createForeignServerLocalData("EWM-MessageReceiver"+i,this._fMessageReceivers.at(i));
}
if(this._fCheckForNoResponseTimerId>0){
window.clearTimeout(this._fCheckForNoResponseTimerId);
}
this._fCheckForNoResponseTimerId=window.setTimeout(dojo.hitch(this,function(){
this._fCrossWindowListener.destroy(false);
}),_7.DELAY);
},_getIFrameReadyResponseHandler:function(){
return dojo.hitch(this,function(me){
if(me.data!=null){
var _a=dojo.fromJson(me.data);
var id=_a.id;
console.debug("Ready Message recieved from cross server:"+id);
this._postCrossServerMessage(this._fRequests[id]);
delete this._fRequests[id];
}
if(_4.getProperties(this._fRequests).length===0){
this._fCrossWindowListener.destroy(false);
}
});
},_postCrossServerMessage:function(_b){
try{
console.debug("Posting the message to: "+_b.targetUri);
_6.postMessage(_b.msgFrame.contentWindow,this._fMessage,_b.targetUri);
window.setTimeout(function(){
dojo.destroy(_b.msgFrame);
},_7.DELAY);
}
catch(e){
if((e=e instanceof _2?e:new _3(e)) instanceof _2){
console.error("Error on Post Message to: "+_b.targetUri,e);
}else{
throw e;
}
}
},_createForeignServerLocalData:function(_c,_d){
var _e={};
_e.id=_c;
_e.replyUrl=_6.getFrontsideURL();
_e.consoleLog=true;
var _f=_d+_7.URL_QUERY_SEPARATOR+dojo.objectToQuery(_e);
var _10={display:"none"};
var _11=dojo.create("iframe",{src:_f,marginHeight:"0",marginWidth:"0",frameBorder:"0",style:_10},window.document.body);
var _12={};
_12.targetUri=_d;
_12.msgFrame=_11;
this._fRequests[_c]=_12;
}});
_7.DELAY=8000;
_7.URL_QUERY_SEPARATOR="?";
})();


;dojo.provide("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.OslcLinkConstants");


(function(){
var _1=com.ibm.team.workitem.web.model.links.WorkItemLinkTypes;
var _2=dojo.declare("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.OslcLinkConstants",null,{"-chains-":{constructor:"manual"}});
var _3=dojo.declare("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.OslcLinkConstants.SUPPORTED_APPS",null,{compareTo:function(_4){
return this.ordinal-_4.ordinal;
}});
_2.REQUIREMENT="http://open-services.net/ns/rm#Requirement";
_2.TEST_CASE="http://open-services.net/ns/qm#TestCase";
_2.TEST_PLAN="http://open-services.net/ns/qm#TestPlan";
_2.TEST_EXECUTION_RECORD="http://open-services.net/ns/qm#TestExecutionRecord";
_2.TEST_RESULT="http://open-services.net/ns/qm#TestResult";
_2.TEST_SCRIPT="http://open-services.net/ns/qm#TestScript";
_2.ARCHITECTURE_ELEMENT="http://open-services.net/ns/am#Resource";
_2.TRACKS_WORK_ITEM="http://open-services.net/ns/cm#tracksWorkItem";
_2.CONTRIBUTES_TO_WORK_ITEM="http://open-services.net/ns/cm#trackedWorkItem";
_2.RELATED_CHANGE_MANAGEMENT="http://open-services.net/ns/cm#relatedChangeRequest";
_2.AFFECTS_PLAN_ITEM="http://open-services.net/ns/cm#affectsPlanItem";
_2.AFFECTED_BY_DEFECT="http://open-services.net/ns/cm#affectedByDefect";
_2.BLOCKS_EXECUTION_RECORD="http://open-services.net/ns/cm#blocksTestExecutionRecord";
_2.AFFECTS_EXECUTION_RESULT="http://open-services.net/ns/cm#affectsTestResult";
_2.TESTED_BY_TEST_CASE="http://open-services.net/ns/cm#testedByTestCase";
_2.RELATED_TEST_CASE="http://open-services.net/ns/cm#relatedTestCase";
_2.RELATED_EXECUTION_RECORD="http://open-services.net/ns/cm#relatedTestExecutionRecord";
_2.RELATED_TEST_PLAN="http://open-services.net/ns/cm#relatedTestPlan";
_2.RELATED_TEST_SCRIPT="http://open-services.net/ns/cm#relatedTestScript";
_2.RELATED_TEST_RESULT="http://jazz.net/xmlns/prod/jazz/rtc/cm/1.0/relatedTestResult";
_2.IMPLEMENTS_REQUIREMENT="http://open-services.net/ns/cm#implementsRequirement";
_2.RELATED_REQUIREMENT="http://open-services.net/ns/cm#affectsRequirement";
_2.TRACKS_REQUIREMENT="http://open-services.net/ns/cm#tracksRequirement";
_2.ELABORATED_BY="http://open-services.net/ns/cm#relatedArchitectureElement";
_2.MIME_TYPE="application/x-ibm-jazz-artifact";
_2.CURRENT_VERSION="1.0";
_2.WORKITEM="http://open-services.net/ns/cm#ChangeRequest";
_2.CCM_APP="CCM";
_2.PROJECT_AREA_URI_PREFIX="/process/project-areas/";
_2.ITEMTYPE_WORK_ITEM="com.ibm.team.workitem.WorkItem";
_2.isSupportedType=function(_5,_6){
if(_5==null||_6==null){
return false;
}
var _7=_3[_5];
return dojo.indexOf(_2.supportedTyesForApp(_7),_6)!==-1;
};
_2.getOslcLinkTypeUri=function(_8){
switch(_8){
case _1.TRACKS_WORK_ITEM:
return _2.TRACKS_WORK_ITEM;
case _1.CONTRIBUTES_TO_WORK_ITEM:
return _2.CONTRIBUTES_TO_WORK_ITEM;
case _1.RELATED_CHANGE_MANAGEMENT:
return _2.RELATED_CHANGE_MANAGEMENT;
case _1.AFFECTS_PLAN_ITEM:
return _2.AFFECTS_PLAN_ITEM;
case _1.AFFECTED_BY_DEFECT:
return _2.AFFECTED_BY_DEFECT;
case _1.BLOCKS_EXECUTION_RECORD:
return _2.BLOCKS_EXECUTION_RECORD;
case _1.AFFECTS_EXECUTION_RESULT:
return _2.AFFECTS_EXECUTION_RESULT;
case _1.TESTED_BY_TEST_CASE:
return _2.TESTED_BY_TEST_CASE;
case _1.RELATED_TEST_CASE:
return _2.RELATED_TEST_CASE;
case _1.RELATED_EXECUTION_RECORD:
return _2.RELATED_EXECUTION_RECORD;
case _1.RELATED_TEST_PLAN:
return _2.RELATED_TEST_PLAN;
case _1.RELATED_TEST_SCRIPT:
return _2.RELATED_TEST_SCRIPT;
case _1.RELATED_TEST_RESULT:
return _2.RELATED_TEST_RESULT;
case _1.IMPLEMENTS_REQUIREMENT:
return _2.IMPLEMENTS_REQUIREMENT;
case _1.RELATED_REQUIREMENT:
return _2.RELATED_REQUIREMENT;
case _1.TRACKS_REQUIREMENT:
return _2.TRACKS_REQUIREMENT;
case _1.ELABORATED_BY:
return _2.ELABORATED_BY;
default:
return null;
}
};
_2.supportedTyesForApp=function(_9){
var _a=[];
switch(_9){
case _3.CCM:
_a.push(_2.WORKITEM);
break;
case _3.QM:
_a.push(_2.TEST_CASE,_2.TEST_EXECUTION_RECORD,_2.TEST_PLAN,_2.TEST_RESULT,_2.TEST_SCRIPT);
break;
case _3.RM:
_a.push(_2.REQUIREMENT);
break;
case _3.AM:
_a.push(_2.ARCHITECTURE_ELEMENT);
}
return _a;
};
_3.contains=function(_b){
var _c=_3.values;
var _d=_c.length;
for(var _e=0;_e<_d;_e++){
var _f=_c[_e];
if((_f.name===_b.toUpperCase())){
return true;
}
}
return false;
};
_3.values=[dojo.mixin(new _3(),{name:"CCM",ordinal:0}),dojo.mixin(new _3(),{name:"QM",ordinal:1}),dojo.mixin(new _3(),{name:"RM",ordinal:2}),dojo.mixin(new _3(),{name:"AM",ordinal:3})];
_3.CCM=_3.values[0];
_3.QM=_3.values[1];
_3.RM=_3.values[2];
_3.AM=_3.values[3];
})();


;define("dojox/encoding/digests/_base",["dojo/_base/lang"],function(_1){
var _2=_1.getObject("dojox.encoding.digests",true);
_2.outputTypes={Base64:0,Hex:1,String:2,Raw:3};
_2.addWords=function(a,b){
var l=(a&65535)+(b&65535);
var m=(a>>16)+(b>>16)+(l>>16);
return (m<<16)|(l&65535);
};
var _3=8;
var _4=(1<<_3)-1;
_2.stringToWord=function(s){
var wa=[];
for(var i=0,l=s.length*_3;i<l;i+=_3){
wa[i>>5]|=(s.charCodeAt(i/_3)&_4)<<(i%32);
}
return wa;
};
_2.wordToString=function(wa){
var s=[];
for(var i=0,l=wa.length*32;i<l;i+=_3){
s.push(String.fromCharCode((wa[i>>5]>>>(i%32))&_4));
}
return s.join("");
};
_2.wordToHex=function(wa){
var h="0123456789abcdef",s=[];
for(var i=0,l=wa.length*4;i<l;i++){
s.push(h.charAt((wa[i>>2]>>((i%4)*8+4))&15)+h.charAt((wa[i>>2]>>((i%4)*8))&15));
}
return s.join("");
};
_2.wordToBase64=function(wa){
var p="=",_5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=[];
for(var i=0,l=wa.length*4;i<l;i+=3){
var t=(((wa[i>>2]>>8*(i%4))&255)<<16)|(((wa[i+1>>2]>>8*((i+1)%4))&255)<<8)|((wa[i+2>>2]>>8*((i+2)%4))&255);
for(var j=0;j<4;j++){
if(i*8+j*6>wa.length*32){
s.push(p);
}else{
s.push(_5.charAt((t>>6*(3-j))&63));
}
}
}
return s.join("");
};
_2.stringToUtf8=function(_6){
var _7="";
var i=-1;
var x,y;
while(++i<_6.length){
x=_6.charCodeAt(i);
y=i+1<_6.length?_6.charCodeAt(i+1):0;
if(55296<=x&&x<=56319&&56320<=y&&y<=57343){
x=65536+((x&1023)<<10)+(y&1023);
i++;
}
if(x<=127){
_7+=String.fromCharCode(x);
}else{
if(x<=2047){
_7+=String.fromCharCode(192|((x>>>6)&31),128|(x&63));
}else{
if(x<=65535){
_7+=String.fromCharCode(224|((x>>>12)&15),128|((x>>>6)&63),128|(x&63));
}else{
if(x<=2097151){
_7+=String.fromCharCode(240|((x>>>18)&7),128|((x>>>12)&63),128|((x>>>6)&63),128|(x&63));
}
}
}
}
}
return _7;
};
return _2;
});


;define("dojox/encoding/digests/MD5",["./_base"],function(_1){
var _2=8;
function R(n,c){
return (n<<c)|(n>>>(32-c));
};
function C(q,a,b,x,s,t){
return _1.addWords(R(_1.addWords(_1.addWords(a,q),_1.addWords(x,t)),s),b);
};
function FF(a,b,c,d,x,s,t){
return C((b&c)|((~b)&d),a,b,x,s,t);
};
function GG(a,b,c,d,x,s,t){
return C((b&d)|(c&(~d)),a,b,x,s,t);
};
function HH(a,b,c,d,x,s,t){
return C(b^c^d,a,b,x,s,t);
};
function II(a,b,c,d,x,s,t){
return C(c^(b|(~d)),a,b,x,s,t);
};
function _3(x,_4){
x[_4>>5]|=128<<((_4)%32);
x[(((_4+64)>>>9)<<4)+14]=_4;
var a=1732584193;
var b=-271733879;
var c=-1732584194;
var d=271733878;
for(var i=0;i<x.length;i+=16){
var _5=a;
var _6=b;
var _7=c;
var _8=d;
a=FF(a,b,c,d,x[i+0],7,-680876936);
d=FF(d,a,b,c,x[i+1],12,-389564586);
c=FF(c,d,a,b,x[i+2],17,606105819);
b=FF(b,c,d,a,x[i+3],22,-1044525330);
a=FF(a,b,c,d,x[i+4],7,-176418897);
d=FF(d,a,b,c,x[i+5],12,1200080426);
c=FF(c,d,a,b,x[i+6],17,-1473231341);
b=FF(b,c,d,a,x[i+7],22,-45705983);
a=FF(a,b,c,d,x[i+8],7,1770035416);
d=FF(d,a,b,c,x[i+9],12,-1958414417);
c=FF(c,d,a,b,x[i+10],17,-42063);
b=FF(b,c,d,a,x[i+11],22,-1990404162);
a=FF(a,b,c,d,x[i+12],7,1804603682);
d=FF(d,a,b,c,x[i+13],12,-40341101);
c=FF(c,d,a,b,x[i+14],17,-1502002290);
b=FF(b,c,d,a,x[i+15],22,1236535329);
a=GG(a,b,c,d,x[i+1],5,-165796510);
d=GG(d,a,b,c,x[i+6],9,-1069501632);
c=GG(c,d,a,b,x[i+11],14,643717713);
b=GG(b,c,d,a,x[i+0],20,-373897302);
a=GG(a,b,c,d,x[i+5],5,-701558691);
d=GG(d,a,b,c,x[i+10],9,38016083);
c=GG(c,d,a,b,x[i+15],14,-660478335);
b=GG(b,c,d,a,x[i+4],20,-405537848);
a=GG(a,b,c,d,x[i+9],5,568446438);
d=GG(d,a,b,c,x[i+14],9,-1019803690);
c=GG(c,d,a,b,x[i+3],14,-187363961);
b=GG(b,c,d,a,x[i+8],20,1163531501);
a=GG(a,b,c,d,x[i+13],5,-1444681467);
d=GG(d,a,b,c,x[i+2],9,-51403784);
c=GG(c,d,a,b,x[i+7],14,1735328473);
b=GG(b,c,d,a,x[i+12],20,-1926607734);
a=HH(a,b,c,d,x[i+5],4,-378558);
d=HH(d,a,b,c,x[i+8],11,-2022574463);
c=HH(c,d,a,b,x[i+11],16,1839030562);
b=HH(b,c,d,a,x[i+14],23,-35309556);
a=HH(a,b,c,d,x[i+1],4,-1530992060);
d=HH(d,a,b,c,x[i+4],11,1272893353);
c=HH(c,d,a,b,x[i+7],16,-155497632);
b=HH(b,c,d,a,x[i+10],23,-1094730640);
a=HH(a,b,c,d,x[i+13],4,681279174);
d=HH(d,a,b,c,x[i+0],11,-358537222);
c=HH(c,d,a,b,x[i+3],16,-722521979);
b=HH(b,c,d,a,x[i+6],23,76029189);
a=HH(a,b,c,d,x[i+9],4,-640364487);
d=HH(d,a,b,c,x[i+12],11,-421815835);
c=HH(c,d,a,b,x[i+15],16,530742520);
b=HH(b,c,d,a,x[i+2],23,-995338651);
a=II(a,b,c,d,x[i+0],6,-198630844);
d=II(d,a,b,c,x[i+7],10,1126891415);
c=II(c,d,a,b,x[i+14],15,-1416354905);
b=II(b,c,d,a,x[i+5],21,-57434055);
a=II(a,b,c,d,x[i+12],6,1700485571);
d=II(d,a,b,c,x[i+3],10,-1894986606);
c=II(c,d,a,b,x[i+10],15,-1051523);
b=II(b,c,d,a,x[i+1],21,-2054922799);
a=II(a,b,c,d,x[i+8],6,1873313359);
d=II(d,a,b,c,x[i+15],10,-30611744);
c=II(c,d,a,b,x[i+6],15,-1560198380);
b=II(b,c,d,a,x[i+13],21,1309151649);
a=II(a,b,c,d,x[i+4],6,-145523070);
d=II(d,a,b,c,x[i+11],10,-1120210379);
c=II(c,d,a,b,x[i+2],15,718787259);
b=II(b,c,d,a,x[i+9],21,-343485551);
a=_1.addWords(a,_5);
b=_1.addWords(b,_6);
c=_1.addWords(c,_7);
d=_1.addWords(d,_8);
}
return [a,b,c,d];
};
function _9(_a,_b){
var wa=_1.stringToWord(_b);
if(wa.length>16){
wa=_3(wa,_b.length*_2);
}
var l=[],r=[];
for(var i=0;i<16;i++){
l[i]=wa[i]^909522486;
r[i]=wa[i]^1549556828;
}
var h=_3(l.concat(_1.stringToWord(_a)),512+_a.length*_2);
return _3(r.concat(h),640);
};
_1.MD5=function(_c,_d){
var _e=_d||_1.outputTypes.Base64;
var wa=_3(_1.stringToWord(_c),_c.length*_2);
switch(_e){
case _1.outputTypes.Raw:
return wa;
case _1.outputTypes.Hex:
return _1.wordToHex(wa);
case _1.outputTypes.String:
return _1.wordToString(wa);
default:
return _1.wordToBase64(wa);
}
};
_1.MD5._hmac=function(_f,key,_10){
var out=_10||_1.outputTypes.Base64;
var wa=_9(_f,key);
switch(out){
case _1.outputTypes.Raw:
return wa;
case _1.outputTypes.Hex:
return _1.wordToHex(wa);
case _1.outputTypes.String:
return _1.wordToString(wa);
default:
return _1.wordToBase64(wa);
}
};
return _1.MD5;
});


;dojo.provide("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.SimplifiedLinkingUtils");






(function(){
var _1=com.ibm.team;
var _2=_1.repository.web.client.session;
var _3=_1.workitem.web.ui.internal.util.BrowserLocalStorage;
var _4=dojo.declare("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.SimplifiedLinkingUtils",null,{"-chains-":{constructor:"manual"}});
_4._fLocalStorage=null;
_4.SEP="_";
_4.getUserHash=function(){
return dojox.encoding.digests.MD5(_2.getAuthenticatedContributor().emailAddress,dojox.encoding.digests.outputTypes.Hex);
};
_4.getLastUsedLinkType=function(_5){
return _4._getLocalStorage().getString(_4._getLastUsedLinkTypeKey(_5));
};
_4.putLastUsedLinkType=function(_6,_7){
_4._getLocalStorage().putString(_4._getLastUsedLinkTypeKey(_6),_7);
};
_4._getLastUsedLinkTypeKey=function(_8){
return _8+_4.SEP+"linkType";
};
_4._getLocalStorage=function(){
if(_4._fLocalStorage==null){
_4._fLocalStorage=_3.getLocalStorage(_4._getKeyPrefix());
}
return _4._fLocalStorage;
};
_4._getKeyPrefix=function(){
return "com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.SimplifiedLinkingUtils"+_4.SEP+_4.getUserHash()+_4.SEP;
};
})();

dojo.provide("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.nls.Messages")._built=true;
dojo.provide("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.nls.Messages.en_us");
com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.nls.Messages.en_us={"OslcLinkManager_GenericError":"Error encountered while adding links to this work item.","OslcLinkManager_MissingItems":"Items to be linked are not present in the copy data.","OslcLinksConfirmationDialog_RemoveArtifact":"Remove artifact","OslcLinkManager_InvalidSourceApp":"Copy is initiated from the application \'${0}\', which is not supported.","OslcLinkManager_IncorrectConfigGcMismatch":"The global configuration selected by the user is not compatible with the global configuration present in the copy data. Ensure that the source and the target applications are in the same global configuration context.","OslcLinkManager_MissingProjectAreaUri":"Source project area information is not present in the copy data.","OslcLinkManager_IncorrectServiceProvider":"\'${0}\' project area is not registered as a service provider. Check the project area configuration.","OslcLinksConfirmationDialog_LabelCreatingLinks":"Creating links...","OslcLinksConfirmationDialog_TitleDialog":"Create links","OslcLinksConfirmationDialog_ArtifactsSectionHeader":"Artifacts (${0})","OslcLinkManager_NoServiceProvider":"No service providers are registered for the \'${0}\' link type.","OslcLinkClipboard_CopyHandlersFetchError":"Error encountered while copying the links across applications or servers. Reason: ${0}","OslcLinkManager_IncorrectConfigOptInMismatch":"You cannot create a link from a configuration management enabled project area to this configuration management disabled project area. Ensure that the source and the target applications are in the same global configuration context.","OslcLinkManager_MissingResourceUri":"URL of the copied resource is not present in the copy data.","OslcLinkManager_EmptyDragData":"Empty drag data.","OslcLinkManager_InvalidVersion":"Copy data is of the version \'${0}\' and is not supported.","OslcLinkManager_MissingTypeInfo":"OSLC type of the copied resource is not available in the copy data.","OslcLinkManager_IncorrectConfigDialogHeader":"Cannot link artifacts","OslcLinkManager_InvalidTypeInfo":"Copy data is of the OSLC type \'${0}\' and is not supported.","OslcLinksConfirmationDialog_LabelLoading":"Loading...","OslcLinkManager_InvalidDragData":"Invalid drag data.","OslcLinksConfirmationDialog_UnsupportedResourceType":"The project area is not associated with any artifact containers of the copied \'${0}\' artifact. Check the project area configuration.","OslcLinksConfirmationDialog_Description":"Select the link type.","OslcLinksConfirmationDialog_LabelCreateLinks":"Create links","OslcLinksConfirmationDialog_LinkType":"Link type"};

;dojo.provide("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.OslcLinkClipboard");
















dojo.requireLocalization("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking","Messages");
(function(){
var _1=dojo.i18n.getLocalization("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking","Messages");
var _2=com.ibm.team.workitem.web;
var _3=_2.model.ProjectConfigurationRegistry;
var _4=_2.ui.internal;
var _5=_4.module.WindowContext;
var _6=_4.util.BrowserLocalStorage;
var _7=_4.view.editor.simplifiedLinking;
var _8=_7.CrossServerCommunicator;
var _9=_7.OslcLinkConstants;
var _a=_7.SimplifiedLinkingUtils;
var _b=dojo.string;
dojo.declare("com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.OslcLinkClipboard",null,{"-chains-":{constructor:"manual"},putCopyData:function(_c,_d){
this._getLocalStorage().putString(_9.MIME_TYPE,dojo.toJson(_c,false));
this._transmitCopyDataToAssociatedServers(_c,_d);
},getCopyData:function(_e){
return this._getLocalStorage().getString(_e);
},getKeyPrefix:function(){
return "com.ibm.team.workitem.web.ui.internal.view.editor.simplifiedLinking.OslcLinkClipboard"+"_"+this.getUserHash()+"_";
},_transmitCopyDataToAssociatedServers:function(_f,_10){
_3.getInstance().getConfiguration(_5.getCurrentProjectArea().itemId).getCopyHandlers(_10).then(function(_11){
new _8(_11,dojo.toJson(_f,false))._transmitDataToReceivers();
return _11;
}).otherwise(function(_12){
console.error(_b.substitute(_1.OslcLinkClipboard_CopyHandlersFetchError,[_12.message]));
return _12;
});
},_getLocalStorage:function(){
if(this._fLocalStorage==null){
this._fLocalStorage=_6.getLocalStorage(this.getKeyPrefix());
}
return this._fLocalStorage;
},getUserHash:function(){
return _a.getUserHash();
}});
})();

dojo.provide("com.ibm.team.workitem.web.ui.internal.nls.QueryMessages")._built=true;
dojo.provide("com.ibm.team.workitem.web.ui.internal.nls.QueryMessages.en_us");
com.ibm.team.workitem.web.ui.internal.nls.QueryMessages.en_us={"labelAddUser":"Add User","anyValueSelected":"Any value selected","helpForBulkOperationsWithoutDelete":"To change the attributes of selected work work items, click the ${0} button to choose from a list of available attributes, or click on the ${1} icon in the column headers below to change the corresponding attribute.","sectionTitleBulkOperations":"Edit Multiple Work Items (${0} work items selected)","optionMonthsAgo":"Months before this month","gridColumnActions":"Actions","buttonAddUser":"Add Users...","QueryResultPageControl_Aria_labelPageXToYOfZ":"Work Items ${0} - ${1} of ${2}","sectionTitleTemplateCreateNoneSelected":"Create Template from Work Items (no work items selected)","errorMissingRequiredParmQueryType":"Missing required parameter \'this.queryType\'","dialogTitleSelectAttribute":"Select Attribute","sectionTitleSortOrder":"Sort Order","manyValuesSelected":"${0} values selected","msgDurationValidation":"Use an abbreviated time unit format such as: \'2h\' or \'1d\'","titleEditCurrentQuery":"Edit Current Query","confirmDeleteQuery":"The query \'${0}\' will be permanently deleted.","errorFetchingQueries":"Error fetching queries","titleCancelQuery":"Cancel and return the Queries page","optionDaysFromNow":"Days after today","labelAllMustMatch":"All match","sectionTitleUserSharing":"User Sharing","buttonAddTeamArea":"Add Team or Project Areas...","busyRunningSearch":"Running search...","QueryResults_COLLAPSE_ATTRIBUTE_TOOLTIP":"Collapse attribute: ${0}","QueryResultPageControl_QUERY_SAVE_ERROR":"Error while saving the query.","promptOperationCompleteRefresh":"Operation complete. The query table does not yet show the changes. Refreshing will clear the selections. Do you want to refresh the query?","labelMoreLinks":"${0} more links...","labelTimeSheets_one":"1 entry","labelAnyCanMatch":"Some match","QueryResultPageControl_labelPageXToYOfZ":"\x3cb\x3e${0}\x3c/b\x3e - \x3cb\x3e${1}\x3c/b\x3e of \x3cb\x3e${2}\x3c/b\x3e","unTaggedQueriesLabel":"Untagged","tabTitleDetails":"Details","labelWorkItem":"${0}: ${1}","titleDelete":"Remove","titleOwned":"Created by me","removeTagLabel":"Remove:","labelNotSet":"Not Set","buttonRemove":"Remove","gridColumnCheckbox":"","enterFilterString":"Enter a filter string:","titleViewFullReport":"View Full Result Set in Printable Format","optionMonthsFromNow":"Months after this month","errorInvalidParmValue":"Invalid value for \'this.queryType\'; valid values are \'shared\' or \'myQueries\' (saw \'${0}\')","buttonEditTable":"Bulk Edit Items","timeDurationLabel":"${0} ${1}","labelEmptyTeamAreaSharing":"Not shared","msgTimeFormatLabel":"Enter a duration","busySavingQuery":"Saving Query \'${0}\'","labelAllOpenWorkItems":"All Unresolved Work Items","buttonDescending":"Descending","optionHoursAgo":"Hours before this hour","labelName":"Name:","labelParamWidget":"Values provided when query is run","QueryResultPageControl_Aria_labelPageXToYOfZWithActual":"Work Items ${0} - ${1} of ${2} (${3})","labelCreateTemplate":"Create Work Item Template","addTagLabel":"Add:","labelUnassigned":"Unassigned","tabTitleMyQueries":"My Queries","sectionTitleTemplateCreate":"Create Template from Work Items (${0} work items selected)","titleOwnedAndUnowned":"Any creator","optionMinAgo":"Minutes before this minute","buttonCancel":"Cancel","buttonClose":"Close","optionYearsFromNow":"Years after this year","labelDisableParam":"Disable Input of Condition Values when Query is Run","QueryResultPageControl_labelPageXToYOfZWithActual":"\x3cb\x3e${0}\x3c/b\x3e - \x3cb\x3e${1}\x3c/b\x3e of \x3cb\x3e${2}\x3c/b\x3e (${3})","titleEnterDecimal":"Please enter a valid decimal number.\x3cbr/\x3eThe number cannot have more than 24 significant digits and more than 4 fraction digits","sectionTitleBulkOperationsOneSelected":"Edit Multiple Work Items (1 work item selected)","tagAddInfoCount":"Tags will be added to ${0} of ${1} items.","labelTimeSheets":"${0} entries","titleEnterNumber":"Please enter a number. \x3cbr /\x3eMultiple numbers can be separated by comma.","labelDescending":" (descending)","buttonSave":"Save","QueryResultPageControl_labelPage1OfX":"\x3cb\x3e1\x3c/b\x3e of \x3cb\x3e${0}\x3c/b\x3e","buttonUp":"Up","labelIndividuallyShared":"Individually shared","buttonAddColumn":"Add Column...","labelCreator":"Creator:","buttonFalse":"False","anyValueText":"Any","confirmDeleteSharedQuery":"The query \'${0}\' is shared with other users. The query will be permanently deleted for all users.","errorTerminatingStep":"Error: ${0} | Details: ${1}","errorFetchingWidget":"Loading widget failed","labelPredefined":"Predefined","msgDeleteOneSuccessful":"Work Item ${0} has been deleted.","QueryResultPageControl_Aria_labelPage1OfX":"Work Item 1 of ${0}","buttonAdd":"Add","optionDaysAgo":"Days before today","buttonTrue":"True","optionYearsAgo":"Years before this year","labelActions":"Actions","sectionTitleWorkItemEditQuery":"Edit Query","buttonEditDescription":"Edit Description","selectTagsToDelete":"Select tags to remove.","labelEmptyOrderColumns":"Default sort order","errorFetchingAttributes":"Loading attributes failed","sectionTitleTemplateCreateGeneric":"Create Template from Work Items","queryResultsNameWithSorting":"${0}${1}","sectionTitleBulkOperationsNoneSelected":"Edit Multiple Work Items (no work items selected)","selectAttributes":"Select attributes:","labelPrevious":"Previous","labelSeverity":"Severity","gridColumnExpandCollapse":"Expand/Collapse","errorTerminatingStepWithoutDetails":"Error: ${0}","titleReRunQuery":"Re-Run Query","titleExportCSV":"Download as Spreadsheet (.csv)","workItemsNoResultsLabel":"No work items found for ${0}.","errorQueryExportPermission":"You need the Export Query permission to perform this action.","sectionTitleWorkItemNewQuery":"New Query","labelNoResults":"No results. Select items and run an operation from the operations tab to show results.","optionHoursFromNow":"Hours after this hour","tabTitleSharedQueries":"Shared Queries","titleSelectDeselectAll":"Select/Deselect All","titleUnowned":"Created by others","errorDeletingQuery":"Error deleteing query","QueryResults_EXPAND_ATTRIBUTE_TOOLTIP":"Expand attribute: ${0}","titleShared":"Shared","hideArchivedValues":"Hide archived values","confirmAbandonUnnamedQuery":"Only one query may be edited or viewed at a time. To edit or view a second query, the changes to the first query must be abandoned. Are you sure you want to abandon changes to the new (unnamed) query?","tabTitleConditions":"Conditions","tabTitleResultLayout":"Column Display","sectionTitleBulkOperationInProgress":"Running... ${0}","QueryResultPageControl_Aria_labelPage1OfXWithActual":"Work Item 1 of ${0} (${1})","buttonEdit":"Edit Query","QueryGridGadgetFactory_COUNT":"(${0})","errorAttributeAlreadyAdded":"The attribute is already editable.","labelDeleteWorkItems":"Delete Work Items","buttonStop":"Stop","msgDeleteManySuccessful":"${0} work items have been deleted.","optionMinFromNow":"Minutes after this minute","labelNoWorkItemsFound":"No work items found.","titleShowHideBulkOperations":"Edit Multiple Work Items","titleAddOperation":"Add operation on this attribute","titleUnshared":"Unshared","labelTomorrow":"Tomorrow","QueryResultPageControl_QUERY_SAVE_SUCCESS":"The query was successfully saved.","buttonAddSortColumn":"Add Sort Column...","errorLoadingUsersFailed":"Loading users failed","labelAllWorkItems":"All Work Items","oneValueSelected":"1 value selected","labelNoWorkItemsMatchFilter":"No work items match the current filter criteria.","enterTagsToAdd":"Enter tags to add.","sectionTitleDetails":"Details","dialogTitleAddUsers":"Add Users","titleCloseQuery":"Close the query editor and show the query results","sectionTitleBulkOperationsGeneric":"Edit Multiple Work Items","titleHideGroups":"Hide groups","msgQueryNotShared":"The query is not shared and will not be visible in the Shared Queries tab. You can find it in the My Queries tab.","msgTimeFormatLabelUnit":"Select duration unit","dialogTitleAddWorkItems":"Add Work Items","copyOfNamePattern":"Copy of ${0}","labelClose":"Close","helpForBulkOperations":"To change the attributes of selected work work items, click ${0} to choose from a list of available attributes, or click on the ${1} icon in the column headers below to change the corresponding attribute. Select work items and click ${2} to delete the selected work items.","queryResultsAriaName":"Query Results","labelNoFilteredQueries":"There are no queries that match the tag and/or filter criteria","buttonRun":"Run","labelFilterText":"Filter text","sectionTitleResultColumns":"Result Columns","labelAddOperatorConditionAND":"Add AND condition","buttonDelete":"Delete","confirmDeleteQueryTitle":"Delete the query?","dialogTitleSelectAttributes":"Select Attributes","labelEmptyUserSharing":"Not shared","labelCurrentDate":"now","titleCloseQueryResults":"Close the query results view","QueryResults_buttonEditToggle":"Toggle Edit Work Item in Row","QueryResultsDataHeaderGadget_titleSortingIsDisabled":"Close the operation editor to enable sorting","helpForQueries":"To add terms to the query, click the ${0} button.","labelEmptyResultColumns":"Default columns","labelNoneSelected":"None","labelAddWorkItem":"Add WorkItem","errorNoDetailsAvailable":"No details available","gridColumnTags":"Tags","labelAddOperatorConditionOR":"Add OR condition","labelAND":"AND","sectionTitleDescription":"Description","QueryGridGadgetFactory_COUNT_FILTERED":"(${0} [${1} filtered])","labelItemsPerPage":"Items Per Page","buttonOK":"OK","labelAddCondition":"Add Condition","titleShowGroups":"Show groups","labelTypeFilterText":"Type Filter Text","calenderImgLabel":"Open Calender","buttonCreateTemplate":"Create Work Item Templates","titleSharedAndUnshared":"Shared/Unshared","errorFetchingPresentation":"Loading presentation failed","titleNewQuery":"New Query","labelEmptyDescription":"No description","labelNone":"None","msgDueDateLabel":"Due Date","titleOrderResultsBy":"Refresh and order results by \'${0}\' (${1})","busyLoading":"Loading...","sectionTitleTeamAreaSharing":"Team and Project Area Sharing","titleCreateTemplate":"Create Work Item Template...","buttonSaveCopy":"Save Copy","labelPersonalTags":"Personal","labelClear":"Clear","allQueriesLabel":"All queries","confirmAbandonNamedQuery":"Only one query may be edited or viewed at a time. To edit or view a second query, the changes to the first query must be abandoned. Are you sure you want to abandon changes to the query named \"${0}\"?","noSelectionText":"No Selection","buttonDown":"Down","labelWorkItemType":"Work Item Type","labelAddAttributeChange":"Add Attribute Change","helpForWorkItemTemplateCreation":"To create a work item template of selected work work items, select work items from the table below and click ${0} to open the template creation dialog.","confirmRunOperation":"Are you sure you want to modify ${0} work items?","labelMore":"More...","tagDeleteInfoCount":"Tags will be removed from ${0} of ${1} items.","labelEnableParam":"Enable Input of Condition Values when Query is Run","errorMissingRequiredParmParentController":"Missing required parameter \'this.parentController\'","selectMoreItems":"Select More Items","errorFetchingQueryExportDetails":"Error fetching query export details","allTagsAreBeingAdded":"Cannot remove a tag while it is being added.","msgTimeFormatAssistance":"Enter a duration (e.g. \'1w 2d 3h 4m\', default is \'h\')","msgGlobalConfigurationChanged":"The global configuration has changed.  Refresh to update the links in the query results view.","labelToday":"Today","urlTooLong":"Can not open the document as the URL length exceeds the maximal length supported by the browser. Please use a query with less parameters or use a different browser.","labelRun":"Run...","QueryResultPageControl_labelPage1OfXWithActual":"\x3cb\x3e1\x3c/b\x3e of \x3cb\x3e${0}\x3c/b\x3e (${1})","showLinks":"Show links","confirmDeleteWorkItem":"Are you sure you want to delete work item ${0}? This operation cannot be undone. Any open query will be refreshed. Proceed?","labelNext":"Next","sectionTitleTemplateCreateOneSelected":"Create Template from Work Items (1 work item selected)","showArchivedValues":"Show archived values","titleDeleteWorkItems":"Delete Work Items","labelAddAttributeCondition":"Add attribute condition","labelAscending":" (ascending)","labelShowLess":"Show Less","titleSearch":"Search","sectionTitleTags":"Tags","titleAriaLabel":"${0} ${1}","labelYesterday":"Yesterday","buttonAscending":"Ascending","QueryResults_TITLE_SAVE_CURRENT_COLUMN_WIDTHS":"Persist Current Column Widths","menuDelete":"Delete Query","appendDuplicateAttributeLableWithID":"${0} (${1})","sectionTitleBulkOperationsDerivedValue":"${0} (values derived from item ${1})","labelPriority":"Priority","labelConditionTypeMenu":"Condition type: ","labelOR":"OR","confirmDeleteWorkItems":"Are you sure you want to delete ${0} work items? This operation cannot be undone. Any open query will be refreshed. Proceed?","gridColumnName":"Name","errorFetchingSharedQueries":"Error fetching shared queries","titleShowNonEmptyGroups":"Show groups (exclude empty)","labelShowAll":"Show All","labelSearchWorkItems":"Search Work Items","ResultColumnsSection_Width":"width:","labelSharedTags":"Shared","gridColumnDescription":"Description","labelNoQueries":"No Queries."};

;dojo.provide("com.ibm.team.workitem.web.ui.internal.page.SearchProvider");
















dojo.requireLocalization("com.ibm.team.workitem.web.ui.internal","QueryMessages");


(function(){
var _1=com.ibm.team.repository.web.transport.ServiceResponseHandler;
var _2=com.ibm.team.workitem.web.client.internal.QueryClient;
var _3=com.ibm.team.workitem.web.ui.internal.page.EventTopics;
var _4=com.ibm.team.workitem.web.client.util;
var _5=jazz.util.html;
var _6=com.ibm.team.rtc.foundation.web.util.ConfigurationManagementUtil;
var _7="all";
var _8="unresolved";
var _9=100;
var _a=10;
var _b=dojo.i18n.getLocalization("com.ibm.team.workitem.web.ui.internal","QueryMessages");
dojo.declare("com.ibm.team.workitem.web.ui.internal.page.SearchProvider",[jazz.ui._SearchProvider],{constructor:function(_c){
if(_c&&_c.parentWidget){
this.parentWidget=_c.parentWidget;
}
},scopes:[{id:_7,label:_b.labelAllWorkItems,icon:String(dojo.moduleUrl("com.ibm.team.workitem.web","ui/internal/view/query/images/workitems-searchscope_obj.png?etag=d2KRQLO"))},{id:_8,label:_b.labelAllOpenWorkItems,icon:String(dojo.moduleUrl("com.ibm.team.workitem.web","ui/internal/view/query/images/workitems-searchscope_obj.png?etag=d2KRQLO"))}],tooltip:_b.titleSearch,defaultText:_b.labelSearchWorkItems,noResultsLabel:_b.workItemsNoResultsLabel,getOnUpdate:function(){
return dojo.hitch(this,this.onUpdateInline);
},getOnExecute:function(){
return dojo.hitch(this,this.onExecuteInline);
},onUpdateInline:function(_d,_e,_f,_10){
var _11={query:_d,scopes:_e,callback:_f,errback:_10,isInline:true};
this.onUpdate(_11);
},onExecuteInline:function(_12,_13,_14,_15){
this.onExecute(_12,_13);
},onUpdate:function(_16){
if(_16.query==null||_16.query.length==0){
return;
}
var _17=this;
var _18={_callback:_16.callback,_errorCallback:_16.errback,success:function(_19){
if(_16.isInline){
var _1a=_17._formatQueryResults(_19,_16.query,1,_a,true);
this._callback(_1a.results);
}else{
var _1a=_17._formatQueryResults(_19,_16.query,_16.page,_16.maxResults);
this._callback(_1a);
}
},failure:function(_1b){
this._errorCallback(_1b.message);
}};
var srh=new _1(_18,"success","failure");
var _1c;
if(_4.isWorkItemId(_16.query)){
_1c={id:_4.getWorkItemId(_16.query),scopeToProject:false};
}else{
_1c={maxResults:_9,fullText:_16.query};
if(_16.scope==_8){
_1c.status="open";
}
}
_2.getResults(_1c,srh);
},onExecute:function(_1d,_1e){
var _1f;
if(!_1e){
_1e=_1d.scope;
_1f=_1d.query;
}else{
_1f=_1d;
}
if(_1f==null||_1f.length==0){
return;
}
var _20=(_1e=="unresolved");
var uri=_4.getSearchUri(_1f,_20,false);
var _21=this.parentWidget&&this.parentWidget.isGadget;
com.ibm.team.workitem.web.ui.internal.module.WindowContext.setWindowLocation(_21,false,uri,null,null);
},_createResult:function(dto,_22,_23){
var _24=jazz.util.html.escape(this._getPlainText(dto.summary));
var _25=dto.id;
var _26=this._formatLabel(_25+": "+_24,_22);
var _27;
if(!_23){
var _28=dto.locationUri;
var _29=_6.getConfigurationURI();
if(_29!=null){
_28=_6.appendConfigurationURIParameter(_28,_29);
}
_27={icon:dto.typeIconURL,label:_26,uri:_28};
}else{
_27={id:_25,value:_24.length>53?(_24.substring(0,50)+"..."):_24,label:_26};
var _2a=this;
var _2b=function(_2c){
var _2d=false;
if(_2a.parentWidget&&_2a.parentWidget.isGadget){
_2d=true;
}
com.ibm.team.workitem.web.ui.internal.module.WindowContext.setWindowLocation(_2d,false,_4.getViewWorkItemUri(_25,_22),null,null);
_2a.controller.setWindowLocationHref(_4.getViewWorkItemUri(_25,_22));
};
_27.handler=_2b;
}
return _27;
},_getPlainText:function(_2e){
var div=document.createElement("div");
div.innerHTML=_2e;
return div.textContent||div.innerText;
},_formatLabel:function(_2f,_30){
var _31=_2f.toLowerCase().indexOf(_30.toLowerCase());
if(_31!=-1){
return _2f.substring(0,_31)+"<b>"+_2f.substring(_31,_31+_30.length)+"</b>"+_2f.substring(_31+_30.length);
}
return _2f;
},_formatQueryResults:function(_32,_33,_34,_35,_36){
var _37=_32?_32.workItemSummaryDTOs:[];
var _37=_37||[];
var _38=[];
var _39=(_34-1)*_35;
var _3a=_39+_35;
if(_37.length===0||_37.length<(_39+1)){
return {paging:true,totalResults:_32.totalQueryResultCount,results:_38};
}
var _3b;
var _3a=Math.min(_3a,_37.length);
for(var i=_39;i<_3a;i++){
var _3c=this._createResult(_37[i],_33,_36);
_38.push(_3c);
}
return {paging:true,totalResults:_37.length,results:_38};
}});
})();

dojo.provide("jazz.ui.nls.SearchBoxMessages")._built=true;
dojo.provide("jazz.ui.nls.SearchBoxMessages.en_us");
jazz.ui.nls.SearchBoxMessages.en_us={"tooltip":"Search ${0}","searchButtonAltText":"Search","loading":"Loading...","noResultsLabelWithTerm":"No results found for ${0}.","moreOptions":"More Options","noResultsLabel":"No results found.","fewerOptions":"Fewer Options","resultsFound":"Found ${0} results for ${1}.","quickSearch":"Quick Search","scope":"Scope","itemsShowing":"Showing ${0} of ${1} results for ${2}.","scopeText":"You are searching \'\x3cs0\x3e\x3c/s0\x3e\'.","defaultText":"Search..."};

;dojo.cache("jazz.ui", "templates/SearchBox.html", "<div class=\"jazz-ui-SearchBox\">	<form dojoAttachPoint=\"_searchForm\" class=\"SearchForm inactive\">		<a class=\"ScopeMenu\" dojoAttachPoint=\"_scopeMenu\" href=\"#\"><img class=\"MenuIcon\" alt=\"${_messages.scope}\" dojoAttachPoint=\"_menuImg\"/><div class=\"MenuTwistie\">&#9662;</div></a>		<div class=\"SearchWrapper\" dojoAttachPoint=\"_searchWrapper\">			<div class=\"SearchInputWrapper\">				<div class=\"SearchInnerInputWrapper\">					<input type=\"text\" class=\"SearchInputText\" dojoAttachPoint=\"_searchText\" onfocus=\"this.select()\" role=\"search\" spellcheck=\"false\"></input>				</div>			</div>			<a href=\"#\" title=\"${_messages.searchButtonAltText}\" class=\"SearchButton SearchButtonDisabled\" dojoAttachPoint=\"_searchButton\">				<span class=\"searchButtonSpan\" dojoAttachPoint=\"_searchButtonSpan\">&#128269;</span>			</a>		</div>	</form></div>");

;dojo.cache("jazz.ui", "templates/BannerSearch.html", "<div class=\"jazz-ui-BannerSearchArea\">	<div class=\"trim-outer\"></div>	<div class=\"trim-middle\"></div>	<div class=\"trim-sides\" dojoAttachPoint=\"trimSides\">		<div class=\"trim-inner\"></div>		<div class=\"content\" dojoAttachPoint=\"content\">			<div class=\"quick-search\">${messages.quickSearch}</div>			<div class=\"inner-content\">				<div class=\"more-options\"><a href=\"#\" dojoAttachPoint=\"moreOptions\">${messages.moreOptions}</a></div>				<div class=\"scope-message\"><div dojoAttachPoint=\"scopeText\"></div></div>			</div>			<div class=\"advanced-options\" dojoAttachPoint=\"_advancedOptions\"></div>		</div>		<div class=\"trim-inner\"></div>		<div class=\"results-area-wrapper\" dojoAttachPoint=\"_resultsAreaWrapper\">			<div class=\"status-area\" dojoAttachPoint=\"_statusArea\">				<div class=\"status-info\" dojoAttachPoint=\"_statusInfo\"></div>				<div class=\"status-controls\" dojoAttachPoint=\"_statusControls\"></div>			</div>			<div class=\"results-area\" dojoAttachPoint=\"_resultsBody\">			</div>		</div>	</div>	<div class=\"trim-middle\"></div>	<div class=\"trim-outer\"></div></div>");

;dojo.provide("jazz.ui.SearchBox");


























dojo.requireLocalization("jazz.ui","SearchBoxMessages");
(function(){
var _1;
var _2=600;
var _3;
dojo.declare("jazz.ui.SearchBox",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("jazz.ui","templates/SearchBox.html"),scopes:null,onUpdate:null,onExecute:null,tooltip:null,defaultText:null,noResultsLabel:null,minResultsWidth:null,allowEmptySearches:false,constructor:function(_4){
if(!_1){
_1=dojo.i18n.getLocalization("jazz.ui","SearchBoxMessages");
_3=_1.defaultText;
}
this._messages=_1;
this._sequenceCounter=0;
this._lastResponseReceived=-1;
this._isHoveringSearchButton=false;
},clear:function(_5){
if(this._bannerSearch){
throw new Error("BannerSearch does not support the jazz.ui.SearchBox#clear() function.");
}
this._currentQuery="";
this._searchText.value="";
if(_5){
this._setScope({scope:this.scopes[0],focusText:false});
}
this._searchText.blur();
this._onblur();
},postCreate:function(){
if(!this.textDir){
this.textDir=jazz.app.i18n.getPreferredBaseTextDir();
}
this.applyTextDir(this._searchText,this._searchText.value);
if(this.delay){
dojo.deprecated("jazz.ui.SearchBox.delay","This parameter is no longer supported.");
}
if(this._bannerSearch){
dojo.place(this._scopeMenu,this._searchButton,"before");
dojo.addClass(this.domNode,"jazz-ui-BannerSearchBox");
dojo.addClass(this.domNode,"jazz-ui-BannerSearchBox-areaInactive");
this.connect(this,"_onFocus",this._showBannerSearchArea);
this.connect(this,"_onBlur",this._hideBannerSearchArea);
this._isAdvanced=false;
for(var i=0;i<this.providers.length;i++){
this.connect(this.providers[i],"_setScopesAttr",this._parseProviders);
}
this._parseProviders();
}else{
if(this.provider){
dojo.deprecated("jazz.ui.SearchBox#provider","The SearchBox no longer supports instantiation using a jazz.ui._SearchProvider, some functionality may not work using this mechanism");
this._setScope({provider:this.provider,scope:this.provider.scopes[0],focusText:false});
}else{
this._setScope({scope:this.scopes[0],focusText:false});
}
}
dijit.setWaiRole(this._scopeMenu,"button");
dijit.setWaiState(this._scopeMenu,"expanded",false);
this.connect(this._searchText,"onkeyup",this._onchange);
this.connect(this._searchText,"oninput",this._onchange);
this.connect(this._searchText,"onkeypress",this._onkeypress);
this.connect(this._searchText,"onfocus",this._onfocus);
this.connect(this._searchText,"onblur",this._onblur);
this.connect(this._scopeMenu,"onclick",this._openMenu);
this.connect(this._scopeMenu,"onkeypress",this._sniffKey);
this.connect(this._searchButton,"onclick",this._onclickSearchButton);
this.connect(this._searchButton,"onmouseover",this._onmouseoverSearchButton);
this.connect(this._searchButton,"onmouseout",this._onmouseoutSearchButton);
},_parseProviders:function(){
var _6=this._provider||this.defaultProvider,_7;
if(!this._isProviderValid(_6)){
_6=null;
for(var i=0;i<this.providers.length;i++){
if(this._isProviderValid(this.providers[i])){
_6=this.providers[i];
break;
}
}
}
if(!_6){
this.domNode.style.display="none";
}else{
this.domNode.style.display="";
var _8=(this._scope&&this._scope.id)||this.defaultScope;
if(_8){
for(var i=0;i<_6.scopes.length;i++){
if(_8===_6.scopes[i].id){
_7=_6.scopes[i];
break;
}
}
}
if(!_7){
_7=_6.scopes[0];
}
this._setScope({provider:_6,scope:_7,focusText:false});
}
},_isProviderValid:function(_9){
return _9&&_9.scopes&&_9.scopes.length;
},destroy:function(){
if(this._results){
this._results.destroyRecursive();
delete this._results;
}
if(this._menu){
this._menu.destroyRecursive();
delete this._menu;
}
this.inherited(arguments);
},_getProperty:function(_a){
var _b,_c;
if(this._scope&&this._scope[_a]){
_b=this._scope[_a];
_c=this._scope;
}
if(this._provider&&this._provider[_a]){
_b=this._provider[_a];
_c=this._provider;
}
if(!_b){
_b=this[_a];
_c=this;
}
return typeof _b==="function"?dojo.hitch(_c,_b):_b;
},_getDefaultText:function(){
return this._getProperty("defaultText")||(this._provider&&this._provider.name?dojo.string.substitute(_1.tooltip,[this._provider.name]):_3);
},_onchange:function(e){
if(this.textDir=="auto"){
this.applyTextDir(this._searchText,this._searchText.value);
}
var _d=dojo.trim(this._searchText.value);
if(_d!=this._currentQuery){
this._currentQuery=_d;
if(this._timeout){
clearTimeout(this._timeout);
delete this._timeout;
}
this._timeout=setTimeout(dojo.hitch(this,this._update,false,0,false),_2);
}
this._updateSearchButton();
},_onkeypress:function(e){
if(e.charCode){
return;
}
if(e&&(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER)){
if(e.keyCode==dojo.keys.DOWN_ARROW&&this._results){
this._results.focus();
}
if(e.keyCode==dojo.keys.ENTER){
this._performExecute();
}
dojo.stopEvent(e);
}
if(e&&e.keyCode==dojo.keys.TAB&&!e.shiftKey&&this._isLegacyResultsOpen){
this._results.focus();
dojo.stopEvent(e);
}
},_onfocus:function(e){
if(this._searchText.value==this._getDefaultText()){
this._searchText.value="";
this._searchText.select();
}
dojo.removeClass(this._searchForm,"inactive");
this._closeMenu();
},_onblur:function(e){
if(this._timeout){
clearTimeout(this._timeout);
delete this._timeout;
}
if(dojo.trim(this._searchText.value)==""){
dojo.addClass(this._searchForm,"inactive");
this._searchText.value=this._getDefaultText();
}
},_onclickSearchButton:function(e){
if(e){
dojo.stopEvent(e);
}
this._performExecute();
},_onmouseoverSearchButton:function(){
this._isHoveringSearchButton=true;
this._updateSearchButton();
},_onmouseoutSearchButton:function(){
this._isHoveringSearchButton=false;
this._updateSearchButton();
},_performExecute:function(){
if((this._currentQuery&&this._currentQuery.length>0)||this._bannerSearch||this._getProperty("allowEmptySearches")){
var _e=this._getProperty("onExecute"),_f=false;
if(_e){
if(this._timeout){
clearTimeout(this._timeout);
delete this._timeout;
}
this._closeLegacyResults();
if(this._provider){
_f=!_e({query:this._currentQuery||"",scope:this._scope.id,advanced:this._isAdvanced});
}else{
_e(this._currentQuery||"",this._scope.id);
_f=true;
}
}
if(!_f&&this._getProperty("onUpdate")){
this._update(true);
}
if(this._bannerSearch&&_f&&!this._getProperty("resultsArea")){
this._doHideBannerSearchArea(null,true);
this._clearResults(true);
}
}
},_showErrorLegacy:function(_10){
this._showResultsLegacy([{label:_10}],this.minResultsWidth);
},_showResultsLegacy:function(_11,_12){
if(this._isResultsShowing){
this._clearResults(true);
}
if(!_11||_11.length==0){
_11=[{label:this._getProperty("noResultsLabel")||_1.noResultsLabel}];
}
if(!this._results){
this._results=new net.jazz.web.ui.internal.SearchResults({predecessor:this._searchText,successor:this.domNode.nextSibling,onSelect:dojo.hitch(this,this._onSelectResult)});
this._resultsCloseOnBody=this.connect(this,"_onBlur",this._closeLegacyResults);
}
var pos=dojo.position(this._searchWrapper);
var _13=_12;
if(!_13||_13<pos.w){
_13=pos.w;
}
this._results.setContent(_11,_13);
if(this._currentQuery.length>0){
if(this._bannerSearch&&dojo.isIE&&dojo.isIE<8){
this._results.domNode.style.width="100%";
dijit.placeOnScreenAroundNode(this._results.domNode,this._searchWrapper,{"BR":"TR"});
this._results.domNode.style.width="";
}
dijit.placeOnScreenAroundNode(this._results.domNode,this._searchWrapper,this._bannerSearch?{"BR":"TR"}:{"BL":"TL"});
dojo.attr(this._results.domNode,{dijitPopupParent:this.id});
this._isLegacyResultsOpen=true;
}
},_onSelectResult:function(e){
if(e){
dojo.stopEvent(e);
if(e.currentTarget){
e.currentTarget.blur();
}
}
this._closeLegacyResults();
},_closeLegacyResults:function(){
if(this._results){
dijit.popup.close(this._results);
if(this._results){
this._results.destroyRecursive();
delete this._results;
}
this._isLegacyResultsOpen=false;
}
},_handlePagination:function(_14,_15,end){
var _16=Math.ceil(_15/10);
this._update(true,_16);
},_showResults:function(_17,_18,_19){
this._clearResults();
if(!_17.totalResults){
var _1a=this._getProperty("noResultsLabel")||_1.noResultsLabelWithTerm;
this._showMessage(dojo.string.substitute(_1a,[_19]));
}else{
if(!_17.paging){
var _1b=Math.min(10,_17.totalResults);
this._bannerSearchArea._statusInfo.innerHTML=dojo.string.substitute(_1.itemsShowing,[_1b,_17.totalResults,_19]);
if(this._getProperty("onExecute")){
var _1c=dojo.create("a",{innerHTML:"Show All >>",href:"#"},this._bannerSearchArea._statusControls,"only");
this._resultConnects.push(this.connect(_1c,"onclick",this._onclickSearchButton));
}
}else{
if(!_18){
this._bannerSearchArea._statusInfo.innerHTML=dojo.string.substitute(_1.resultsFound,[_17.totalResults,_19]);
var _1d=dojo.hitch(this,this._handlePagination);
var _1e=new jazz.ui.PaginationControl({total:_17.totalResults,startPage:0,increment:10,onNextClick:_1d,onPreviousClick:_1d});
dojo.place(_1e.domNode,this._bannerSearchArea._statusControls,"only");
}
}
}
this._bannerSearchArea._statusArea.style.display="block";
var _1f=this._bannerSearchArea._resultsBody;
for(var i=0;i<_17.results.length;i++){
var _20=_17.results[i];
var div=dojo.create("div",{className:"search-result"});
var _21=dojo.create("div",{className:"icon"},div);
if(_20.icon){
dojo.create("img",{src:_20.icon},_21);
}else{
if(_20.iconClass){
dojo.create("img",{src:this._blankGif,className:_20.iconClass},_21);
}
}
var _22=dojo.create("div",{className:"link"},div);
var _1a="<span>"+_20.label+"</span>";
var a=dojo.create("a",{href:_20.uri||"#",innerHTML:_1a},_22);
if(_20.uri){
var _23={retainLinkText:true};
if(_20.presentationUri){
_23.presentationUri=_20.presentationUri;
}
var rl=new jazz.ui.ResourceLink(_23,a);
this._resultConnects.push(this.connect(rl.popup,"onOpen",function(){
this._isResourceLinkOpen=true;
}));
this._resultConnects.push(this.connect(rl.popup,"onClose",function(){
this._isResourceLinkOpen=false;
}));
this._resultWidgets.push(rl);
}
if(_20.description){
dojo.create("div",{innerHTML:_20.description},div);
}
_1f.appendChild(div);
this._resultConnects.push(this.connect(a,"onclick",dojo.partial(function(_24,e){
e.target.blur();
if(!_24.uri){
e.preventDefault();
}
if(_24.onclick){
_24.onclick(e);
}
},_20)));
}
this._isResultsShowing=true;
},_showLoading:function(){
this._showMessage(_1.loading);
},_showError:function(_25){
this._showMessage(_25);
dojo.addClass(this._bannerSearchArea._statusInfo,"status-error");
},_showMessage:function(msg){
this._clearResults();
this._bannerSearchArea._statusArea.style.display="block";
this._bannerSearchArea._statusInfo.innerHTML=msg;
dojo.empty(this._bannerSearchArea._statusControls);
this._isResultsShowing=true;
},_clearResults:function(_26){
if(this._resultConnects){
for(var i=0;i<this._resultConnects.length;i++){
this.disconnect(this._resultConnects[i]);
}
}
this._resultConnects=[];
if(this._resultWidgets){
for(var i=0;i<this._resultWidgets.length;i++){
this._resultWidgets[i].destroy();
}
}
this._resultWidgets=[];
this._bannerSearchArea._resultsBody.innerHTML="";
dojo.removeClass(this._bannerSearchArea._statusInfo,"status-error");
if(_26){
this._isResultsShowing=false;
this._bannerSearchArea._statusArea.style.display="";
}
},_update:function(_27,_28,_29){
var _2a=this._getProperty("onUpdate");
if(_2a&&((this._currentQuery!=this._lastQuery)||_27)){
this._lastQuery=this._currentQuery;
if((this._currentQuery&&this._currentQuery.length>0)||(_27&&this._getProperty("allowEmptySearches"))){
if(this._bannerSearch&&(_29||(!this._isResultsShowing&&!this._isLegacyResultsOpen))){
this._showLoading();
}
var _2b=this;
var _2c=++this._sequenceCounter;
var _2d=this._currentQuery||"";
var _2e=function(_2f){
if(_2c>_2b._lastResponseReceived){
_2b._lastResponseReceived=_2c;
if(dojo.isArray(_2f)){
_2b._showResultsLegacy(_2f,_2b._getProperty("minResultsWidth"));
}else{
_2b._showResults(_2f,_28,"'<strong>"+jazz.util.html.escape(_2b.enforceTextDirWithUcc({},_2d))+"</strong>'");
}
}
};
var _30=function(_31){
if(_2c>_2b._lastResponseReceived){
_2b._showError(_31);
}
};
var _32=function(_33){
if(_2c>_2b._lastResponseReceived){
_2b._showErrorLegacy(_33);
}
};
if(this._provider){
_2a({query:this._currentQuery||"",scope:this._scope.id,advanced:this._isAdvanced,page:_28||1,maxResults:10,callback:_2e,errback:_30});
}else{
_2a(this._currentQuery||"",this._scope.id,_2e,_32);
}
}else{
this._lastResponseReceived=this._sequenceCounter;
if(this._bannerSearchArea){
this._closeLegacyResults();
this._clearResults(true);
}
}
}else{
delete this._timeout;
}
},_updateSearchButton:function(){
var _34=(this._currentQuery&&this._currentQuery.length>0);
this._searchButton.className="SearchButton "+(_34||this._getProperty("allowEmptySearches")?"SearchButtonEnabled":"SearchButtonDisabled");
},_sniffKey:function(e){
if(e.keyCode==dojo.keys.DOWN_ARROW||e.keyCode==dojo.keys.ENTER){
this._openMenu();
dojo.stopEvent(e);
}
},_openMenu:function(e){
if(e){
dojo.stopEvent(e);
}
this._closeLegacyResults();
if(this._menuOpen){
this._closeMenu();
return;
}
if(this._menu){
this._menu.destroyRecursive();
}
var _35;
if(this._bannerSearch){
_35=new jazz.ui.MegaMenu();
var _36=this.providers;
for(var i=0;i<_36.length;i++){
_35.addTitle(_36[i].name);
for(var j=0;j<_36[i].scopes.length;j++){
var _37=_36[i].scopes[j];
var _38={label:_37.label,onClick:dojo.hitch(this,this._setScope,{scope:_37,focusText:true,provider:_36[i]})};
if(_37.icon){
_38.icon=_37.icon;
}
if(_37.iconClass){
_38.iconClass=_37.iconClass;
}
var _39=_35.addItemByArgs(_38);
if(_37===this._scope){
var _3a=_39;
}
}
if(_3a){
_35.setSelected(_3a);
}
}
}else{
_35=new jazz.ui.Menu();
var _3b=this.scopes||this._provider.scopes;
for(var i=0;i<_3b.length;i++){
_35.addChild(this._createMenuItem(_3b[i]));
}
dojo.addClass(_35.domNode,"jazz-ui-SearchBox-ScopeMenu");
}
dojo.addClass(this._scopeMenu,"ScopeMenu-selected");
dijit.setWaiState(this._scopeMenu,"expanded",true);
dijit.popup.open({popup:_35,parent:this,around:this._scopeMenu,onExecute:dojo.hitch(this,this._closeMenu),onCancel:dojo.hitch(this,this._closeMenu),orient:this._bannerSearch?{"BR":"TR"}:{"BL":"TL"}});
if(this._bannerSearch){
var _3c=function(){
if(_35.domNode){
var _3d=_35.domNode.parentNode;
if(!_3d){
return;
}
var pos=dojo.position(_3d,true);
var _3e=dojo.position(this._scopeMenu,true);
var _3f=Math.max(0,_3e.x+_3e.w-pos.w);
_3d.style.left=_3f+"px";
}
};
this.connect(_35,"onReflow",_3c);
dojo.hitch(this,_3c)();
}
this._menuCloseOnBody=this.connect(this,"_onBlur",this._closeMenu);
this._menuKeyHandler=this.connect(_35.domNode,"onkeypress",this._onMenuKeyPress);
this._menu=_35;
_35.focus();
this._menuOpen=true;
},_createMenuItem:function(_40){
var _41="<img class=\"itemIcon\" src=\""+_40.icon+"\"><span class=\"itemLabel\">"+_40.label+"</span>";
var _42={scope:_40,focusText:true};
var _43={label:_41,onClick:dojo.hitch(this,this._setScope,_42)};
if(_40===this._scope){
_43.iconClass="selectedItem";
}
var _44=new dijit.MenuItem(_43);
dijit.setWaiRole(_44.domNode,"menuitemradio");
return _44;
},_closeMenu:function(e){
if(e&&typeof e=="object"){
dojo.stopEvent(e);
}
if(this._menuOpen){
this._menuOpen=false;
dojo.removeClass(this._scopeMenu,"ScopeMenu-selected");
dijit.setWaiState(this._scopeMenu,"expanded",false);
this.disconnect(this._menuCloseOnBody);
this.disconnect(this._menuKeyHandler);
if(this._bannerSearch&&this._menuBlur){
this.disconnect(this._menuBlur);
}
dijit.popup.close(this._menu);
}
},_onMenuKeyPress:function(e){
if(e.keyCode==dojo.keys.TAB){
if(e.shiftKey){
this._scopeMenu.focus();
}else{
this._searchText.focus();
}
}
},_setScope:function(_45){
if(!_45.scope){
return;
}
if(_45.provider){
this._provider=_45.provider;
if(this._providerUpdateConnect){
this.disconnect(this._providerUpdateConnect);
}
this._providerUpdateConnect=this.connect(this._provider,"update",dojo.partial(this._update,true,0,true));
}
this._scope=_45.scope;
this._scopeMenu.title=this._scope.title||dojo.string.substitute(_1.tooltip,[this._scope.label]);
if(this._bannerSearchArea){
this._bannerSearchArea.scopeMessage.innerHTML=this._scope.label;
}
this._searchText.title=this._getProperty("tooltip")||dojo.string.substitute(_1.tooltip,[this._scope.label]);
if(dojo.hasClass(this._searchForm,"inactive")){
this._searchText.value=_45.focusText?"":this._getDefaultText();
}
this._menuImg.src=this._scope.icon||this._blankGif;
this._menuImg.className="MenuIcon"+(this._scope.iconClass?" "+this._scope.iconClass:"");
if(_45.focusText){
this._searchText.focus();
}
this._updateBannerSearchArea(true);
this._updateSearchButton();
this._resizeEvent=jazz.util.ResizeNotifier.poke();
delete this._lastQuery;
this._update(false,0,true);
},_showBannerSearchArea:function(){
var _46=false;
if(!this._bannerSearchArea){
dojo.addClass(this.domNode,"jazz-ui-BannerSearchBox-areaInactive");
this._bannerSearchArea=new net.jazz.web.ui.internal.BannerSearchArea();
this._bannerSearchArea.scopeMessage.innerHTML=this._scope.label;
this.connect(this._bannerSearchArea.moreOptions,"onclick",this._toggleMoreOptions);
dojo.place(this._bannerSearchArea.domNode,this.domNode,"after");
_46=true;
}
this._updateBannerSearchArea(_46);
if(!this._searchAreaBlur){
this._searchAreaBlur=this.connect(this._bannerSearchArea,"_onBlur",this._hideBannerSearchArea);
}
if(!this._searchAreaEscape){
this._searchAreaEscape=this.connect(dojo.body(),"onkeypress",this._onKeyPress);
}
if(!this._onBodyClick){
this._onBodyClick=this.connect(dojo.body(),"onclick",this._doHideBannerSearchArea);
}
dojo.removeClass(this.domNode,"jazz-ui-BannerSearchBox-areaInactive");
dojo.style(this._bannerSearchArea.domNode,"opacity",0);
if(this._closeAnim){
this._closeAnim.stop();
}
var _47={node:this._bannerSearchArea.domNode,duration:0,properties:{opacity:{start:0,end:1}},onEnd:dojo.hitch(this,function(){
dojo.style(this._bannerSearchArea.domNode,"opacity",1);
if(dojo.isIE===8){
dojo.style(this._bannerSearchArea.scopeText,"opacity",1);
}
this._openAnim=null;
})};
this._openAnim=dojo.animateProperty(_47);
if(dojo.isIE===8){
dojo.style(this._bannerSearchArea.scopeText,"opacity",0);
_47.node=this._bannerSearchArea.scopeText;
this._openAnim=dojo.fx.combine([this._openAnim,dojo.animateProperty(_47)]);
}
this._openAnim.play();
this._bannerSearchArea.domNode.style.display="";
this._setResultsAreaSizing(true);
},_updateBannerSearchArea:function(_48){
if(!this._bannerSearchArea){
return;
}
var _49=this._getProperty("createAdvancedOptions");
var _4a=this._getProperty("defaultAdvancedOptions");
this._bannerSearchArea.moreOptions.style.display=_49?"inline":"";
if(_48){
if(_49&&this._isAdvanced&&(this._deliberateState||_4a)){
this._populateAdvancedOptions();
}else{
if((this._isAdvanced&&(!_49||(!this._deliberateState&&!_4a)))||(!this._isAdvanced&&_49&&_4a&&!this._deliberateState)){
this._toggleMoreOptions();
}
}
}
var _4b=this._getProperty("resultsArea");
if(_4b){
dojo.deprecated("jazz.ui._SearchProvider#resultsArea","The Foundation is now responsible for rendering inline results, use the callback provided to jazz.ui._SearchProvider#onUpdate instead");
if(!this._getProperty("onUpdate")){
this._removeChildren(this._bannerSearchArea._resultsAreaWrapper);
this._bannerSearchArea._resultsAreaWrapper.appendChild(_4b);
}
if(dojo.isIE===7){
dojo.style(this._bannerSearchArea._resultsAreaWrapper,{display:"block"});
}
}else{
if(dojo.isIE===7){
dojo.style(this._bannerSearchArea._resultsAreaWrapper,{display:""});
}
}
},_updateResultsAreaHeight:function(){
var v=dijit.getViewport();
var p=dojo.position(this._bannerSearchArea._resultsAreaWrapper);
if(!v.h||!p.y){
return;
}
this._bannerSearchArea._resultsAreaWrapper.style.maxHeight=Math.max(v.h-p.y-50,200)+"px";
},_setResultsAreaSizing:function(_4c){
if(_4c){
this._updateResultsAreaHeight();
this._resizeNotifierId=jazz.util.ResizeNotifier.register({context:this,callback:this._updateResultsAreaHeight,force:true,publishEvents:false});
}else{
if(this._resizeNotifierId){
jazz.util.ResizeNotifier.unregister(this._resizeNotifierId);
}
}
},_onKeyPress:function(e){
if(e.type=="keypress"&&e.keyCode==dojo.keys.ESCAPE){
this._doHideBannerSearchArea(null,true);
}
},_hideBannerSearchArea:function(e){
this._hideTimeout=setTimeout(dojo.hitch(this,this._doHideBannerSearchArea),0);
},_doHideBannerSearchArea:function(e,_4d){
var _4e=(e&&e.target)||(dijit.getFocus()&&dijit.getFocus().node);
if(!_4d&&_4e&&(dojo.isDescendant(_4e,this._bannerSearchArea.domNode)||dojo.isDescendant(_4e,this.domNode)||(this._menu&&dojo.isDescendant(_4e,this._menu.domNode))||(this._isAdvanced&&this._getProperty("isAdvancedDescendant")&&this._getProperty("isAdvancedDescendant")(_4e))||(this._isResourceLinkOpen&&dojo.isDescendant(_4e,jazz.ui._getMasterPopup().domNode)))){
return;
}
this._setResultsAreaSizing(false);
clearTimeout(this._hideTimeout);
delete this._hideTimeout;
this.disconnect(this._searchAreaBlur);
delete this._searchAreaBlur;
this.disconnect(this._searchAreaEscape);
delete this._searchAreaEscape;
if(this._onBodyClick){
this.disconnect(this._onBodyClick);
delete this._onBodyClick;
}
dojo.style(this._bannerSearchArea.domNode,"opacity",1);
if(dojo.isIE===8){
dojo.style(this._bannerSearchArea.scopeText,"opacity",1);
}
var _4f=dojo.hitch(this,function(){
this._bannerSearchArea.domNode.style.display="none";
dojo.style(this._bannerSearchArea.domNode,"opacity",0);
if(dojo.isIE===8){
dojo.style(this._bannerSearchArea.scopeText,"opacity",0);
}
this._closeAnim=null;
this._searchText.blur();
this._searchButton.blur();
});
dojo.addClass(this.domNode,"jazz-ui-BannerSearchBox-areaInactive");
if(this._openAnim){
this._openAnim.stop();
_4f();
}else{
var _50={node:this._bannerSearchArea.domNode,duration:0,properties:{opacity:{start:1,end:0}},onEnd:_4f};
this._closeAnim=dojo.animateProperty(_50);
if(dojo.isIE===8){
_50.node=this._bannerSearchArea.scopeText;
this._closeAnim=dojo.fx.combine([this._closeAnim,dojo.animateProperty(_50)]);
}
this._closeAnim.play();
}
},_toggleMoreOptions:function(e){
if(e){
dojo.stopEvent(e);
this._deliberateState=true;
}else{
this._deliberateState=false;
}
this._isAdvanced=!this._isAdvanced;
if(this._isAdvanced){
this._bannerSearchArea.moreOptions.innerHTML=_1.fewerOptions;
this._populateAdvancedOptions();
this._bannerSearchArea._advancedOptions.style.display="block";
dojo.addClass(this._bannerSearchArea.moreOptions,"fewer-options");
}else{
this._bannerSearchArea.moreOptions.innerHTML=_1.moreOptions;
this._bannerSearchArea._advancedOptions.style.display="";
dojo.removeClass(this._bannerSearchArea.moreOptions,"fewer-options");
}
this._updateResultsAreaHeight();
this._provider.onToggleAdvancedOptions(this._isAdvanced);
if(this._scope.onToggleAdvancedOptions){
this._scope.onToggleAdvancedOptions(this._isAdvanced);
}
},_populateAdvancedOptions:function(){
this._removeChildren(this._bannerSearchArea._advancedOptions);
if(this._provider&&this._provider.createAdvancedOptions){
if(!this._provider.createAdvancedOptions.__domNode){
this._provider.createAdvancedOptions.__domNode=this._provider.createAdvancedOptions.apply(this._provider);
}
this._bannerSearchArea._advancedOptions.appendChild(this._provider.createAdvancedOptions.__domNode);
}else{
this._removeChildren(this._bannerSearchArea._advancedOptions);
}
if(this._scope&&this._scope.createAdvancedOptions){
if(!this._scope.createAdvancedOptions.__domNode){
this._scope.createAdvancedOptions.__domNode=this._scope.createAdvancedOptions.apply(this._provider);
}
this._bannerSearchArea._advancedOptions.appendChild(this._scope.createAdvancedOptions.__domNode);
}
},_removeChildren:function(_51){
while(_51.hasChildNodes()){
_51.removeChild(_51.firstChild);
}
}});
dojo.declare("net.jazz.web.ui.internal.SearchResults",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"net-jazz-web-ui-internal-SearchResults\"></div>",constructor:function(_52){
this._predecessor=_52.predecessor;
this._successor=_52.successor;
this._onSelect=_52.onSelect;
},postCreate:function(){
this._bgIframe=new dijit.BackgroundIframe(this.domNode);
},focus:function(){
this._menu.focus();
},performDefault:function(){
if(this._defaultHandler){
this._defaultHandler();
return true;
}
return false;
},setContent:function(_53,_54){
delete this._defaultHandler;
this._results=_53;
this._width=_54;
var _55=new net.jazz.web.ui.internal.CustomMenu({predecessor:this._predecessor,successor:this._successor});
for(var i=0;i<_53.length;i++){
this._addItem(_55,_53[i],0);
if(!this._defaultHandler&&_53[i].handler){
this._defaultHandler=_53[i].handler;
}
}
var _56=document.createElement("div");
_56.className="content";
_56.style.minWidth=(this._width-2)+"px";
_56.appendChild(_55.domNode);
if(this._content){
this.domNode.replaceChild(_56,this._content);
}else{
this.domNode.appendChild(_56);
}
this._content=_56;
if(this._menu){
this._menu.destroyRecursive();
}
this._menu=_55;
},_addItem:function(_57,_58,_59){
var buf=["<div class=\"entry\" style=\"padding-left: "];
buf.push((_59*1.25));
buf.push("em\">");
buf.push(_58.label);
buf.push("</div>");
if(_58.handler){
var _5a={_self:this,_result:_58,handle:function(e){
this._self._onSelect(e);
this._result.handler();
}};
var _5b=new dijit.MenuItem({label:buf.join(""),onClick:dojo.hitch(_5a,_5a.handle)});
}else{
var _5b=new net.jazz.web.ui.internal.DisabledMenuItem({label:buf.join("")});
}
_57.addChild(_5b);
var _5c=_58.children;
if(_5c){
var _5d=_59+1;
for(var i=0;i<_5c.length;i++){
this._addItem(_57,_5c[i],_5d);
}
}
},destroy:function(){
this._bgIframe.destroy();
this.inherited(arguments);
}});
dojo.declare("net.jazz.web.ui.internal.CustomMenu",dijit.Menu,{constructor:function(_5e){
this._predecessor=_5e.predecessor;
this._successor=_5e.successor;
},postCreate:function(){
this.inherited(arguments);
this.connect(this,"onkeypress",this._onKeyPress);
},focusNext:function(){
if(this.focusedChild){
var _5f=this.getChildren();
if(this.focusedChild==_5f[_5f.length-1]){
return;
}
}
this.inherited(arguments);
},focusPrev:function(){
if(this.focusedChild){
var _60=this.getChildren();
if(this.focusedChild==_60[0]){
this._onChildBlur(this.focusedChild);
this.focusedChild=null;
this._predecessor.focus();
return;
}
}
this.inherited(arguments);
},onItemHover:function(_61){
dojo.addClass(_61.domNode,"dijitMenuItemHover");
},onItemUnhover:function(_62){
dojo.removeClass(_62.domNode,"dijitMenuItemHover");
},_onKeyPress:function(e){
if(e.keyCode==dojo.keys.TAB){
if(e.shiftKey){
this._predecessor.focus();
}else{
this._successor.focus();
}
}
}});
dojo.declare("net.jazz.web.ui.internal.DisabledMenuItem",dijit.MenuItem,{postCreate:function(){
this.inherited(arguments);
dojo.addClass(this.domNode,"disabled");
dojo.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
dojo.declare("net.jazz.web.ui.internal.BannerSearchArea",[dijit._Widget,dijit._Templated],{templatePath:dojo.moduleUrl("jazz.ui","templates/BannerSearch.html"),constructor:function(_63){
this.messages=_1;
},postCreate:function(){
this.scopeMessage=jazz.util.i18n.addMessage(this.scopeText,_1.scopeText)[0];
dojo.addClass(this.scopeMessage,"scope-text");
}});
})();


jazz.core.loader._loaded = jazz.core.loader._loaded.concat(["R","S","T","U","V","W","M","N","O","X","Y","Z","a","b"]);
